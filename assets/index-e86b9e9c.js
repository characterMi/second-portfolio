(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();function z8(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var vM={exports:{}},A2={},yM={exports:{}},bt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ad=Symbol.for("react.element"),UB=Symbol.for("react.portal"),kB=Symbol.for("react.fragment"),HB=Symbol.for("react.strict_mode"),zB=Symbol.for("react.profiler"),GB=Symbol.for("react.provider"),VB=Symbol.for("react.context"),WB=Symbol.for("react.forward_ref"),jB=Symbol.for("react.suspense"),qB=Symbol.for("react.memo"),XB=Symbol.for("react.lazy"),ey=Symbol.iterator;function JB(n){return n===null||typeof n!="object"?null:(n=ey&&n[ey]||n["@@iterator"],typeof n=="function"?n:null)}var xM={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_M=Object.assign,AM={};function Du(n,e,t){this.props=n,this.context=e,this.refs=AM,this.updater=t||xM}Du.prototype.isReactComponent={};Du.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};Du.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function SM(){}SM.prototype=Du.prototype;function G8(n,e,t){this.props=n,this.context=e,this.refs=AM,this.updater=t||xM}var V8=G8.prototype=new SM;V8.constructor=G8;_M(V8,Du.prototype);V8.isPureReactComponent=!0;var ty=Array.isArray,MM=Object.prototype.hasOwnProperty,W8={current:null},EM={key:!0,ref:!0,__self:!0,__source:!0};function wM(n,e,t){var i,r={},s=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)MM.call(e,i)&&!EM.hasOwnProperty(i)&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=t;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}if(n&&n.defaultProps)for(i in a=n.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return{$$typeof:ad,type:n,key:s,ref:o,props:r,_owner:W8.current}}function KB(n,e){return{$$typeof:ad,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function j8(n){return typeof n=="object"&&n!==null&&n.$$typeof===ad}function YB(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var ny=/\/+/g;function U1(n,e){return typeof n=="object"&&n!==null&&n.key!=null?YB(""+n.key):e.toString(36)}function tp(n,e,t,i,r){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case ad:case UB:o=!0}}if(o)return o=n,r=r(o),n=i===""?"."+U1(o,0):i,ty(r)?(t="",n!=null&&(t=n.replace(ny,"$&/")+"/"),tp(r,e,t,"",function(c){return c})):r!=null&&(j8(r)&&(r=KB(r,t+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(ny,"$&/")+"/")+n)),e.push(r)),1;if(o=0,i=i===""?".":i+":",ty(n))for(var a=0;a<n.length;a++){s=n[a];var l=i+U1(s,a);o+=tp(s,e,t,l,r)}else if(l=JB(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=i+U1(s,a++),o+=tp(s,e,t,l,r);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function U3(n,e,t){if(n==null)return n;var i=[],r=0;return tp(n,i,"","",function(s){return e.call(t,s,r++)}),i}function QB(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var Pi={current:null},np={transition:null},ZB={ReactCurrentDispatcher:Pi,ReactCurrentBatchConfig:np,ReactCurrentOwner:W8};bt.Children={map:U3,forEach:function(n,e,t){U3(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return U3(n,function(){e++}),e},toArray:function(n){return U3(n,function(e){return e})||[]},only:function(n){if(!j8(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};bt.Component=Du;bt.Fragment=kB;bt.Profiler=zB;bt.PureComponent=G8;bt.StrictMode=HB;bt.Suspense=jB;bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ZB;bt.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var i=_M({},n.props),r=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=W8.current),e.key!==void 0&&(r=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)MM.call(e,l)&&!EM.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=t;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];i.children=a}return{$$typeof:ad,type:n.type,key:r,ref:s,props:i,_owner:o}};bt.createContext=function(n){return n={$$typeof:VB,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:GB,_context:n},n.Consumer=n};bt.createElement=wM;bt.createFactory=function(n){var e=wM.bind(null,n);return e.type=n,e};bt.createRef=function(){return{current:null}};bt.forwardRef=function(n){return{$$typeof:WB,render:n}};bt.isValidElement=j8;bt.lazy=function(n){return{$$typeof:XB,_payload:{_status:-1,_result:n},_init:QB}};bt.memo=function(n,e){return{$$typeof:qB,type:n,compare:e===void 0?null:e}};bt.startTransition=function(n){var e=np.transition;np.transition={};try{n()}finally{np.transition=e}};bt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};bt.useCallback=function(n,e){return Pi.current.useCallback(n,e)};bt.useContext=function(n){return Pi.current.useContext(n)};bt.useDebugValue=function(){};bt.useDeferredValue=function(n){return Pi.current.useDeferredValue(n)};bt.useEffect=function(n,e){return Pi.current.useEffect(n,e)};bt.useId=function(){return Pi.current.useId()};bt.useImperativeHandle=function(n,e,t){return Pi.current.useImperativeHandle(n,e,t)};bt.useInsertionEffect=function(n,e){return Pi.current.useInsertionEffect(n,e)};bt.useLayoutEffect=function(n,e){return Pi.current.useLayoutEffect(n,e)};bt.useMemo=function(n,e){return Pi.current.useMemo(n,e)};bt.useReducer=function(n,e,t){return Pi.current.useReducer(n,e,t)};bt.useRef=function(n){return Pi.current.useRef(n)};bt.useState=function(n){return Pi.current.useState(n)};bt.useSyncExternalStore=function(n,e,t){return Pi.current.useSyncExternalStore(n,e,t)};bt.useTransition=function(){return Pi.current.useTransition()};bt.version="18.2.0";yM.exports=bt;var k=yM.exports;const Jf=z8(k);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $B=k,eI=Symbol.for("react.element"),tI=Symbol.for("react.fragment"),nI=Object.prototype.hasOwnProperty,iI=$B.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,rI={key:!0,ref:!0,__self:!0,__source:!0};function TM(n,e,t){var i,r={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)nI.call(e,i)&&!rI.hasOwnProperty(i)&&(r[i]=e[i]);if(n&&n.defaultProps)for(i in e=n.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:eI,type:n,key:s,ref:o,props:r,_owner:iI.current}}A2.Fragment=tI;A2.jsx=TM;A2.jsxs=TM;vM.exports=A2;var J=vM.exports,CM={exports:{}},ar={},bM={exports:{}},PM={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(D,W){var j=D.length;D.push(W);e:for(;0<j;){var N=j-1>>>1,X=D[N];if(0<r(X,W))D[N]=W,D[j]=X,j=N;else break e}}function t(D){return D.length===0?null:D[0]}function i(D){if(D.length===0)return null;var W=D[0],j=D.pop();if(j!==W){D[0]=j;e:for(var N=0,X=D.length,ce=X>>>1;N<ce;){var me=2*(N+1)-1,ve=D[me],Pe=me+1,Le=D[Pe];if(0>r(ve,j))Pe<X&&0>r(Le,ve)?(D[N]=Le,D[Pe]=j,N=Pe):(D[N]=ve,D[me]=j,N=me);else if(Pe<X&&0>r(Le,j))D[N]=Le,D[Pe]=j,N=Pe;else break e}}return W}function r(D,W){var j=D.sortIndex-W.sortIndex;return j!==0?j:D.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],h=1,d=null,p=3,m=!1,v=!1,S=!1,_=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(D){for(var W=t(c);W!==null;){if(W.callback===null)i(c);else if(W.startTime<=D)i(c),W.sortIndex=W.expirationTime,e(l,W);else break;W=t(c)}}function E(D){if(S=!1,A(D),!v)if(t(l)!==null)v=!0,ne(T);else{var W=t(c);W!==null&&te(E,W.startTime-D)}}function T(D,W){v=!1,S&&(S=!1,g(I),I=-1),m=!0;var j=p;try{for(A(W),d=t(l);d!==null&&(!(d.expirationTime>W)||D&&!U());){var N=d.callback;if(typeof N=="function"){d.callback=null,p=d.priorityLevel;var X=N(d.expirationTime<=W);W=n.unstable_now(),typeof X=="function"?d.callback=X:d===t(l)&&i(l),A(W)}else i(l);d=t(l)}if(d!==null)var ce=!0;else{var me=t(c);me!==null&&te(E,me.startTime-W),ce=!1}return ce}finally{d=null,p=j,m=!1}}var C=!1,R=null,I=-1,P=5,B=-1;function U(){return!(n.unstable_now()-B<P)}function Y(){if(R!==null){var D=n.unstable_now();B=D;var W=!0;try{W=R(!0,D)}finally{W?ee():(C=!1,R=null)}}else C=!1}var ee;if(typeof x=="function")ee=function(){x(Y)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,Q=V.port2;V.port1.onmessage=Y,ee=function(){Q.postMessage(null)}}else ee=function(){_(Y,0)};function ne(D){R=D,C||(C=!0,ee())}function te(D,W){I=_(function(){D(n.unstable_now())},W)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(D){D.callback=null},n.unstable_continueExecution=function(){v||m||(v=!0,ne(T))},n.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<D?Math.floor(1e3/D):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(D){switch(p){case 1:case 2:case 3:var W=3;break;default:W=p}var j=p;p=W;try{return D()}finally{p=j}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(D,W){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var j=p;p=D;try{return W()}finally{p=j}},n.unstable_scheduleCallback=function(D,W,j){var N=n.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?N+j:N):j=N,D){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=j+X,D={id:h++,callback:W,priorityLevel:D,startTime:j,expirationTime:X,sortIndex:-1},j>N?(D.sortIndex=j,e(c,D),t(l)===null&&D===t(c)&&(S?(g(I),I=-1):S=!0,te(E,j-N))):(D.sortIndex=X,e(l,D),v||m||(v=!0,ne(T))),D},n.unstable_shouldYield=U,n.unstable_wrapCallback=function(D){var W=p;return function(){var j=p;p=W;try{return D.apply(this,arguments)}finally{p=j}}}})(PM);bM.exports=PM;var sI=bM.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RM=k,rr=sI;function Ce(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var BM=new Set,yh={};function Rl(n,e){du(n,e),du(n+"Capture",e)}function du(n,e){for(yh[n]=e,n=0;n<e.length;n++)BM.add(e[n])}var co=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),C6=Object.prototype.hasOwnProperty,oI=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,iy={},ry={};function aI(n){return C6.call(ry,n)?!0:C6.call(iy,n)?!1:oI.test(n)?ry[n]=!0:(iy[n]=!0,!1)}function lI(n,e,t,i){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function cI(n,e,t,i){if(e===null||typeof e>"u"||lI(n,e,t,i))return!0;if(i)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ri(n,e,t,i,r,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var oi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){oi[n]=new Ri(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];oi[e]=new Ri(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){oi[n]=new Ri(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){oi[n]=new Ri(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){oi[n]=new Ri(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){oi[n]=new Ri(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){oi[n]=new Ri(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){oi[n]=new Ri(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){oi[n]=new Ri(n,5,!1,n.toLowerCase(),null,!1,!1)});var q8=/[\-:]([a-z])/g;function X8(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(q8,X8);oi[e]=new Ri(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(q8,X8);oi[e]=new Ri(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(q8,X8);oi[e]=new Ri(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){oi[n]=new Ri(n,1,!1,n.toLowerCase(),null,!1,!1)});oi.xlinkHref=new Ri("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){oi[n]=new Ri(n,1,!1,n.toLowerCase(),null,!0,!0)});function J8(n,e,t,i){var r=oi.hasOwnProperty(e)?oi[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(cI(e,t,r,i)&&(t=null),i||r===null?aI(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):r.mustUseProperty?n[r.propertyName]=t===null?r.type===3?!1:"":t:(e=r.attributeName,i=r.attributeNamespace,t===null?n.removeAttribute(e):(r=r.type,t=r===3||r===4&&t===!0?"":""+t,i?n.setAttributeNS(i,e,t):n.setAttribute(e,t))))}var vo=RM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k3=Symbol.for("react.element"),Bc=Symbol.for("react.portal"),Ic=Symbol.for("react.fragment"),K8=Symbol.for("react.strict_mode"),b6=Symbol.for("react.profiler"),IM=Symbol.for("react.provider"),LM=Symbol.for("react.context"),Y8=Symbol.for("react.forward_ref"),P6=Symbol.for("react.suspense"),R6=Symbol.for("react.suspense_list"),Q8=Symbol.for("react.memo"),ko=Symbol.for("react.lazy"),DM=Symbol.for("react.offscreen"),sy=Symbol.iterator;function ff(n){return n===null||typeof n!="object"?null:(n=sy&&n[sy]||n["@@iterator"],typeof n=="function"?n:null)}var gn=Object.assign,k1;function Hf(n){if(k1===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);k1=e&&e[1]||""}return`
`+k1+n}var H1=!1;function z1(n,e){if(!n||H1)return"";H1=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var i=c}Reflect.construct(n,[],e)}else{try{e.call()}catch(c){i=c}n.call(e.prototype)}else{try{throw Error()}catch(c){i=c}n()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var r=c.stack.split(`
`),s=i.stack.split(`
`),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==s[a]){var l=`
`+r[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{H1=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?Hf(n):""}function uI(n){switch(n.tag){case 5:return Hf(n.type);case 16:return Hf("Lazy");case 13:return Hf("Suspense");case 19:return Hf("SuspenseList");case 0:case 2:case 15:return n=z1(n.type,!1),n;case 11:return n=z1(n.type.render,!1),n;case 1:return n=z1(n.type,!0),n;default:return""}}function B6(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Ic:return"Fragment";case Bc:return"Portal";case b6:return"Profiler";case K8:return"StrictMode";case P6:return"Suspense";case R6:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case LM:return(n.displayName||"Context")+".Consumer";case IM:return(n._context.displayName||"Context")+".Provider";case Y8:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Q8:return e=n.displayName||null,e!==null?e:B6(n.type)||"Memo";case ko:e=n._payload,n=n._init;try{return B6(n(e))}catch{}}return null}function fI(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B6(e);case 8:return e===K8?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function la(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function FM(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function hI(n){var e=FM(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),i=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var r=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function H3(n){n._valueTracker||(n._valueTracker=hI(n))}function NM(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),i="";return n&&(i=FM(n)?n.checked?"true":"false":n.value),n=i,n!==t?(e.setValue(n),!0):!1}function Cp(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function I6(n,e){var t=e.checked;return gn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function oy(n,e){var t=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;t=la(e.value!=null?e.value:t),n._wrapperState={initialChecked:i,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function OM(n,e){e=e.checked,e!=null&&J8(n,"checked",e,!1)}function L6(n,e){OM(n,e);var t=la(e.value),i=e.type;if(t!=null)i==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(i==="submit"||i==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?D6(n,e.type,t):e.hasOwnProperty("defaultValue")&&D6(n,e.type,la(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function ay(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function D6(n,e,t){(e!=="number"||Cp(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var zf=Array.isArray;function $c(n,e,t,i){if(n=n.options,e){e={};for(var r=0;r<t.length;r++)e["$"+t[r]]=!0;for(t=0;t<n.length;t++)r=e.hasOwnProperty("$"+n[t].value),n[t].selected!==r&&(n[t].selected=r),r&&i&&(n[t].defaultSelected=!0)}else{for(t=""+la(t),e=null,r=0;r<n.length;r++){if(n[r].value===t){n[r].selected=!0,i&&(n[r].defaultSelected=!0);return}e!==null||n[r].disabled||(e=n[r])}e!==null&&(e.selected=!0)}}function F6(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ce(91));return gn({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function ly(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(Ce(92));if(zf(t)){if(1<t.length)throw Error(Ce(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:la(t)}}function UM(n,e){var t=la(e.value),i=la(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),i!=null&&(n.defaultValue=""+i)}function cy(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function kM(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function N6(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?kM(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var z3,HM=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,i,r){MSApp.execUnsafeLocalFunction(function(){return n(e,t,i,r)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(z3=z3||document.createElement("div"),z3.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=z3.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function xh(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var Kf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},dI=["Webkit","ms","Moz","O"];Object.keys(Kf).forEach(function(n){dI.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),Kf[e]=Kf[n]})});function zM(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||Kf.hasOwnProperty(n)&&Kf[n]?(""+e).trim():e+"px"}function GM(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var i=t.indexOf("--")===0,r=zM(t,e[t],i);t==="float"&&(t="cssFloat"),i?n.setProperty(t,r):n[t]=r}}var pI=gn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function O6(n,e){if(e){if(pI[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ce(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ce(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ce(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ce(62))}}function U6(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var k6=null;function Z8(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var H6=null,eu=null,tu=null;function uy(n){if(n=ud(n)){if(typeof H6!="function")throw Error(Ce(280));var e=n.stateNode;e&&(e=T2(e),H6(n.stateNode,n.type,e))}}function VM(n){eu?tu?tu.push(n):tu=[n]:eu=n}function WM(){if(eu){var n=eu,e=tu;if(tu=eu=null,uy(n),e)for(n=0;n<e.length;n++)uy(e[n])}}function jM(n,e){return n(e)}function qM(){}var G1=!1;function XM(n,e,t){if(G1)return n(e,t);G1=!0;try{return jM(n,e,t)}finally{G1=!1,(eu!==null||tu!==null)&&(qM(),WM())}}function _h(n,e){var t=n.stateNode;if(t===null)return null;var i=T2(t);if(i===null)return null;t=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(n=n.type,i=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!i;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(Ce(231,e,typeof t));return t}var z6=!1;if(co)try{var hf={};Object.defineProperty(hf,"passive",{get:function(){z6=!0}}),window.addEventListener("test",hf,hf),window.removeEventListener("test",hf,hf)}catch{z6=!1}function mI(n,e,t,i,r,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(h){this.onError(h)}}var Yf=!1,bp=null,Pp=!1,G6=null,gI={onError:function(n){Yf=!0,bp=n}};function vI(n,e,t,i,r,s,o,a,l){Yf=!1,bp=null,mI.apply(gI,arguments)}function yI(n,e,t,i,r,s,o,a,l){if(vI.apply(this,arguments),Yf){if(Yf){var c=bp;Yf=!1,bp=null}else throw Error(Ce(198));Pp||(Pp=!0,G6=c)}}function Bl(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function JM(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function fy(n){if(Bl(n)!==n)throw Error(Ce(188))}function xI(n){var e=n.alternate;if(!e){if(e=Bl(n),e===null)throw Error(Ce(188));return e!==n?null:n}for(var t=n,i=e;;){var r=t.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){t=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===t)return fy(r),n;if(s===i)return fy(r),e;s=s.sibling}throw Error(Ce(188))}if(t.return!==i.return)t=r,i=s;else{for(var o=!1,a=r.child;a;){if(a===t){o=!0,t=r,i=s;break}if(a===i){o=!0,i=r,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,i=r;break}if(a===i){o=!0,i=s,t=r;break}a=a.sibling}if(!o)throw Error(Ce(189))}}if(t.alternate!==i)throw Error(Ce(190))}if(t.tag!==3)throw Error(Ce(188));return t.stateNode.current===t?n:e}function KM(n){return n=xI(n),n!==null?YM(n):null}function YM(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=YM(n);if(e!==null)return e;n=n.sibling}return null}var QM=rr.unstable_scheduleCallback,hy=rr.unstable_cancelCallback,_I=rr.unstable_shouldYield,AI=rr.unstable_requestPaint,Pn=rr.unstable_now,SI=rr.unstable_getCurrentPriorityLevel,$8=rr.unstable_ImmediatePriority,ZM=rr.unstable_UserBlockingPriority,Rp=rr.unstable_NormalPriority,MI=rr.unstable_LowPriority,$M=rr.unstable_IdlePriority,S2=null,Ms=null;function EI(n){if(Ms&&typeof Ms.onCommitFiberRoot=="function")try{Ms.onCommitFiberRoot(S2,n,void 0,(n.current.flags&128)===128)}catch{}}var Qr=Math.clz32?Math.clz32:CI,wI=Math.log,TI=Math.LN2;function CI(n){return n>>>=0,n===0?32:31-(wI(n)/TI|0)|0}var G3=64,V3=4194304;function Gf(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Bp(n,e){var t=n.pendingLanes;if(t===0)return 0;var i=0,r=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~r;a!==0?i=Gf(a):(s&=o,s!==0&&(i=Gf(s)))}else o=t&~r,o!==0?i=Gf(o):s!==0&&(i=Gf(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=i;0<e;)t=31-Qr(e),r=1<<t,i|=n[t],e&=~r;return i}function bI(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function PI(n,e){for(var t=n.suspendedLanes,i=n.pingedLanes,r=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-Qr(s),a=1<<o,l=r[o];l===-1?(!(a&t)||a&i)&&(r[o]=bI(a,e)):l<=e&&(n.expiredLanes|=a),s&=~a}}function V6(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function eE(){var n=G3;return G3<<=1,!(G3&4194240)&&(G3=64),n}function V1(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function ld(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-Qr(e),n[e]=t}function RI(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var i=n.eventTimes;for(n=n.expirationTimes;0<t;){var r=31-Qr(t),s=1<<r;e[r]=0,i[r]=-1,n[r]=-1,t&=~s}}function e4(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var i=31-Qr(t),r=1<<i;r&e|n[i]&e&&(n[i]|=e),t&=~r}}var jt=0;function tE(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var nE,t4,iE,rE,sE,W6=!1,W3=[],Ko=null,Yo=null,Qo=null,Ah=new Map,Sh=new Map,Vo=[],BI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function dy(n,e){switch(n){case"focusin":case"focusout":Ko=null;break;case"dragenter":case"dragleave":Yo=null;break;case"mouseover":case"mouseout":Qo=null;break;case"pointerover":case"pointerout":Ah.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sh.delete(e.pointerId)}}function df(n,e,t,i,r,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=ud(e),e!==null&&t4(e)),n):(n.eventSystemFlags|=i,e=n.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),n)}function II(n,e,t,i,r){switch(e){case"focusin":return Ko=df(Ko,n,e,t,i,r),!0;case"dragenter":return Yo=df(Yo,n,e,t,i,r),!0;case"mouseover":return Qo=df(Qo,n,e,t,i,r),!0;case"pointerover":var s=r.pointerId;return Ah.set(s,df(Ah.get(s)||null,n,e,t,i,r)),!0;case"gotpointercapture":return s=r.pointerId,Sh.set(s,df(Sh.get(s)||null,n,e,t,i,r)),!0}return!1}function oE(n){var e=nl(n.target);if(e!==null){var t=Bl(e);if(t!==null){if(e=t.tag,e===13){if(e=JM(t),e!==null){n.blockedOn=e,sE(n.priority,function(){iE(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function ip(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=j6(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var i=new t.constructor(t.type,t);k6=i,t.target.dispatchEvent(i),k6=null}else return e=ud(t),e!==null&&t4(e),n.blockedOn=t,!1;e.shift()}return!0}function py(n,e,t){ip(n)&&t.delete(e)}function LI(){W6=!1,Ko!==null&&ip(Ko)&&(Ko=null),Yo!==null&&ip(Yo)&&(Yo=null),Qo!==null&&ip(Qo)&&(Qo=null),Ah.forEach(py),Sh.forEach(py)}function pf(n,e){n.blockedOn===e&&(n.blockedOn=null,W6||(W6=!0,rr.unstable_scheduleCallback(rr.unstable_NormalPriority,LI)))}function Mh(n){function e(r){return pf(r,n)}if(0<W3.length){pf(W3[0],n);for(var t=1;t<W3.length;t++){var i=W3[t];i.blockedOn===n&&(i.blockedOn=null)}}for(Ko!==null&&pf(Ko,n),Yo!==null&&pf(Yo,n),Qo!==null&&pf(Qo,n),Ah.forEach(e),Sh.forEach(e),t=0;t<Vo.length;t++)i=Vo[t],i.blockedOn===n&&(i.blockedOn=null);for(;0<Vo.length&&(t=Vo[0],t.blockedOn===null);)oE(t),t.blockedOn===null&&Vo.shift()}var nu=vo.ReactCurrentBatchConfig,Ip=!0;function DI(n,e,t,i){var r=jt,s=nu.transition;nu.transition=null;try{jt=1,n4(n,e,t,i)}finally{jt=r,nu.transition=s}}function FI(n,e,t,i){var r=jt,s=nu.transition;nu.transition=null;try{jt=4,n4(n,e,t,i)}finally{jt=r,nu.transition=s}}function n4(n,e,t,i){if(Ip){var r=j6(n,e,t,i);if(r===null)$1(n,e,i,Lp,t),dy(n,i);else if(II(r,n,e,t,i))i.stopPropagation();else if(dy(n,i),e&4&&-1<BI.indexOf(n)){for(;r!==null;){var s=ud(r);if(s!==null&&nE(s),s=j6(n,e,t,i),s===null&&$1(n,e,i,Lp,t),s===r)break;r=s}r!==null&&i.stopPropagation()}else $1(n,e,i,null,t)}}var Lp=null;function j6(n,e,t,i){if(Lp=null,n=Z8(i),n=nl(n),n!==null)if(e=Bl(n),e===null)n=null;else if(t=e.tag,t===13){if(n=JM(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return Lp=n,null}function aE(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(SI()){case $8:return 1;case ZM:return 4;case Rp:case MI:return 16;case $M:return 536870912;default:return 16}default:return 16}}var jo=null,i4=null,rp=null;function lE(){if(rp)return rp;var n,e=i4,t=e.length,i,r="value"in jo?jo.value:jo.textContent,s=r.length;for(n=0;n<t&&e[n]===r[n];n++);var o=t-n;for(i=1;i<=o&&e[t-i]===r[s-i];i++);return rp=r.slice(n,1<i?1-i:void 0)}function sp(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function j3(){return!0}function my(){return!1}function lr(n){function e(t,i,r,s,o){this._reactName=t,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?j3:my,this.isPropagationStopped=my,this}return gn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=j3)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=j3)},persist:function(){},isPersistent:j3}),e}var Fu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},r4=lr(Fu),cd=gn({},Fu,{view:0,detail:0}),NI=lr(cd),W1,j1,mf,M2=gn({},cd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:s4,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==mf&&(mf&&n.type==="mousemove"?(W1=n.screenX-mf.screenX,j1=n.screenY-mf.screenY):j1=W1=0,mf=n),W1)},movementY:function(n){return"movementY"in n?n.movementY:j1}}),gy=lr(M2),OI=gn({},M2,{dataTransfer:0}),UI=lr(OI),kI=gn({},cd,{relatedTarget:0}),q1=lr(kI),HI=gn({},Fu,{animationName:0,elapsedTime:0,pseudoElement:0}),zI=lr(HI),GI=gn({},Fu,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),VI=lr(GI),WI=gn({},Fu,{data:0}),vy=lr(WI),jI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},XI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function JI(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=XI[n])?!!e[n]:!1}function s4(){return JI}var KI=gn({},cd,{key:function(n){if(n.key){var e=jI[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=sp(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?qI[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:s4,charCode:function(n){return n.type==="keypress"?sp(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?sp(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),YI=lr(KI),QI=gn({},M2,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yy=lr(QI),ZI=gn({},cd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:s4}),$I=lr(ZI),eL=gn({},Fu,{propertyName:0,elapsedTime:0,pseudoElement:0}),tL=lr(eL),nL=gn({},M2,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),iL=lr(nL),rL=[9,13,27,32],o4=co&&"CompositionEvent"in window,Qf=null;co&&"documentMode"in document&&(Qf=document.documentMode);var sL=co&&"TextEvent"in window&&!Qf,cE=co&&(!o4||Qf&&8<Qf&&11>=Qf),xy=String.fromCharCode(32),_y=!1;function uE(n,e){switch(n){case"keyup":return rL.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fE(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Lc=!1;function oL(n,e){switch(n){case"compositionend":return fE(e);case"keypress":return e.which!==32?null:(_y=!0,xy);case"textInput":return n=e.data,n===xy&&_y?null:n;default:return null}}function aL(n,e){if(Lc)return n==="compositionend"||!o4&&uE(n,e)?(n=lE(),rp=i4=jo=null,Lc=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return cE&&e.locale!=="ko"?null:e.data;default:return null}}var lL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ay(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!lL[n.type]:e==="textarea"}function hE(n,e,t,i){VM(i),e=Dp(e,"onChange"),0<e.length&&(t=new r4("onChange","change",null,t,i),n.push({event:t,listeners:e}))}var Zf=null,Eh=null;function cL(n){ME(n,0)}function E2(n){var e=Nc(n);if(NM(e))return n}function uL(n,e){if(n==="change")return e}var dE=!1;if(co){var X1;if(co){var J1="oninput"in document;if(!J1){var Sy=document.createElement("div");Sy.setAttribute("oninput","return;"),J1=typeof Sy.oninput=="function"}X1=J1}else X1=!1;dE=X1&&(!document.documentMode||9<document.documentMode)}function My(){Zf&&(Zf.detachEvent("onpropertychange",pE),Eh=Zf=null)}function pE(n){if(n.propertyName==="value"&&E2(Eh)){var e=[];hE(e,Eh,n,Z8(n)),XM(cL,e)}}function fL(n,e,t){n==="focusin"?(My(),Zf=e,Eh=t,Zf.attachEvent("onpropertychange",pE)):n==="focusout"&&My()}function hL(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return E2(Eh)}function dL(n,e){if(n==="click")return E2(e)}function pL(n,e){if(n==="input"||n==="change")return E2(e)}function mL(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var es=typeof Object.is=="function"?Object.is:mL;function wh(n,e){if(es(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),i=Object.keys(e);if(t.length!==i.length)return!1;for(i=0;i<t.length;i++){var r=t[i];if(!C6.call(e,r)||!es(n[r],e[r]))return!1}return!0}function Ey(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function wy(n,e){var t=Ey(n);n=0;for(var i;t;){if(t.nodeType===3){if(i=n+t.textContent.length,n<=e&&i>=e)return{node:t,offset:e-n};n=i}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=Ey(t)}}function mE(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?mE(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function gE(){for(var n=window,e=Cp();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=Cp(n.document)}return e}function a4(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function gL(n){var e=gE(),t=n.focusedElem,i=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&mE(t.ownerDocument.documentElement,t)){if(i!==null&&a4(t)){if(e=i.start,n=i.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var r=t.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!n.extend&&s>i&&(r=i,i=s,s=r),r=wy(t,s);var o=wy(t,i);r&&o&&(n.rangeCount!==1||n.anchorNode!==r.node||n.anchorOffset!==r.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),n.removeAllRanges(),s>i?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var vL=co&&"documentMode"in document&&11>=document.documentMode,Dc=null,q6=null,$f=null,X6=!1;function Ty(n,e,t){var i=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;X6||Dc==null||Dc!==Cp(i)||(i=Dc,"selectionStart"in i&&a4(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),$f&&wh($f,i)||($f=i,i=Dp(q6,"onSelect"),0<i.length&&(e=new r4("onSelect","select",null,e,t),n.push({event:e,listeners:i}),e.target=Dc)))}function q3(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var Fc={animationend:q3("Animation","AnimationEnd"),animationiteration:q3("Animation","AnimationIteration"),animationstart:q3("Animation","AnimationStart"),transitionend:q3("Transition","TransitionEnd")},K1={},vE={};co&&(vE=document.createElement("div").style,"AnimationEvent"in window||(delete Fc.animationend.animation,delete Fc.animationiteration.animation,delete Fc.animationstart.animation),"TransitionEvent"in window||delete Fc.transitionend.transition);function w2(n){if(K1[n])return K1[n];if(!Fc[n])return n;var e=Fc[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in vE)return K1[n]=e[t];return n}var yE=w2("animationend"),xE=w2("animationiteration"),_E=w2("animationstart"),AE=w2("transitionend"),SE=new Map,Cy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function va(n,e){SE.set(n,e),Rl(e,[n])}for(var Y1=0;Y1<Cy.length;Y1++){var Q1=Cy[Y1],yL=Q1.toLowerCase(),xL=Q1[0].toUpperCase()+Q1.slice(1);va(yL,"on"+xL)}va(yE,"onAnimationEnd");va(xE,"onAnimationIteration");va(_E,"onAnimationStart");va("dblclick","onDoubleClick");va("focusin","onFocus");va("focusout","onBlur");va(AE,"onTransitionEnd");du("onMouseEnter",["mouseout","mouseover"]);du("onMouseLeave",["mouseout","mouseover"]);du("onPointerEnter",["pointerout","pointerover"]);du("onPointerLeave",["pointerout","pointerover"]);Rl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Rl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Rl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Rl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Rl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Rl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_L=new Set("cancel close invalid load scroll toggle".split(" ").concat(Vf));function by(n,e,t){var i=n.type||"unknown-event";n.currentTarget=t,yI(i,e,void 0,n),n.currentTarget=null}function ME(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var i=n[t],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break e;by(r,a,c),s=l}else for(o=0;o<i.length;o++){if(a=i[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break e;by(r,a,c),s=l}}}if(Pp)throw n=G6,Pp=!1,G6=null,n}function $t(n,e){var t=e[Z6];t===void 0&&(t=e[Z6]=new Set);var i=n+"__bubble";t.has(i)||(EE(e,n,2,!1),t.add(i))}function Z1(n,e,t){var i=0;e&&(i|=4),EE(t,n,i,e)}var X3="_reactListening"+Math.random().toString(36).slice(2);function Th(n){if(!n[X3]){n[X3]=!0,BM.forEach(function(t){t!=="selectionchange"&&(_L.has(t)||Z1(t,!1,n),Z1(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[X3]||(e[X3]=!0,Z1("selectionchange",!1,e))}}function EE(n,e,t,i){switch(aE(e)){case 1:var r=DI;break;case 4:r=FI;break;default:r=n4}t=r.bind(null,e,t,n),r=void 0,!z6||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?n.addEventListener(e,t,{capture:!0,passive:r}):n.addEventListener(e,t,!0):r!==void 0?n.addEventListener(e,t,{passive:r}):n.addEventListener(e,t,!1)}function $1(n,e,t,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=nl(a),o===null)return;if(l=o.tag,l===5||l===6){i=s=o;continue e}a=a.parentNode}}i=i.return}XM(function(){var c=s,h=Z8(t),d=[];e:{var p=SE.get(n);if(p!==void 0){var m=r4,v=n;switch(n){case"keypress":if(sp(t)===0)break e;case"keydown":case"keyup":m=YI;break;case"focusin":v="focus",m=q1;break;case"focusout":v="blur",m=q1;break;case"beforeblur":case"afterblur":m=q1;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=gy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=UI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=$I;break;case yE:case xE:case _E:m=zI;break;case AE:m=tL;break;case"scroll":m=NI;break;case"wheel":m=iL;break;case"copy":case"cut":case"paste":m=VI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=yy}var S=(e&4)!==0,_=!S&&n==="scroll",g=S?p!==null?p+"Capture":null:p;S=[];for(var x=c,A;x!==null;){A=x;var E=A.stateNode;if(A.tag===5&&E!==null&&(A=E,g!==null&&(E=_h(x,g),E!=null&&S.push(Ch(x,E,A)))),_)break;x=x.return}0<S.length&&(p=new m(p,v,null,t,h),d.push({event:p,listeners:S}))}}if(!(e&7)){e:{if(p=n==="mouseover"||n==="pointerover",m=n==="mouseout"||n==="pointerout",p&&t!==k6&&(v=t.relatedTarget||t.fromElement)&&(nl(v)||v[uo]))break e;if((m||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,m?(v=t.relatedTarget||t.toElement,m=c,v=v?nl(v):null,v!==null&&(_=Bl(v),v!==_||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=c),m!==v)){if(S=gy,E="onMouseLeave",g="onMouseEnter",x="mouse",(n==="pointerout"||n==="pointerover")&&(S=yy,E="onPointerLeave",g="onPointerEnter",x="pointer"),_=m==null?p:Nc(m),A=v==null?p:Nc(v),p=new S(E,x+"leave",m,t,h),p.target=_,p.relatedTarget=A,E=null,nl(h)===c&&(S=new S(g,x+"enter",v,t,h),S.target=A,S.relatedTarget=_,E=S),_=E,m&&v)t:{for(S=m,g=v,x=0,A=S;A;A=tc(A))x++;for(A=0,E=g;E;E=tc(E))A++;for(;0<x-A;)S=tc(S),x--;for(;0<A-x;)g=tc(g),A--;for(;x--;){if(S===g||g!==null&&S===g.alternate)break t;S=tc(S),g=tc(g)}S=null}else S=null;m!==null&&Py(d,p,m,S,!1),v!==null&&_!==null&&Py(d,_,v,S,!0)}}e:{if(p=c?Nc(c):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var T=uL;else if(Ay(p))if(dE)T=pL;else{T=hL;var C=fL}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(T=dL);if(T&&(T=T(n,c))){hE(d,T,t,h);break e}C&&C(n,p,c),n==="focusout"&&(C=p._wrapperState)&&C.controlled&&p.type==="number"&&D6(p,"number",p.value)}switch(C=c?Nc(c):window,n){case"focusin":(Ay(C)||C.contentEditable==="true")&&(Dc=C,q6=c,$f=null);break;case"focusout":$f=q6=Dc=null;break;case"mousedown":X6=!0;break;case"contextmenu":case"mouseup":case"dragend":X6=!1,Ty(d,t,h);break;case"selectionchange":if(vL)break;case"keydown":case"keyup":Ty(d,t,h)}var R;if(o4)e:{switch(n){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else Lc?uE(n,t)&&(I="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(I="onCompositionStart");I&&(cE&&t.locale!=="ko"&&(Lc||I!=="onCompositionStart"?I==="onCompositionEnd"&&Lc&&(R=lE()):(jo=h,i4="value"in jo?jo.value:jo.textContent,Lc=!0)),C=Dp(c,I),0<C.length&&(I=new vy(I,n,null,t,h),d.push({event:I,listeners:C}),R?I.data=R:(R=fE(t),R!==null&&(I.data=R)))),(R=sL?oL(n,t):aL(n,t))&&(c=Dp(c,"onBeforeInput"),0<c.length&&(h=new vy("onBeforeInput","beforeinput",null,t,h),d.push({event:h,listeners:c}),h.data=R))}ME(d,e)})}function Ch(n,e,t){return{instance:n,listener:e,currentTarget:t}}function Dp(n,e){for(var t=e+"Capture",i=[];n!==null;){var r=n,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=_h(n,t),s!=null&&i.unshift(Ch(n,s,r)),s=_h(n,e),s!=null&&i.push(Ch(n,s,r))),n=n.return}return i}function tc(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Py(n,e,t,i,r){for(var s=e._reactName,o=[];t!==null&&t!==i;){var a=t,l=a.alternate,c=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&c!==null&&(a=c,r?(l=_h(t,s),l!=null&&o.unshift(Ch(t,l,a))):r||(l=_h(t,s),l!=null&&o.push(Ch(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var AL=/\r\n?/g,SL=/\u0000|\uFFFD/g;function Ry(n){return(typeof n=="string"?n:""+n).replace(AL,`
`).replace(SL,"")}function J3(n,e,t){if(e=Ry(e),Ry(n)!==e&&t)throw Error(Ce(425))}function Fp(){}var J6=null,K6=null;function Y6(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Q6=typeof setTimeout=="function"?setTimeout:void 0,ML=typeof clearTimeout=="function"?clearTimeout:void 0,By=typeof Promise=="function"?Promise:void 0,EL=typeof queueMicrotask=="function"?queueMicrotask:typeof By<"u"?function(n){return By.resolve(null).then(n).catch(wL)}:Q6;function wL(n){setTimeout(function(){throw n})}function e5(n,e){var t=e,i=0;do{var r=t.nextSibling;if(n.removeChild(t),r&&r.nodeType===8)if(t=r.data,t==="/$"){if(i===0){n.removeChild(r),Mh(e);return}i--}else t!=="$"&&t!=="$?"&&t!=="$!"||i++;t=r}while(t);Mh(e)}function Zo(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function Iy(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var Nu=Math.random().toString(36).slice(2),_s="__reactFiber$"+Nu,bh="__reactProps$"+Nu,uo="__reactContainer$"+Nu,Z6="__reactEvents$"+Nu,TL="__reactListeners$"+Nu,CL="__reactHandles$"+Nu;function nl(n){var e=n[_s];if(e)return e;for(var t=n.parentNode;t;){if(e=t[uo]||t[_s]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=Iy(n);n!==null;){if(t=n[_s])return t;n=Iy(n)}return e}n=t,t=n.parentNode}return null}function ud(n){return n=n[_s]||n[uo],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Nc(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(Ce(33))}function T2(n){return n[bh]||null}var $6=[],Oc=-1;function ya(n){return{current:n}}function nn(n){0>Oc||(n.current=$6[Oc],$6[Oc]=null,Oc--)}function Qt(n,e){Oc++,$6[Oc]=n.current,n.current=e}var ca={},_i=ya(ca),zi=ya(!1),yl=ca;function pu(n,e){var t=n.type.contextTypes;if(!t)return ca;var i=n.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in t)r[s]=e[s];return i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=r),r}function Gi(n){return n=n.childContextTypes,n!=null}function Np(){nn(zi),nn(_i)}function Ly(n,e,t){if(_i.current!==ca)throw Error(Ce(168));Qt(_i,e),Qt(zi,t)}function wE(n,e,t){var i=n.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return t;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(Ce(108,fI(n)||"Unknown",r));return gn({},t,i)}function Op(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||ca,yl=_i.current,Qt(_i,n),Qt(zi,zi.current),!0}function Dy(n,e,t){var i=n.stateNode;if(!i)throw Error(Ce(169));t?(n=wE(n,e,yl),i.__reactInternalMemoizedMergedChildContext=n,nn(zi),nn(_i),Qt(_i,n)):nn(zi),Qt(zi,t)}var Qs=null,C2=!1,t5=!1;function TE(n){Qs===null?Qs=[n]:Qs.push(n)}function bL(n){C2=!0,TE(n)}function xa(){if(!t5&&Qs!==null){t5=!0;var n=0,e=jt;try{var t=Qs;for(jt=1;n<t.length;n++){var i=t[n];do i=i(!0);while(i!==null)}Qs=null,C2=!1}catch(r){throw Qs!==null&&(Qs=Qs.slice(n+1)),QM($8,xa),r}finally{jt=e,t5=!1}}return null}var Uc=[],kc=0,Up=null,kp=0,Mr=[],Er=0,xl=null,eo=1,to="";function ja(n,e){Uc[kc++]=kp,Uc[kc++]=Up,Up=n,kp=e}function CE(n,e,t){Mr[Er++]=eo,Mr[Er++]=to,Mr[Er++]=xl,xl=n;var i=eo;n=to;var r=32-Qr(i)-1;i&=~(1<<r),t+=1;var s=32-Qr(e)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,eo=1<<32-Qr(e)+r|t<<r|i,to=s+n}else eo=1<<s|t<<r|i,to=n}function l4(n){n.return!==null&&(ja(n,1),CE(n,1,0))}function c4(n){for(;n===Up;)Up=Uc[--kc],Uc[kc]=null,kp=Uc[--kc],Uc[kc]=null;for(;n===xl;)xl=Mr[--Er],Mr[Er]=null,to=Mr[--Er],Mr[Er]=null,eo=Mr[--Er],Mr[Er]=null}var nr=null,er=null,on=!1,qr=null;function bE(n,e){var t=br(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function Fy(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,nr=n,er=Zo(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,nr=n,er=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=xl!==null?{id:eo,overflow:to}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=br(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,nr=n,er=null,!0):!1;default:return!1}}function eg(n){return(n.mode&1)!==0&&(n.flags&128)===0}function tg(n){if(on){var e=er;if(e){var t=e;if(!Fy(n,e)){if(eg(n))throw Error(Ce(418));e=Zo(t.nextSibling);var i=nr;e&&Fy(n,e)?bE(i,t):(n.flags=n.flags&-4097|2,on=!1,nr=n)}}else{if(eg(n))throw Error(Ce(418));n.flags=n.flags&-4097|2,on=!1,nr=n}}}function Ny(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;nr=n}function K3(n){if(n!==nr)return!1;if(!on)return Ny(n),on=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!Y6(n.type,n.memoizedProps)),e&&(e=er)){if(eg(n))throw PE(),Error(Ce(418));for(;e;)bE(n,e),e=Zo(e.nextSibling)}if(Ny(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(Ce(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){er=Zo(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}er=null}}else er=nr?Zo(n.stateNode.nextSibling):null;return!0}function PE(){for(var n=er;n;)n=Zo(n.nextSibling)}function mu(){er=nr=null,on=!1}function u4(n){qr===null?qr=[n]:qr.push(n)}var PL=vo.ReactCurrentBatchConfig;function Vr(n,e){if(n&&n.defaultProps){e=gn({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}var Hp=ya(null),zp=null,Hc=null,f4=null;function h4(){f4=Hc=zp=null}function d4(n){var e=Hp.current;nn(Hp),n._currentValue=e}function ng(n,e,t){for(;n!==null;){var i=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),n===t)break;n=n.return}}function iu(n,e){zp=n,f4=Hc=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(Hi=!0),n.firstContext=null)}function Ir(n){var e=n._currentValue;if(f4!==n)if(n={context:n,memoizedValue:e,next:null},Hc===null){if(zp===null)throw Error(Ce(308));Hc=n,zp.dependencies={lanes:0,firstContext:n}}else Hc=Hc.next=n;return e}var il=null;function p4(n){il===null?il=[n]:il.push(n)}function RE(n,e,t,i){var r=e.interleaved;return r===null?(t.next=t,p4(e)):(t.next=r.next,r.next=t),e.interleaved=t,fo(n,i)}function fo(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var Ho=!1;function m4(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function BE(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function so(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function $o(n,e,t){var i=n.updateQueue;if(i===null)return null;if(i=i.shared,Ft&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,fo(n,t)}return r=i.interleaved,r===null?(e.next=e,p4(i)):(e.next=r.next,r.next=e),i.interleaved=e,fo(n,t)}function op(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,e4(n,t)}}function Oy(n,e){var t=n.updateQueue,i=n.alternate;if(i!==null&&(i=i.updateQueue,t===i)){var r=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?r=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?r=s=e:s=s.next=e}else r=s=e;t={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function Gp(n,e,t,i){var r=n.updateQueue;Ho=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var h=n.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=l))}if(s!==null){var d=r.baseState;o=0,h=c=l=null,a=s;do{var p=a.lane,m=a.eventTime;if((i&p)===p){h!==null&&(h=h.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=n,S=a;switch(p=e,m=t,S.tag){case 1:if(v=S.payload,typeof v=="function"){d=v.call(m,d,p);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=S.payload,p=typeof v=="function"?v.call(m,d,p):v,p==null)break e;d=gn({},d,p);break e;case 2:Ho=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,p=r.effects,p===null?r.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=m,l=d):h=h.next=m,o|=p;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;p=a,a=p.next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}while(1);if(h===null&&(l=d),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=h,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);Al|=o,n.lanes=o,n.memoizedState=d}}function Uy(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var i=n[e],r=i.callback;if(r!==null){if(i.callback=null,i=t,typeof r!="function")throw Error(Ce(191,r));r.call(i)}}}var IE=new RM.Component().refs;function ig(n,e,t,i){e=n.memoizedState,t=t(i,e),t=t==null?e:gn({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var b2={isMounted:function(n){return(n=n._reactInternals)?Bl(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var i=bi(),r=ta(n),s=so(i,r);s.payload=e,t!=null&&(s.callback=t),e=$o(n,s,r),e!==null&&(Zr(e,n,r,i),op(e,n,r))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var i=bi(),r=ta(n),s=so(i,r);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=$o(n,s,r),e!==null&&(Zr(e,n,r,i),op(e,n,r))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=bi(),i=ta(n),r=so(t,i);r.tag=2,e!=null&&(r.callback=e),e=$o(n,r,i),e!==null&&(Zr(e,n,i,t),op(e,n,i))}};function ky(n,e,t,i,r,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(i,s,o):e.prototype&&e.prototype.isPureReactComponent?!wh(t,i)||!wh(r,s):!0}function LE(n,e,t){var i=!1,r=ca,s=e.contextType;return typeof s=="object"&&s!==null?s=Ir(s):(r=Gi(e)?yl:_i.current,i=e.contextTypes,s=(i=i!=null)?pu(n,r):ca),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=b2,n.stateNode=e,e._reactInternals=n,i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=s),e}function Hy(n,e,t,i){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,i),e.state!==n&&b2.enqueueReplaceState(e,e.state,null)}function rg(n,e,t,i){var r=n.stateNode;r.props=t,r.state=n.memoizedState,r.refs=IE,m4(n);var s=e.contextType;typeof s=="object"&&s!==null?r.context=Ir(s):(s=Gi(e)?yl:_i.current,r.context=pu(n,s)),r.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(ig(n,e,s,t),r.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&b2.enqueueReplaceState(r,r.state,null),Gp(n,t,r,i),r.state=n.memoizedState),typeof r.componentDidMount=="function"&&(n.flags|=4194308)}function gf(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(Ce(309));var i=t.stateNode}if(!i)throw Error(Ce(147,n));var r=i,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=r.refs;a===IE&&(a=r.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(Ce(284));if(!t._owner)throw Error(Ce(290,n))}return n}function Y3(n,e){throw n=Object.prototype.toString.call(e),Error(Ce(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function zy(n){var e=n._init;return e(n._payload)}function DE(n){function e(g,x){if(n){var A=g.deletions;A===null?(g.deletions=[x],g.flags|=16):A.push(x)}}function t(g,x){if(!n)return null;for(;x!==null;)e(g,x),x=x.sibling;return null}function i(g,x){for(g=new Map;x!==null;)x.key!==null?g.set(x.key,x):g.set(x.index,x),x=x.sibling;return g}function r(g,x){return g=na(g,x),g.index=0,g.sibling=null,g}function s(g,x,A){return g.index=A,n?(A=g.alternate,A!==null?(A=A.index,A<x?(g.flags|=2,x):A):(g.flags|=2,x)):(g.flags|=1048576,x)}function o(g){return n&&g.alternate===null&&(g.flags|=2),g}function a(g,x,A,E){return x===null||x.tag!==6?(x=l5(A,g.mode,E),x.return=g,x):(x=r(x,A),x.return=g,x)}function l(g,x,A,E){var T=A.type;return T===Ic?h(g,x,A.props.children,E,A.key):x!==null&&(x.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===ko&&zy(T)===x.type)?(E=r(x,A.props),E.ref=gf(g,x,A),E.return=g,E):(E=hp(A.type,A.key,A.props,null,g.mode,E),E.ref=gf(g,x,A),E.return=g,E)}function c(g,x,A,E){return x===null||x.tag!==4||x.stateNode.containerInfo!==A.containerInfo||x.stateNode.implementation!==A.implementation?(x=c5(A,g.mode,E),x.return=g,x):(x=r(x,A.children||[]),x.return=g,x)}function h(g,x,A,E,T){return x===null||x.tag!==7?(x=hl(A,g.mode,E,T),x.return=g,x):(x=r(x,A),x.return=g,x)}function d(g,x,A){if(typeof x=="string"&&x!==""||typeof x=="number")return x=l5(""+x,g.mode,A),x.return=g,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case k3:return A=hp(x.type,x.key,x.props,null,g.mode,A),A.ref=gf(g,null,x),A.return=g,A;case Bc:return x=c5(x,g.mode,A),x.return=g,x;case ko:var E=x._init;return d(g,E(x._payload),A)}if(zf(x)||ff(x))return x=hl(x,g.mode,A,null),x.return=g,x;Y3(g,x)}return null}function p(g,x,A,E){var T=x!==null?x.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return T!==null?null:a(g,x,""+A,E);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case k3:return A.key===T?l(g,x,A,E):null;case Bc:return A.key===T?c(g,x,A,E):null;case ko:return T=A._init,p(g,x,T(A._payload),E)}if(zf(A)||ff(A))return T!==null?null:h(g,x,A,E,null);Y3(g,A)}return null}function m(g,x,A,E,T){if(typeof E=="string"&&E!==""||typeof E=="number")return g=g.get(A)||null,a(x,g,""+E,T);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case k3:return g=g.get(E.key===null?A:E.key)||null,l(x,g,E,T);case Bc:return g=g.get(E.key===null?A:E.key)||null,c(x,g,E,T);case ko:var C=E._init;return m(g,x,A,C(E._payload),T)}if(zf(E)||ff(E))return g=g.get(A)||null,h(x,g,E,T,null);Y3(x,E)}return null}function v(g,x,A,E){for(var T=null,C=null,R=x,I=x=0,P=null;R!==null&&I<A.length;I++){R.index>I?(P=R,R=null):P=R.sibling;var B=p(g,R,A[I],E);if(B===null){R===null&&(R=P);break}n&&R&&B.alternate===null&&e(g,R),x=s(B,x,I),C===null?T=B:C.sibling=B,C=B,R=P}if(I===A.length)return t(g,R),on&&ja(g,I),T;if(R===null){for(;I<A.length;I++)R=d(g,A[I],E),R!==null&&(x=s(R,x,I),C===null?T=R:C.sibling=R,C=R);return on&&ja(g,I),T}for(R=i(g,R);I<A.length;I++)P=m(R,g,I,A[I],E),P!==null&&(n&&P.alternate!==null&&R.delete(P.key===null?I:P.key),x=s(P,x,I),C===null?T=P:C.sibling=P,C=P);return n&&R.forEach(function(U){return e(g,U)}),on&&ja(g,I),T}function S(g,x,A,E){var T=ff(A);if(typeof T!="function")throw Error(Ce(150));if(A=T.call(A),A==null)throw Error(Ce(151));for(var C=T=null,R=x,I=x=0,P=null,B=A.next();R!==null&&!B.done;I++,B=A.next()){R.index>I?(P=R,R=null):P=R.sibling;var U=p(g,R,B.value,E);if(U===null){R===null&&(R=P);break}n&&R&&U.alternate===null&&e(g,R),x=s(U,x,I),C===null?T=U:C.sibling=U,C=U,R=P}if(B.done)return t(g,R),on&&ja(g,I),T;if(R===null){for(;!B.done;I++,B=A.next())B=d(g,B.value,E),B!==null&&(x=s(B,x,I),C===null?T=B:C.sibling=B,C=B);return on&&ja(g,I),T}for(R=i(g,R);!B.done;I++,B=A.next())B=m(R,g,I,B.value,E),B!==null&&(n&&B.alternate!==null&&R.delete(B.key===null?I:B.key),x=s(B,x,I),C===null?T=B:C.sibling=B,C=B);return n&&R.forEach(function(Y){return e(g,Y)}),on&&ja(g,I),T}function _(g,x,A,E){if(typeof A=="object"&&A!==null&&A.type===Ic&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case k3:e:{for(var T=A.key,C=x;C!==null;){if(C.key===T){if(T=A.type,T===Ic){if(C.tag===7){t(g,C.sibling),x=r(C,A.props.children),x.return=g,g=x;break e}}else if(C.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===ko&&zy(T)===C.type){t(g,C.sibling),x=r(C,A.props),x.ref=gf(g,C,A),x.return=g,g=x;break e}t(g,C);break}else e(g,C);C=C.sibling}A.type===Ic?(x=hl(A.props.children,g.mode,E,A.key),x.return=g,g=x):(E=hp(A.type,A.key,A.props,null,g.mode,E),E.ref=gf(g,x,A),E.return=g,g=E)}return o(g);case Bc:e:{for(C=A.key;x!==null;){if(x.key===C)if(x.tag===4&&x.stateNode.containerInfo===A.containerInfo&&x.stateNode.implementation===A.implementation){t(g,x.sibling),x=r(x,A.children||[]),x.return=g,g=x;break e}else{t(g,x);break}else e(g,x);x=x.sibling}x=c5(A,g.mode,E),x.return=g,g=x}return o(g);case ko:return C=A._init,_(g,x,C(A._payload),E)}if(zf(A))return v(g,x,A,E);if(ff(A))return S(g,x,A,E);Y3(g,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,x!==null&&x.tag===6?(t(g,x.sibling),x=r(x,A),x.return=g,g=x):(t(g,x),x=l5(A,g.mode,E),x.return=g,g=x),o(g)):t(g,x)}return _}var gu=DE(!0),FE=DE(!1),fd={},Es=ya(fd),Ph=ya(fd),Rh=ya(fd);function rl(n){if(n===fd)throw Error(Ce(174));return n}function g4(n,e){switch(Qt(Rh,e),Qt(Ph,n),Qt(Es,fd),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:N6(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=N6(e,n)}nn(Es),Qt(Es,e)}function vu(){nn(Es),nn(Ph),nn(Rh)}function NE(n){rl(Rh.current);var e=rl(Es.current),t=N6(e,n.type);e!==t&&(Qt(Ph,n),Qt(Es,t))}function v4(n){Ph.current===n&&(nn(Es),nn(Ph))}var fn=ya(0);function Vp(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var n5=[];function y4(){for(var n=0;n<n5.length;n++)n5[n]._workInProgressVersionPrimary=null;n5.length=0}var ap=vo.ReactCurrentDispatcher,i5=vo.ReactCurrentBatchConfig,_l=0,mn=null,Gn=null,Qn=null,Wp=!1,eh=!1,Bh=0,RL=0;function pi(){throw Error(Ce(321))}function x4(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!es(n[t],e[t]))return!1;return!0}function _4(n,e,t,i,r,s){if(_l=s,mn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ap.current=n===null||n.memoizedState===null?DL:FL,n=t(i,r),eh){s=0;do{if(eh=!1,Bh=0,25<=s)throw Error(Ce(301));s+=1,Qn=Gn=null,e.updateQueue=null,ap.current=NL,n=t(i,r)}while(eh)}if(ap.current=jp,e=Gn!==null&&Gn.next!==null,_l=0,Qn=Gn=mn=null,Wp=!1,e)throw Error(Ce(300));return n}function A4(){var n=Bh!==0;return Bh=0,n}function gs(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qn===null?mn.memoizedState=Qn=n:Qn=Qn.next=n,Qn}function Lr(){if(Gn===null){var n=mn.alternate;n=n!==null?n.memoizedState:null}else n=Gn.next;var e=Qn===null?mn.memoizedState:Qn.next;if(e!==null)Qn=e,Gn=n;else{if(n===null)throw Error(Ce(310));Gn=n,n={memoizedState:Gn.memoizedState,baseState:Gn.baseState,baseQueue:Gn.baseQueue,queue:Gn.queue,next:null},Qn===null?mn.memoizedState=Qn=n:Qn=Qn.next=n}return Qn}function Ih(n,e){return typeof e=="function"?e(n):e}function r5(n){var e=Lr(),t=e.queue;if(t===null)throw Error(Ce(311));t.lastRenderedReducer=n;var i=Gn,r=i.baseQueue,s=t.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,t.pending=null}if(r!==null){s=r.next,i=i.baseState;var a=o=null,l=null,c=s;do{var h=c.lane;if((_l&h)===h)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:n(i,c.action);else{var d={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=i):l=l.next=d,mn.lanes|=h,Al|=h}c=c.next}while(c!==null&&c!==s);l===null?o=i:l.next=a,es(i,e.memoizedState)||(Hi=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=l,t.lastRenderedState=i}if(n=t.interleaved,n!==null){r=n;do s=r.lane,mn.lanes|=s,Al|=s,r=r.next;while(r!==n)}else r===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function s5(n){var e=Lr(),t=e.queue;if(t===null)throw Error(Ce(311));t.lastRenderedReducer=n;var i=t.dispatch,r=t.pending,s=e.memoizedState;if(r!==null){t.pending=null;var o=r=r.next;do s=n(s,o.action),o=o.next;while(o!==r);es(s,e.memoizedState)||(Hi=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,i]}function OE(){}function UE(n,e){var t=mn,i=Lr(),r=e(),s=!es(i.memoizedState,r);if(s&&(i.memoizedState=r,Hi=!0),i=i.queue,S4(zE.bind(null,t,i,n),[n]),i.getSnapshot!==e||s||Qn!==null&&Qn.memoizedState.tag&1){if(t.flags|=2048,Lh(9,HE.bind(null,t,i,r,e),void 0,null),ei===null)throw Error(Ce(349));_l&30||kE(t,e,r)}return r}function kE(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=mn.updateQueue,e===null?(e={lastEffect:null,stores:null},mn.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function HE(n,e,t,i){e.value=t,e.getSnapshot=i,GE(e)&&VE(n)}function zE(n,e,t){return t(function(){GE(e)&&VE(n)})}function GE(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!es(n,t)}catch{return!0}}function VE(n){var e=fo(n,1);e!==null&&Zr(e,n,1,-1)}function Gy(n){var e=gs();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ih,lastRenderedState:n},e.queue=n,n=n.dispatch=LL.bind(null,mn,n),[e.memoizedState,n]}function Lh(n,e,t,i){return n={tag:n,create:e,destroy:t,deps:i,next:null},e=mn.updateQueue,e===null?(e={lastEffect:null,stores:null},mn.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(i=t.next,t.next=n,n.next=i,e.lastEffect=n)),n}function WE(){return Lr().memoizedState}function lp(n,e,t,i){var r=gs();mn.flags|=n,r.memoizedState=Lh(1|e,t,void 0,i===void 0?null:i)}function P2(n,e,t,i){var r=Lr();i=i===void 0?null:i;var s=void 0;if(Gn!==null){var o=Gn.memoizedState;if(s=o.destroy,i!==null&&x4(i,o.deps)){r.memoizedState=Lh(e,t,s,i);return}}mn.flags|=n,r.memoizedState=Lh(1|e,t,s,i)}function Vy(n,e){return lp(8390656,8,n,e)}function S4(n,e){return P2(2048,8,n,e)}function jE(n,e){return P2(4,2,n,e)}function qE(n,e){return P2(4,4,n,e)}function XE(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function JE(n,e,t){return t=t!=null?t.concat([n]):null,P2(4,4,XE.bind(null,e,n),t)}function M4(){}function KE(n,e){var t=Lr();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&x4(e,i[1])?i[0]:(t.memoizedState=[n,e],n)}function YE(n,e){var t=Lr();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&x4(e,i[1])?i[0]:(n=n(),t.memoizedState=[n,e],n)}function QE(n,e,t){return _l&21?(es(t,e)||(t=eE(),mn.lanes|=t,Al|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,Hi=!0),n.memoizedState=t)}function BL(n,e){var t=jt;jt=t!==0&&4>t?t:4,n(!0);var i=i5.transition;i5.transition={};try{n(!1),e()}finally{jt=t,i5.transition=i}}function ZE(){return Lr().memoizedState}function IL(n,e,t){var i=ta(n);if(t={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null},$E(n))ew(e,t);else if(t=RE(n,e,t,i),t!==null){var r=bi();Zr(t,n,i,r),tw(t,e,i)}}function LL(n,e,t){var i=ta(n),r={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null};if($E(n))ew(e,r);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(r.hasEagerState=!0,r.eagerState=a,es(a,o)){var l=e.interleaved;l===null?(r.next=r,p4(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}t=RE(n,e,r,i),t!==null&&(r=bi(),Zr(t,n,i,r),tw(t,e,i))}}function $E(n){var e=n.alternate;return n===mn||e!==null&&e===mn}function ew(n,e){eh=Wp=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function tw(n,e,t){if(t&4194240){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,e4(n,t)}}var jp={readContext:Ir,useCallback:pi,useContext:pi,useEffect:pi,useImperativeHandle:pi,useInsertionEffect:pi,useLayoutEffect:pi,useMemo:pi,useReducer:pi,useRef:pi,useState:pi,useDebugValue:pi,useDeferredValue:pi,useTransition:pi,useMutableSource:pi,useSyncExternalStore:pi,useId:pi,unstable_isNewReconciler:!1},DL={readContext:Ir,useCallback:function(n,e){return gs().memoizedState=[n,e===void 0?null:e],n},useContext:Ir,useEffect:Vy,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,lp(4194308,4,XE.bind(null,e,n),t)},useLayoutEffect:function(n,e){return lp(4194308,4,n,e)},useInsertionEffect:function(n,e){return lp(4,2,n,e)},useMemo:function(n,e){var t=gs();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var i=gs();return e=t!==void 0?t(e):e,i.memoizedState=i.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},i.queue=n,n=n.dispatch=IL.bind(null,mn,n),[i.memoizedState,n]},useRef:function(n){var e=gs();return n={current:n},e.memoizedState=n},useState:Gy,useDebugValue:M4,useDeferredValue:function(n){return gs().memoizedState=n},useTransition:function(){var n=Gy(!1),e=n[0];return n=BL.bind(null,n[1]),gs().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var i=mn,r=gs();if(on){if(t===void 0)throw Error(Ce(407));t=t()}else{if(t=e(),ei===null)throw Error(Ce(349));_l&30||kE(i,e,t)}r.memoizedState=t;var s={value:t,getSnapshot:e};return r.queue=s,Vy(zE.bind(null,i,s,n),[n]),i.flags|=2048,Lh(9,HE.bind(null,i,s,t,e),void 0,null),t},useId:function(){var n=gs(),e=ei.identifierPrefix;if(on){var t=to,i=eo;t=(i&~(1<<32-Qr(i)-1)).toString(32)+t,e=":"+e+"R"+t,t=Bh++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=RL++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},FL={readContext:Ir,useCallback:KE,useContext:Ir,useEffect:S4,useImperativeHandle:JE,useInsertionEffect:jE,useLayoutEffect:qE,useMemo:YE,useReducer:r5,useRef:WE,useState:function(){return r5(Ih)},useDebugValue:M4,useDeferredValue:function(n){var e=Lr();return QE(e,Gn.memoizedState,n)},useTransition:function(){var n=r5(Ih)[0],e=Lr().memoizedState;return[n,e]},useMutableSource:OE,useSyncExternalStore:UE,useId:ZE,unstable_isNewReconciler:!1},NL={readContext:Ir,useCallback:KE,useContext:Ir,useEffect:S4,useImperativeHandle:JE,useInsertionEffect:jE,useLayoutEffect:qE,useMemo:YE,useReducer:s5,useRef:WE,useState:function(){return s5(Ih)},useDebugValue:M4,useDeferredValue:function(n){var e=Lr();return Gn===null?e.memoizedState=n:QE(e,Gn.memoizedState,n)},useTransition:function(){var n=s5(Ih)[0],e=Lr().memoizedState;return[n,e]},useMutableSource:OE,useSyncExternalStore:UE,useId:ZE,unstable_isNewReconciler:!1};function yu(n,e){try{var t="",i=e;do t+=uI(i),i=i.return;while(i);var r=t}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:r,digest:null}}function o5(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function sg(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var OL=typeof WeakMap=="function"?WeakMap:Map;function nw(n,e,t){t=so(-1,t),t.tag=3,t.payload={element:null};var i=e.value;return t.callback=function(){Xp||(Xp=!0,mg=i),sg(n,e)},t}function iw(n,e,t){t=so(-1,t),t.tag=3;var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;t.payload=function(){return i(r)},t.callback=function(){sg(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){sg(n,e),typeof i!="function"&&(ea===null?ea=new Set([this]):ea.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function Wy(n,e,t){var i=n.pingCache;if(i===null){i=n.pingCache=new OL;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(t)||(r.add(t),n=QL.bind(null,n,e,t),e.then(n,n))}function jy(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function qy(n,e,t,i,r){return n.mode&1?(n.flags|=65536,n.lanes=r,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=so(-1,1),e.tag=2,$o(t,e,1))),t.lanes|=1),n)}var UL=vo.ReactCurrentOwner,Hi=!1;function Ci(n,e,t,i){e.child=n===null?FE(e,null,t,i):gu(e,n.child,t,i)}function Xy(n,e,t,i,r){t=t.render;var s=e.ref;return iu(e,r),i=_4(n,e,t,i,s,r),t=A4(),n!==null&&!Hi?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,ho(n,e,r)):(on&&t&&l4(e),e.flags|=1,Ci(n,e,i,r),e.child)}function Jy(n,e,t,i,r){if(n===null){var s=t.type;return typeof s=="function"&&!B4(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,rw(n,e,s,i,r)):(n=hp(t.type,null,i,e,e.mode,r),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&r)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:wh,t(o,i)&&n.ref===e.ref)return ho(n,e,r)}return e.flags|=1,n=na(s,i),n.ref=e.ref,n.return=e,e.child=n}function rw(n,e,t,i,r){if(n!==null){var s=n.memoizedProps;if(wh(s,i)&&n.ref===e.ref)if(Hi=!1,e.pendingProps=i=s,(n.lanes&r)!==0)n.flags&131072&&(Hi=!0);else return e.lanes=n.lanes,ho(n,e,r)}return og(n,e,t,i,r)}function sw(n,e,t){var i=e.pendingProps,r=i.children,s=n!==null?n.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qt(Gc,Zi),Zi|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,Qt(Gc,Zi),Zi|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:t,Qt(Gc,Zi),Zi|=i}else s!==null?(i=s.baseLanes|t,e.memoizedState=null):i=t,Qt(Gc,Zi),Zi|=i;return Ci(n,e,r,t),e.child}function ow(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function og(n,e,t,i,r){var s=Gi(t)?yl:_i.current;return s=pu(e,s),iu(e,r),t=_4(n,e,t,i,s,r),i=A4(),n!==null&&!Hi?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,ho(n,e,r)):(on&&i&&l4(e),e.flags|=1,Ci(n,e,t,r),e.child)}function Ky(n,e,t,i,r){if(Gi(t)){var s=!0;Op(e)}else s=!1;if(iu(e,r),e.stateNode===null)cp(n,e),LE(e,t,i),rg(e,t,i,r),i=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=t.contextType;typeof c=="object"&&c!==null?c=Ir(c):(c=Gi(t)?yl:_i.current,c=pu(e,c));var h=t.getDerivedStateFromProps,d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||l!==c)&&Hy(e,o,i,c),Ho=!1;var p=e.memoizedState;o.state=p,Gp(e,i,o,r),l=e.memoizedState,a!==i||p!==l||zi.current||Ho?(typeof h=="function"&&(ig(e,t,h,i),l=e.memoizedState),(a=Ho||ky(e,t,a,i,p,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),o.props=i,o.state=l,o.context=c,i=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,BE(n,e),a=e.memoizedProps,c=e.type===e.elementType?a:Vr(e.type,a),o.props=c,d=e.pendingProps,p=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=Ir(l):(l=Gi(t)?yl:_i.current,l=pu(e,l));var m=t.getDerivedStateFromProps;(h=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||p!==l)&&Hy(e,o,i,l),Ho=!1,p=e.memoizedState,o.state=p,Gp(e,i,o,r);var v=e.memoizedState;a!==d||p!==v||zi.current||Ho?(typeof m=="function"&&(ig(e,t,m,i),v=e.memoizedState),(c=Ho||ky(e,t,c,i,p,v,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=v),o.props=i,o.state=v,o.context=l,i=c):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),i=!1)}return ag(n,e,t,i,s,r)}function ag(n,e,t,i,r,s){ow(n,e);var o=(e.flags&128)!==0;if(!i&&!o)return r&&Dy(e,t,!1),ho(n,e,s);i=e.stateNode,UL.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,n!==null&&o?(e.child=gu(e,n.child,null,s),e.child=gu(e,null,a,s)):Ci(n,e,a,s),e.memoizedState=i.state,r&&Dy(e,t,!0),e.child}function aw(n){var e=n.stateNode;e.pendingContext?Ly(n,e.pendingContext,e.pendingContext!==e.context):e.context&&Ly(n,e.context,!1),g4(n,e.containerInfo)}function Yy(n,e,t,i,r){return mu(),u4(r),e.flags|=256,Ci(n,e,t,i),e.child}var lg={dehydrated:null,treeContext:null,retryLane:0};function cg(n){return{baseLanes:n,cachePool:null,transitions:null}}function lw(n,e,t){var i=e.pendingProps,r=fn.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(r&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(r|=1),Qt(fn,r&1),n===null)return tg(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,n=i.fallback,s?(i=e.mode,s=e.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=I2(o,i,0,null),n=hl(n,i,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=cg(t),e.memoizedState=lg,n):E4(e,o));if(r=n.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return kL(n,e,o,i,a,r,t);if(s){s=i.fallback,o=e.mode,r=n.child,a=r.sibling;var l={mode:"hidden",children:i.children};return!(o&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=na(r,l),i.subtreeFlags=r.subtreeFlags&14680064),a!==null?s=na(a,s):(s=hl(s,o,t,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,o=n.child.memoizedState,o=o===null?cg(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=lg,i}return s=n.child,n=s.sibling,i=na(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=t),i.return=e,i.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=i,e.memoizedState=null,i}function E4(n,e){return e=I2({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function Q3(n,e,t,i){return i!==null&&u4(i),gu(e,n.child,null,t),n=E4(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function kL(n,e,t,i,r,s,o){if(t)return e.flags&256?(e.flags&=-257,i=o5(Error(Ce(422))),Q3(n,e,o,i)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=I2({mode:"visible",children:i.children},r,0,null),s=hl(s,r,o,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&gu(e,n.child,null,o),e.child.memoizedState=cg(o),e.memoizedState=lg,s);if(!(e.mode&1))return Q3(n,e,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var a=i.dgst;return i=a,s=Error(Ce(419)),i=o5(s,i,void 0),Q3(n,e,o,i)}if(a=(o&n.childLanes)!==0,Hi||a){if(i=ei,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,fo(n,r),Zr(i,n,r,-1))}return R4(),i=o5(Error(Ce(421))),Q3(n,e,o,i)}return r.data==="$?"?(e.flags|=128,e.child=n.child,e=ZL.bind(null,n),r._reactRetry=e,null):(n=s.treeContext,er=Zo(r.nextSibling),nr=e,on=!0,qr=null,n!==null&&(Mr[Er++]=eo,Mr[Er++]=to,Mr[Er++]=xl,eo=n.id,to=n.overflow,xl=e),e=E4(e,i.children),e.flags|=4096,e)}function Qy(n,e,t){n.lanes|=e;var i=n.alternate;i!==null&&(i.lanes|=e),ng(n.return,e,t)}function a5(n,e,t,i,r){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:t,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=t,s.tailMode=r)}function cw(n,e,t){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(Ci(n,e,i.children,t),i=fn.current,i&2)i=i&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Qy(n,t,e);else if(n.tag===19)Qy(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}i&=1}if(Qt(fn,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(t=e.child,r=null;t!==null;)n=t.alternate,n!==null&&Vp(n)===null&&(r=t),t=t.sibling;t=r,t===null?(r=e.child,e.child=null):(r=t.sibling,t.sibling=null),a5(e,!1,r,t,s);break;case"backwards":for(t=null,r=e.child,e.child=null;r!==null;){if(n=r.alternate,n!==null&&Vp(n)===null){e.child=r;break}n=r.sibling,r.sibling=t,t=r,r=n}a5(e,!0,t,null,s);break;case"together":a5(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function cp(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function ho(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),Al|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(Ce(153));if(e.child!==null){for(n=e.child,t=na(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=na(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function HL(n,e,t){switch(e.tag){case 3:aw(e),mu();break;case 5:NE(e);break;case 1:Gi(e.type)&&Op(e);break;case 4:g4(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;Qt(Hp,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(Qt(fn,fn.current&1),e.flags|=128,null):t&e.child.childLanes?lw(n,e,t):(Qt(fn,fn.current&1),n=ho(n,e,t),n!==null?n.sibling:null);Qt(fn,fn.current&1);break;case 19:if(i=(t&e.childLanes)!==0,n.flags&128){if(i)return cw(n,e,t);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Qt(fn,fn.current),i)break;return null;case 22:case 23:return e.lanes=0,sw(n,e,t)}return ho(n,e,t)}var uw,ug,fw,hw;uw=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};ug=function(){};fw=function(n,e,t,i){var r=n.memoizedProps;if(r!==i){n=e.stateNode,rl(Es.current);var s=null;switch(t){case"input":r=I6(n,r),i=I6(n,i),s=[];break;case"select":r=gn({},r,{value:void 0}),i=gn({},i,{value:void 0}),s=[];break;case"textarea":r=F6(n,r),i=F6(n,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(n.onclick=Fp)}O6(t,i);var o;t=null;for(c in r)if(!i.hasOwnProperty(c)&&r.hasOwnProperty(c)&&r[c]!=null)if(c==="style"){var a=r[c];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(yh.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in i){var l=i[c];if(a=r!=null?r[c]:void 0,i.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(c,t)),t=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(yh.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&$t("scroll",n),s||a===l||(s=[])):(s=s||[]).push(c,l))}t&&(s=s||[]).push("style",t);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};hw=function(n,e,t,i){t!==i&&(e.flags|=4)};function vf(n,e){if(!on)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:i.sibling=null}}function mi(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,i=0;if(e)for(var r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=n,r=r.sibling;else for(r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=n,r=r.sibling;return n.subtreeFlags|=i,n.childLanes=t,e}function zL(n,e,t){var i=e.pendingProps;switch(c4(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mi(e),null;case 1:return Gi(e.type)&&Np(),mi(e),null;case 3:return i=e.stateNode,vu(),nn(zi),nn(_i),y4(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(n===null||n.child===null)&&(K3(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,qr!==null&&(yg(qr),qr=null))),ug(n,e),mi(e),null;case 5:v4(e);var r=rl(Rh.current);if(t=e.type,n!==null&&e.stateNode!=null)fw(n,e,t,i,r),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(Ce(166));return mi(e),null}if(n=rl(Es.current),K3(e)){i=e.stateNode,t=e.type;var s=e.memoizedProps;switch(i[_s]=e,i[bh]=s,n=(e.mode&1)!==0,t){case"dialog":$t("cancel",i),$t("close",i);break;case"iframe":case"object":case"embed":$t("load",i);break;case"video":case"audio":for(r=0;r<Vf.length;r++)$t(Vf[r],i);break;case"source":$t("error",i);break;case"img":case"image":case"link":$t("error",i),$t("load",i);break;case"details":$t("toggle",i);break;case"input":oy(i,s),$t("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},$t("invalid",i);break;case"textarea":ly(i,s),$t("invalid",i)}O6(t,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?i.textContent!==a&&(s.suppressHydrationWarning!==!0&&J3(i.textContent,a,n),r=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&J3(i.textContent,a,n),r=["children",""+a]):yh.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&$t("scroll",i)}switch(t){case"input":H3(i),ay(i,s,!0);break;case"textarea":H3(i),cy(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=Fp)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=kM(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof i.is=="string"?n=o.createElement(t,{is:i.is}):(n=o.createElement(t),t==="select"&&(o=n,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):n=o.createElementNS(n,t),n[_s]=e,n[bh]=i,uw(n,e,!1,!1),e.stateNode=n;e:{switch(o=U6(t,i),t){case"dialog":$t("cancel",n),$t("close",n),r=i;break;case"iframe":case"object":case"embed":$t("load",n),r=i;break;case"video":case"audio":for(r=0;r<Vf.length;r++)$t(Vf[r],n);r=i;break;case"source":$t("error",n),r=i;break;case"img":case"image":case"link":$t("error",n),$t("load",n),r=i;break;case"details":$t("toggle",n),r=i;break;case"input":oy(n,i),r=I6(n,i),$t("invalid",n);break;case"option":r=i;break;case"select":n._wrapperState={wasMultiple:!!i.multiple},r=gn({},i,{value:void 0}),$t("invalid",n);break;case"textarea":ly(n,i),r=F6(n,i),$t("invalid",n);break;default:r=i}O6(t,r),a=r;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?GM(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&HM(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&xh(n,l):typeof l=="number"&&xh(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(yh.hasOwnProperty(s)?l!=null&&s==="onScroll"&&$t("scroll",n):l!=null&&J8(n,s,l,o))}switch(t){case"input":H3(n),ay(n,i,!1);break;case"textarea":H3(n),cy(n);break;case"option":i.value!=null&&n.setAttribute("value",""+la(i.value));break;case"select":n.multiple=!!i.multiple,s=i.value,s!=null?$c(n,!!i.multiple,s,!1):i.defaultValue!=null&&$c(n,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(n.onclick=Fp)}switch(t){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return mi(e),null;case 6:if(n&&e.stateNode!=null)hw(n,e,n.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(Ce(166));if(t=rl(Rh.current),rl(Es.current),K3(e)){if(i=e.stateNode,t=e.memoizedProps,i[_s]=e,(s=i.nodeValue!==t)&&(n=nr,n!==null))switch(n.tag){case 3:J3(i.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&J3(i.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else i=(t.nodeType===9?t:t.ownerDocument).createTextNode(i),i[_s]=e,e.stateNode=i}return mi(e),null;case 13:if(nn(fn),i=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(on&&er!==null&&e.mode&1&&!(e.flags&128))PE(),mu(),e.flags|=98560,s=!1;else if(s=K3(e),i!==null&&i.dehydrated!==null){if(n===null){if(!s)throw Error(Ce(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Ce(317));s[_s]=e}else mu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;mi(e),s=!1}else qr!==null&&(yg(qr),qr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(i=i!==null,i!==(n!==null&&n.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(n===null||fn.current&1?Wn===0&&(Wn=3):R4())),e.updateQueue!==null&&(e.flags|=4),mi(e),null);case 4:return vu(),ug(n,e),n===null&&Th(e.stateNode.containerInfo),mi(e),null;case 10:return d4(e.type._context),mi(e),null;case 17:return Gi(e.type)&&Np(),mi(e),null;case 19:if(nn(fn),s=e.memoizedState,s===null)return mi(e),null;if(i=(e.flags&128)!==0,o=s.rendering,o===null)if(i)vf(s,!1);else{if(Wn!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=Vp(n),o!==null){for(e.flags|=128,vf(s,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=t,t=e.child;t!==null;)s=t,n=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Qt(fn,fn.current&1|2),e.child}n=n.sibling}s.tail!==null&&Pn()>xu&&(e.flags|=128,i=!0,vf(s,!1),e.lanes=4194304)}else{if(!i)if(n=Vp(o),n!==null){if(e.flags|=128,i=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),vf(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!on)return mi(e),null}else 2*Pn()-s.renderingStartTime>xu&&t!==1073741824&&(e.flags|=128,i=!0,vf(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Pn(),e.sibling=null,t=fn.current,Qt(fn,i?t&1|2:t&1),e):(mi(e),null);case 22:case 23:return P4(),i=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?Zi&1073741824&&(mi(e),e.subtreeFlags&6&&(e.flags|=8192)):mi(e),null;case 24:return null;case 25:return null}throw Error(Ce(156,e.tag))}function GL(n,e){switch(c4(e),e.tag){case 1:return Gi(e.type)&&Np(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return vu(),nn(zi),nn(_i),y4(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return v4(e),null;case 13:if(nn(fn),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(Ce(340));mu()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return nn(fn),null;case 4:return vu(),null;case 10:return d4(e.type._context),null;case 22:case 23:return P4(),null;case 24:return null;default:return null}}var Z3=!1,yi=!1,VL=typeof WeakSet=="function"?WeakSet:Set,qe=null;function zc(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(i){Sn(n,e,i)}else t.current=null}function fg(n,e,t){try{t()}catch(i){Sn(n,e,i)}}var Zy=!1;function WL(n,e){if(J6=Ip,n=gE(),a4(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var i=t.getSelection&&t.getSelection();if(i&&i.rangeCount!==0){t=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,c=0,h=0,d=n,p=null;t:for(;;){for(var m;d!==t||r!==0&&d.nodeType!==3||(a=o+r),d!==s||i!==0&&d.nodeType!==3||(l=o+i),d.nodeType===3&&(o+=d.nodeValue.length),(m=d.firstChild)!==null;)p=d,d=m;for(;;){if(d===n)break t;if(p===t&&++c===r&&(a=o),p===s&&++h===i&&(l=o),(m=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=m}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(K6={focusedElem:n,selectionRange:t},Ip=!1,qe=e;qe!==null;)if(e=qe,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,qe=n;else for(;qe!==null;){e=qe;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var S=v.memoizedProps,_=v.memoizedState,g=e.stateNode,x=g.getSnapshotBeforeUpdate(e.elementType===e.type?S:Vr(e.type,S),_);g.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var A=e.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ce(163))}}catch(E){Sn(e,e.return,E)}if(n=e.sibling,n!==null){n.return=e.return,qe=n;break}qe=e.return}return v=Zy,Zy=!1,v}function th(n,e,t){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&n)===n){var s=r.destroy;r.destroy=void 0,s!==void 0&&fg(e,t,s)}r=r.next}while(r!==i)}}function R2(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var i=t.create;t.destroy=i()}t=t.next}while(t!==e)}}function hg(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function dw(n){var e=n.alternate;e!==null&&(n.alternate=null,dw(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[_s],delete e[bh],delete e[Z6],delete e[TL],delete e[CL])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function pw(n){return n.tag===5||n.tag===3||n.tag===4}function $y(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||pw(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function dg(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=Fp));else if(i!==4&&(n=n.child,n!==null))for(dg(n,e,t),n=n.sibling;n!==null;)dg(n,e,t),n=n.sibling}function pg(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(i!==4&&(n=n.child,n!==null))for(pg(n,e,t),n=n.sibling;n!==null;)pg(n,e,t),n=n.sibling}var ii=null,jr=!1;function bo(n,e,t){for(t=t.child;t!==null;)mw(n,e,t),t=t.sibling}function mw(n,e,t){if(Ms&&typeof Ms.onCommitFiberUnmount=="function")try{Ms.onCommitFiberUnmount(S2,t)}catch{}switch(t.tag){case 5:yi||zc(t,e);case 6:var i=ii,r=jr;ii=null,bo(n,e,t),ii=i,jr=r,ii!==null&&(jr?(n=ii,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):ii.removeChild(t.stateNode));break;case 18:ii!==null&&(jr?(n=ii,t=t.stateNode,n.nodeType===8?e5(n.parentNode,t):n.nodeType===1&&e5(n,t),Mh(n)):e5(ii,t.stateNode));break;case 4:i=ii,r=jr,ii=t.stateNode.containerInfo,jr=!0,bo(n,e,t),ii=i,jr=r;break;case 0:case 11:case 14:case 15:if(!yi&&(i=t.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&fg(t,e,o),r=r.next}while(r!==i)}bo(n,e,t);break;case 1:if(!yi&&(zc(t,e),i=t.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=t.memoizedProps,i.state=t.memoizedState,i.componentWillUnmount()}catch(a){Sn(t,e,a)}bo(n,e,t);break;case 21:bo(n,e,t);break;case 22:t.mode&1?(yi=(i=yi)||t.memoizedState!==null,bo(n,e,t),yi=i):bo(n,e,t);break;default:bo(n,e,t)}}function ex(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new VL),e.forEach(function(i){var r=$L.bind(null,n,i);t.has(i)||(t.add(i),i.then(r,r))})}}function Hr(n,e){var t=e.deletions;if(t!==null)for(var i=0;i<t.length;i++){var r=t[i];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ii=a.stateNode,jr=!1;break e;case 3:ii=a.stateNode.containerInfo,jr=!0;break e;case 4:ii=a.stateNode.containerInfo,jr=!0;break e}a=a.return}if(ii===null)throw Error(Ce(160));mw(s,o,r),ii=null,jr=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(c){Sn(r,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)gw(e,n),e=e.sibling}function gw(n,e){var t=n.alternate,i=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Hr(e,n),ms(n),i&4){try{th(3,n,n.return),R2(3,n)}catch(S){Sn(n,n.return,S)}try{th(5,n,n.return)}catch(S){Sn(n,n.return,S)}}break;case 1:Hr(e,n),ms(n),i&512&&t!==null&&zc(t,t.return);break;case 5:if(Hr(e,n),ms(n),i&512&&t!==null&&zc(t,t.return),n.flags&32){var r=n.stateNode;try{xh(r,"")}catch(S){Sn(n,n.return,S)}}if(i&4&&(r=n.stateNode,r!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&OM(r,s),U6(a,o);var c=U6(a,s);for(o=0;o<l.length;o+=2){var h=l[o],d=l[o+1];h==="style"?GM(r,d):h==="dangerouslySetInnerHTML"?HM(r,d):h==="children"?xh(r,d):J8(r,h,d,c)}switch(a){case"input":L6(r,s);break;case"textarea":UM(r,s);break;case"select":var p=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?$c(r,!!s.multiple,m,!1):p!==!!s.multiple&&(s.defaultValue!=null?$c(r,!!s.multiple,s.defaultValue,!0):$c(r,!!s.multiple,s.multiple?[]:"",!1))}r[bh]=s}catch(S){Sn(n,n.return,S)}}break;case 6:if(Hr(e,n),ms(n),i&4){if(n.stateNode===null)throw Error(Ce(162));r=n.stateNode,s=n.memoizedProps;try{r.nodeValue=s}catch(S){Sn(n,n.return,S)}}break;case 3:if(Hr(e,n),ms(n),i&4&&t!==null&&t.memoizedState.isDehydrated)try{Mh(e.containerInfo)}catch(S){Sn(n,n.return,S)}break;case 4:Hr(e,n),ms(n);break;case 13:Hr(e,n),ms(n),r=n.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(C4=Pn())),i&4&&ex(n);break;case 22:if(h=t!==null&&t.memoizedState!==null,n.mode&1?(yi=(c=yi)||h,Hr(e,n),yi=c):Hr(e,n),ms(n),i&8192){if(c=n.memoizedState!==null,(n.stateNode.isHidden=c)&&!h&&n.mode&1)for(qe=n,h=n.child;h!==null;){for(d=qe=h;qe!==null;){switch(p=qe,m=p.child,p.tag){case 0:case 11:case 14:case 15:th(4,p,p.return);break;case 1:zc(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){i=p,t=p.return;try{e=i,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(S){Sn(i,t,S)}}break;case 5:zc(p,p.return);break;case 22:if(p.memoizedState!==null){nx(d);continue}}m!==null?(m.return=p,qe=m):nx(d)}h=h.sibling}e:for(h=null,d=n;;){if(d.tag===5){if(h===null){h=d;try{r=d.stateNode,c?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=zM("display",o))}catch(S){Sn(n,n.return,S)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(S){Sn(n,n.return,S)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===n)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===n)break e;for(;d.sibling===null;){if(d.return===null||d.return===n)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Hr(e,n),ms(n),i&4&&ex(n);break;case 21:break;default:Hr(e,n),ms(n)}}function ms(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(pw(t)){var i=t;break e}t=t.return}throw Error(Ce(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(xh(r,""),i.flags&=-33);var s=$y(n);pg(n,s,r);break;case 3:case 4:var o=i.stateNode.containerInfo,a=$y(n);dg(n,a,o);break;default:throw Error(Ce(161))}}catch(l){Sn(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function jL(n,e,t){qe=n,vw(n)}function vw(n,e,t){for(var i=(n.mode&1)!==0;qe!==null;){var r=qe,s=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||Z3;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||yi;a=Z3;var c=yi;if(Z3=o,(yi=l)&&!c)for(qe=r;qe!==null;)o=qe,l=o.child,o.tag===22&&o.memoizedState!==null?ix(r):l!==null?(l.return=o,qe=l):ix(r);for(;s!==null;)qe=s,vw(s),s=s.sibling;qe=r,Z3=a,yi=c}tx(n)}else r.subtreeFlags&8772&&s!==null?(s.return=r,qe=s):tx(n)}}function tx(n){for(;qe!==null;){var e=qe;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:yi||R2(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!yi)if(t===null)i.componentDidMount();else{var r=e.elementType===e.type?t.memoizedProps:Vr(e.type,t.memoizedProps);i.componentDidUpdate(r,t.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Uy(e,s,i);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}Uy(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&Mh(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ce(163))}yi||e.flags&512&&hg(e)}catch(p){Sn(e,e.return,p)}}if(e===n){qe=null;break}if(t=e.sibling,t!==null){t.return=e.return,qe=t;break}qe=e.return}}function nx(n){for(;qe!==null;){var e=qe;if(e===n){qe=null;break}var t=e.sibling;if(t!==null){t.return=e.return,qe=t;break}qe=e.return}}function ix(n){for(;qe!==null;){var e=qe;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{R2(4,e)}catch(l){Sn(e,t,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(l){Sn(e,r,l)}}var s=e.return;try{hg(e)}catch(l){Sn(e,s,l)}break;case 5:var o=e.return;try{hg(e)}catch(l){Sn(e,o,l)}}}catch(l){Sn(e,e.return,l)}if(e===n){qe=null;break}var a=e.sibling;if(a!==null){a.return=e.return,qe=a;break}qe=e.return}}var qL=Math.ceil,qp=vo.ReactCurrentDispatcher,w4=vo.ReactCurrentOwner,Br=vo.ReactCurrentBatchConfig,Ft=0,ei=null,Nn=null,si=0,Zi=0,Gc=ya(0),Wn=0,Dh=null,Al=0,B2=0,T4=0,nh=null,Ni=null,C4=0,xu=1/0,Ks=null,Xp=!1,mg=null,ea=null,$3=!1,qo=null,Jp=0,ih=0,gg=null,up=-1,fp=0;function bi(){return Ft&6?Pn():up!==-1?up:up=Pn()}function ta(n){return n.mode&1?Ft&2&&si!==0?si&-si:PL.transition!==null?(fp===0&&(fp=eE()),fp):(n=jt,n!==0||(n=window.event,n=n===void 0?16:aE(n.type)),n):1}function Zr(n,e,t,i){if(50<ih)throw ih=0,gg=null,Error(Ce(185));ld(n,t,i),(!(Ft&2)||n!==ei)&&(n===ei&&(!(Ft&2)&&(B2|=t),Wn===4&&Wo(n,si)),Vi(n,i),t===1&&Ft===0&&!(e.mode&1)&&(xu=Pn()+500,C2&&xa()))}function Vi(n,e){var t=n.callbackNode;PI(n,e);var i=Bp(n,n===ei?si:0);if(i===0)t!==null&&hy(t),n.callbackNode=null,n.callbackPriority=0;else if(e=i&-i,n.callbackPriority!==e){if(t!=null&&hy(t),e===1)n.tag===0?bL(rx.bind(null,n)):TE(rx.bind(null,n)),EL(function(){!(Ft&6)&&xa()}),t=null;else{switch(tE(i)){case 1:t=$8;break;case 4:t=ZM;break;case 16:t=Rp;break;case 536870912:t=$M;break;default:t=Rp}t=ww(t,yw.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function yw(n,e){if(up=-1,fp=0,Ft&6)throw Error(Ce(327));var t=n.callbackNode;if(ru()&&n.callbackNode!==t)return null;var i=Bp(n,n===ei?si:0);if(i===0)return null;if(i&30||i&n.expiredLanes||e)e=Kp(n,i);else{e=i;var r=Ft;Ft|=2;var s=_w();(ei!==n||si!==e)&&(Ks=null,xu=Pn()+500,fl(n,e));do try{KL();break}catch(a){xw(n,a)}while(1);h4(),qp.current=s,Ft=r,Nn!==null?e=0:(ei=null,si=0,e=Wn)}if(e!==0){if(e===2&&(r=V6(n),r!==0&&(i=r,e=vg(n,r))),e===1)throw t=Dh,fl(n,0),Wo(n,i),Vi(n,Pn()),t;if(e===6)Wo(n,i);else{if(r=n.current.alternate,!(i&30)&&!XL(r)&&(e=Kp(n,i),e===2&&(s=V6(n),s!==0&&(i=s,e=vg(n,s))),e===1))throw t=Dh,fl(n,0),Wo(n,i),Vi(n,Pn()),t;switch(n.finishedWork=r,n.finishedLanes=i,e){case 0:case 1:throw Error(Ce(345));case 2:qa(n,Ni,Ks);break;case 3:if(Wo(n,i),(i&130023424)===i&&(e=C4+500-Pn(),10<e)){if(Bp(n,0)!==0)break;if(r=n.suspendedLanes,(r&i)!==i){bi(),n.pingedLanes|=n.suspendedLanes&r;break}n.timeoutHandle=Q6(qa.bind(null,n,Ni,Ks),e);break}qa(n,Ni,Ks);break;case 4:if(Wo(n,i),(i&4194240)===i)break;for(e=n.eventTimes,r=-1;0<i;){var o=31-Qr(i);s=1<<o,o=e[o],o>r&&(r=o),i&=~s}if(i=r,i=Pn()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*qL(i/1960))-i,10<i){n.timeoutHandle=Q6(qa.bind(null,n,Ni,Ks),i);break}qa(n,Ni,Ks);break;case 5:qa(n,Ni,Ks);break;default:throw Error(Ce(329))}}}return Vi(n,Pn()),n.callbackNode===t?yw.bind(null,n):null}function vg(n,e){var t=nh;return n.current.memoizedState.isDehydrated&&(fl(n,e).flags|=256),n=Kp(n,e),n!==2&&(e=Ni,Ni=t,e!==null&&yg(e)),n}function yg(n){Ni===null?Ni=n:Ni.push.apply(Ni,n)}function XL(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var i=0;i<t.length;i++){var r=t[i],s=r.getSnapshot;r=r.value;try{if(!es(s(),r))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Wo(n,e){for(e&=~T4,e&=~B2,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-Qr(e),i=1<<t;n[t]=-1,e&=~i}}function rx(n){if(Ft&6)throw Error(Ce(327));ru();var e=Bp(n,0);if(!(e&1))return Vi(n,Pn()),null;var t=Kp(n,e);if(n.tag!==0&&t===2){var i=V6(n);i!==0&&(e=i,t=vg(n,i))}if(t===1)throw t=Dh,fl(n,0),Wo(n,e),Vi(n,Pn()),t;if(t===6)throw Error(Ce(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,qa(n,Ni,Ks),Vi(n,Pn()),null}function b4(n,e){var t=Ft;Ft|=1;try{return n(e)}finally{Ft=t,Ft===0&&(xu=Pn()+500,C2&&xa())}}function Sl(n){qo!==null&&qo.tag===0&&!(Ft&6)&&ru();var e=Ft;Ft|=1;var t=Br.transition,i=jt;try{if(Br.transition=null,jt=1,n)return n()}finally{jt=i,Br.transition=t,Ft=e,!(Ft&6)&&xa()}}function P4(){Zi=Gc.current,nn(Gc)}function fl(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,ML(t)),Nn!==null)for(t=Nn.return;t!==null;){var i=t;switch(c4(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Np();break;case 3:vu(),nn(zi),nn(_i),y4();break;case 5:v4(i);break;case 4:vu();break;case 13:nn(fn);break;case 19:nn(fn);break;case 10:d4(i.type._context);break;case 22:case 23:P4()}t=t.return}if(ei=n,Nn=n=na(n.current,null),si=Zi=e,Wn=0,Dh=null,T4=B2=Al=0,Ni=nh=null,il!==null){for(e=0;e<il.length;e++)if(t=il[e],i=t.interleaved,i!==null){t.interleaved=null;var r=i.next,s=t.pending;if(s!==null){var o=s.next;s.next=r,i.next=o}t.pending=i}il=null}return n}function xw(n,e){do{var t=Nn;try{if(h4(),ap.current=jp,Wp){for(var i=mn.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Wp=!1}if(_l=0,Qn=Gn=mn=null,eh=!1,Bh=0,w4.current=null,t===null||t.return===null){Wn=1,Dh=e,Nn=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=si,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,h=a,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var m=jy(o);if(m!==null){m.flags&=-257,qy(m,o,a,s,e),m.mode&1&&Wy(s,c,e),e=m,l=c;var v=e.updateQueue;if(v===null){var S=new Set;S.add(l),e.updateQueue=S}else v.add(l);break e}else{if(!(e&1)){Wy(s,c,e),R4();break e}l=Error(Ce(426))}}else if(on&&a.mode&1){var _=jy(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),qy(_,o,a,s,e),u4(yu(l,a));break e}}s=l=yu(l,a),Wn!==4&&(Wn=2),nh===null?nh=[s]:nh.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=nw(s,l,e);Oy(s,g);break e;case 1:a=l;var x=s.type,A=s.stateNode;if(!(s.flags&128)&&(typeof x.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(ea===null||!ea.has(A)))){s.flags|=65536,e&=-e,s.lanes|=e;var E=iw(s,a,e);Oy(s,E);break e}}s=s.return}while(s!==null)}Sw(t)}catch(T){e=T,Nn===t&&t!==null&&(Nn=t=t.return);continue}break}while(1)}function _w(){var n=qp.current;return qp.current=jp,n===null?jp:n}function R4(){(Wn===0||Wn===3||Wn===2)&&(Wn=4),ei===null||!(Al&268435455)&&!(B2&268435455)||Wo(ei,si)}function Kp(n,e){var t=Ft;Ft|=2;var i=_w();(ei!==n||si!==e)&&(Ks=null,fl(n,e));do try{JL();break}catch(r){xw(n,r)}while(1);if(h4(),Ft=t,qp.current=i,Nn!==null)throw Error(Ce(261));return ei=null,si=0,Wn}function JL(){for(;Nn!==null;)Aw(Nn)}function KL(){for(;Nn!==null&&!_I();)Aw(Nn)}function Aw(n){var e=Ew(n.alternate,n,Zi);n.memoizedProps=n.pendingProps,e===null?Sw(n):Nn=e,w4.current=null}function Sw(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=GL(t,e),t!==null){t.flags&=32767,Nn=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Wn=6,Nn=null;return}}else if(t=zL(t,e,Zi),t!==null){Nn=t;return}if(e=e.sibling,e!==null){Nn=e;return}Nn=e=n}while(e!==null);Wn===0&&(Wn=5)}function qa(n,e,t){var i=jt,r=Br.transition;try{Br.transition=null,jt=1,YL(n,e,t,i)}finally{Br.transition=r,jt=i}return null}function YL(n,e,t,i){do ru();while(qo!==null);if(Ft&6)throw Error(Ce(327));t=n.finishedWork;var r=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(Ce(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(RI(n,s),n===ei&&(Nn=ei=null,si=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||$3||($3=!0,ww(Rp,function(){return ru(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=Br.transition,Br.transition=null;var o=jt;jt=1;var a=Ft;Ft|=4,w4.current=null,WL(n,t),gw(t,n),gL(K6),Ip=!!J6,K6=J6=null,n.current=t,jL(t),AI(),Ft=a,jt=o,Br.transition=s}else n.current=t;if($3&&($3=!1,qo=n,Jp=r),s=n.pendingLanes,s===0&&(ea=null),EI(t.stateNode),Vi(n,Pn()),e!==null)for(i=n.onRecoverableError,t=0;t<e.length;t++)r=e[t],i(r.value,{componentStack:r.stack,digest:r.digest});if(Xp)throw Xp=!1,n=mg,mg=null,n;return Jp&1&&n.tag!==0&&ru(),s=n.pendingLanes,s&1?n===gg?ih++:(ih=0,gg=n):ih=0,xa(),null}function ru(){if(qo!==null){var n=tE(Jp),e=Br.transition,t=jt;try{if(Br.transition=null,jt=16>n?16:n,qo===null)var i=!1;else{if(n=qo,qo=null,Jp=0,Ft&6)throw Error(Ce(331));var r=Ft;for(Ft|=4,qe=n.current;qe!==null;){var s=qe,o=s.child;if(qe.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(qe=c;qe!==null;){var h=qe;switch(h.tag){case 0:case 11:case 15:th(8,h,s)}var d=h.child;if(d!==null)d.return=h,qe=d;else for(;qe!==null;){h=qe;var p=h.sibling,m=h.return;if(dw(h),h===c){qe=null;break}if(p!==null){p.return=m,qe=p;break}qe=m}}}var v=s.alternate;if(v!==null){var S=v.child;if(S!==null){v.child=null;do{var _=S.sibling;S.sibling=null,S=_}while(S!==null)}}qe=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,qe=o;else e:for(;qe!==null;){if(s=qe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:th(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,qe=g;break e}qe=s.return}}var x=n.current;for(qe=x;qe!==null;){o=qe;var A=o.child;if(o.subtreeFlags&2064&&A!==null)A.return=o,qe=A;else e:for(o=x;qe!==null;){if(a=qe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:R2(9,a)}}catch(T){Sn(a,a.return,T)}if(a===o){qe=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,qe=E;break e}qe=a.return}}if(Ft=r,xa(),Ms&&typeof Ms.onPostCommitFiberRoot=="function")try{Ms.onPostCommitFiberRoot(S2,n)}catch{}i=!0}return i}finally{jt=t,Br.transition=e}}return!1}function sx(n,e,t){e=yu(t,e),e=nw(n,e,1),n=$o(n,e,1),e=bi(),n!==null&&(ld(n,1,e),Vi(n,e))}function Sn(n,e,t){if(n.tag===3)sx(n,n,t);else for(;e!==null;){if(e.tag===3){sx(e,n,t);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(ea===null||!ea.has(i))){n=yu(t,n),n=iw(e,n,1),e=$o(e,n,1),n=bi(),e!==null&&(ld(e,1,n),Vi(e,n));break}}e=e.return}}function QL(n,e,t){var i=n.pingCache;i!==null&&i.delete(e),e=bi(),n.pingedLanes|=n.suspendedLanes&t,ei===n&&(si&t)===t&&(Wn===4||Wn===3&&(si&130023424)===si&&500>Pn()-C4?fl(n,0):T4|=t),Vi(n,e)}function Mw(n,e){e===0&&(n.mode&1?(e=V3,V3<<=1,!(V3&130023424)&&(V3=4194304)):e=1);var t=bi();n=fo(n,e),n!==null&&(ld(n,e,t),Vi(n,t))}function ZL(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),Mw(n,t)}function $L(n,e){var t=0;switch(n.tag){case 13:var i=n.stateNode,r=n.memoizedState;r!==null&&(t=r.retryLane);break;case 19:i=n.stateNode;break;default:throw Error(Ce(314))}i!==null&&i.delete(e),Mw(n,t)}var Ew;Ew=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||zi.current)Hi=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return Hi=!1,HL(n,e,t);Hi=!!(n.flags&131072)}else Hi=!1,on&&e.flags&1048576&&CE(e,kp,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;cp(n,e),n=e.pendingProps;var r=pu(e,_i.current);iu(e,t),r=_4(null,e,i,n,r,t);var s=A4();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Gi(i)?(s=!0,Op(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,m4(e),r.updater=b2,e.stateNode=r,r._reactInternals=e,rg(e,i,n,t),e=ag(null,e,i,!0,s,t)):(e.tag=0,on&&s&&l4(e),Ci(null,e,r,t),e=e.child),e;case 16:i=e.elementType;e:{switch(cp(n,e),n=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=tD(i),n=Vr(i,n),r){case 0:e=og(null,e,i,n,t);break e;case 1:e=Ky(null,e,i,n,t);break e;case 11:e=Xy(null,e,i,n,t);break e;case 14:e=Jy(null,e,i,Vr(i.type,n),t);break e}throw Error(Ce(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Vr(i,r),og(n,e,i,r,t);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Vr(i,r),Ky(n,e,i,r,t);case 3:e:{if(aw(e),n===null)throw Error(Ce(387));i=e.pendingProps,s=e.memoizedState,r=s.element,BE(n,e),Gp(e,i,null,t);var o=e.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=yu(Error(Ce(423)),e),e=Yy(n,e,i,t,r);break e}else if(i!==r){r=yu(Error(Ce(424)),e),e=Yy(n,e,i,t,r);break e}else for(er=Zo(e.stateNode.containerInfo.firstChild),nr=e,on=!0,qr=null,t=FE(e,null,i,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(mu(),i===r){e=ho(n,e,t);break e}Ci(n,e,i,t)}e=e.child}return e;case 5:return NE(e),n===null&&tg(e),i=e.type,r=e.pendingProps,s=n!==null?n.memoizedProps:null,o=r.children,Y6(i,r)?o=null:s!==null&&Y6(i,s)&&(e.flags|=32),ow(n,e),Ci(n,e,o,t),e.child;case 6:return n===null&&tg(e),null;case 13:return lw(n,e,t);case 4:return g4(e,e.stateNode.containerInfo),i=e.pendingProps,n===null?e.child=gu(e,null,i,t):Ci(n,e,i,t),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Vr(i,r),Xy(n,e,i,r,t);case 7:return Ci(n,e,e.pendingProps,t),e.child;case 8:return Ci(n,e,e.pendingProps.children,t),e.child;case 12:return Ci(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,o=r.value,Qt(Hp,i._currentValue),i._currentValue=o,s!==null)if(es(s.value,o)){if(s.children===r.children&&!zi.current){e=ho(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(s.tag===1){l=so(-1,t&-t),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),ng(s.return,t,e),a.lanes|=t;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Ce(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),ng(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ci(n,e,r.children,t),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,iu(e,t),r=Ir(r),i=i(r),e.flags|=1,Ci(n,e,i,t),e.child;case 14:return i=e.type,r=Vr(i,e.pendingProps),r=Vr(i.type,r),Jy(n,e,i,r,t);case 15:return rw(n,e,e.type,e.pendingProps,t);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Vr(i,r),cp(n,e),e.tag=1,Gi(i)?(n=!0,Op(e)):n=!1,iu(e,t),LE(e,i,r),rg(e,i,r,t),ag(null,e,i,!0,n,t);case 19:return cw(n,e,t);case 22:return sw(n,e,t)}throw Error(Ce(156,e.tag))};function ww(n,e){return QM(n,e)}function eD(n,e,t,i){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function br(n,e,t,i){return new eD(n,e,t,i)}function B4(n){return n=n.prototype,!(!n||!n.isReactComponent)}function tD(n){if(typeof n=="function")return B4(n)?1:0;if(n!=null){if(n=n.$$typeof,n===Y8)return 11;if(n===Q8)return 14}return 2}function na(n,e){var t=n.alternate;return t===null?(t=br(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function hp(n,e,t,i,r,s){var o=2;if(i=n,typeof n=="function")B4(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case Ic:return hl(t.children,r,s,e);case K8:o=8,r|=8;break;case b6:return n=br(12,t,e,r|2),n.elementType=b6,n.lanes=s,n;case P6:return n=br(13,t,e,r),n.elementType=P6,n.lanes=s,n;case R6:return n=br(19,t,e,r),n.elementType=R6,n.lanes=s,n;case DM:return I2(t,r,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case IM:o=10;break e;case LM:o=9;break e;case Y8:o=11;break e;case Q8:o=14;break e;case ko:o=16,i=null;break e}throw Error(Ce(130,n==null?n:typeof n,""))}return e=br(o,t,e,r),e.elementType=n,e.type=i,e.lanes=s,e}function hl(n,e,t,i){return n=br(7,n,i,e),n.lanes=t,n}function I2(n,e,t,i){return n=br(22,n,i,e),n.elementType=DM,n.lanes=t,n.stateNode={isHidden:!1},n}function l5(n,e,t){return n=br(6,n,null,e),n.lanes=t,n}function c5(n,e,t){return e=br(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function nD(n,e,t,i,r){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=V1(0),this.expirationTimes=V1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=V1(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function I4(n,e,t,i,r,s,o,a,l){return n=new nD(n,e,t,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=br(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:i,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},m4(s),n}function iD(n,e,t){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Bc,key:i==null?null:""+i,children:n,containerInfo:e,implementation:t}}function Tw(n){if(!n)return ca;n=n._reactInternals;e:{if(Bl(n)!==n||n.tag!==1)throw Error(Ce(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Gi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ce(171))}if(n.tag===1){var t=n.type;if(Gi(t))return wE(n,t,e)}return e}function Cw(n,e,t,i,r,s,o,a,l){return n=I4(t,i,!0,n,r,s,o,a,l),n.context=Tw(null),t=n.current,i=bi(),r=ta(t),s=so(i,r),s.callback=e??null,$o(t,s,r),n.current.lanes=r,ld(n,r,i),Vi(n,i),n}function L2(n,e,t,i){var r=e.current,s=bi(),o=ta(r);return t=Tw(t),e.context===null?e.context=t:e.pendingContext=t,e=so(s,o),e.payload={element:n},i=i===void 0?null:i,i!==null&&(e.callback=i),n=$o(r,e,o),n!==null&&(Zr(n,r,o,s),op(n,r,o)),o}function Yp(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function ox(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function L4(n,e){ox(n,e),(n=n.alternate)&&ox(n,e)}function rD(){return null}var bw=typeof reportError=="function"?reportError:function(n){console.error(n)};function D4(n){this._internalRoot=n}D2.prototype.render=D4.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(Ce(409));L2(n,e,null,null)};D2.prototype.unmount=D4.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;Sl(function(){L2(null,n,null,null)}),e[uo]=null}};function D2(n){this._internalRoot=n}D2.prototype.unstable_scheduleHydration=function(n){if(n){var e=rE();n={blockedOn:null,target:n,priority:e};for(var t=0;t<Vo.length&&e!==0&&e<Vo[t].priority;t++);Vo.splice(t,0,n),t===0&&oE(n)}};function F4(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function F2(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function ax(){}function sD(n,e,t,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var c=Yp(o);s.call(c)}}var o=Cw(e,i,n,0,null,!1,!1,"",ax);return n._reactRootContainer=o,n[uo]=o.current,Th(n.nodeType===8?n.parentNode:n),Sl(),o}for(;r=n.lastChild;)n.removeChild(r);if(typeof i=="function"){var a=i;i=function(){var c=Yp(l);a.call(c)}}var l=I4(n,0,!1,null,null,!1,!1,"",ax);return n._reactRootContainer=l,n[uo]=l.current,Th(n.nodeType===8?n.parentNode:n),Sl(function(){L2(e,l,t,i)}),l}function N2(n,e,t,i,r){var s=t._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var a=r;r=function(){var l=Yp(o);a.call(l)}}L2(e,o,n,r)}else o=sD(t,e,n,r,i);return Yp(o)}nE=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=Gf(e.pendingLanes);t!==0&&(e4(e,t|1),Vi(e,Pn()),!(Ft&6)&&(xu=Pn()+500,xa()))}break;case 13:Sl(function(){var i=fo(n,1);if(i!==null){var r=bi();Zr(i,n,1,r)}}),L4(n,1)}};t4=function(n){if(n.tag===13){var e=fo(n,134217728);if(e!==null){var t=bi();Zr(e,n,134217728,t)}L4(n,134217728)}};iE=function(n){if(n.tag===13){var e=ta(n),t=fo(n,e);if(t!==null){var i=bi();Zr(t,n,e,i)}L4(n,e)}};rE=function(){return jt};sE=function(n,e){var t=jt;try{return jt=n,e()}finally{jt=t}};H6=function(n,e,t){switch(e){case"input":if(L6(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var i=t[e];if(i!==n&&i.form===n.form){var r=T2(i);if(!r)throw Error(Ce(90));NM(i),L6(i,r)}}}break;case"textarea":UM(n,t);break;case"select":e=t.value,e!=null&&$c(n,!!t.multiple,e,!1)}};jM=b4;qM=Sl;var oD={usingClientEntryPoint:!1,Events:[ud,Nc,T2,VM,WM,b4]},yf={findFiberByHostInstance:nl,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},aD={bundleType:yf.bundleType,version:yf.version,rendererPackageName:yf.rendererPackageName,rendererConfig:yf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:vo.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=KM(n),n===null?null:n.stateNode},findFiberByHostInstance:yf.findFiberByHostInstance||rD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var e0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!e0.isDisabled&&e0.supportsFiber)try{S2=e0.inject(aD),Ms=e0}catch{}}ar.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oD;ar.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!F4(e))throw Error(Ce(200));return iD(n,e,null,t)};ar.createRoot=function(n,e){if(!F4(n))throw Error(Ce(299));var t=!1,i="",r=bw;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=I4(n,1,!1,null,null,t,!1,i,r),n[uo]=e.current,Th(n.nodeType===8?n.parentNode:n),new D4(e)};ar.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(Ce(188)):(n=Object.keys(n).join(","),Error(Ce(268,n)));return n=KM(e),n=n===null?null:n.stateNode,n};ar.flushSync=function(n){return Sl(n)};ar.hydrate=function(n,e,t){if(!F2(e))throw Error(Ce(200));return N2(null,n,e,!0,t)};ar.hydrateRoot=function(n,e,t){if(!F4(n))throw Error(Ce(405));var i=t!=null&&t.hydratedSources||null,r=!1,s="",o=bw;if(t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=Cw(e,null,n,1,t??null,r,!1,s,o),n[uo]=e.current,Th(n),i)for(n=0;n<i.length;n++)t=i[n],r=t._getVersion,r=r(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,r]:e.mutableSourceEagerHydrationData.push(t,r);return new D2(e)};ar.render=function(n,e,t){if(!F2(e))throw Error(Ce(200));return N2(null,n,e,!1,t)};ar.unmountComponentAtNode=function(n){if(!F2(n))throw Error(Ce(40));return n._reactRootContainer?(Sl(function(){N2(null,null,n,!1,function(){n._reactRootContainer=null,n[uo]=null})}),!0):!1};ar.unstable_batchedUpdates=b4;ar.unstable_renderSubtreeIntoContainer=function(n,e,t,i){if(!F2(t))throw Error(Ce(200));if(n==null||n._reactInternals===void 0)throw Error(Ce(38));return N2(n,e,t,!1,i)};ar.version="18.2.0-next-9e3b772b8-20220608";function Pw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Pw)}catch(n){console.error(n)}}Pw(),CM.exports=ar;var lD=CM.exports,N4,lx=lD;N4=lx.createRoot,lx.hydrateRoot;const cD="/second-portfolio/assets/logo-5fb1984b.svg",uD="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAC91BMVEVHcExGmvqDL7JvSsgPEUoWEVsyTpM+Sn8UEDoNDT8LF1gwPW9ruPHszv85eL45PZ5d+P5aQb44XItp5O2XUMnse/4arsdMOHRI7/ti6Ps+fKM5fKwXsNHT0P9D/v9Kks9FUbEuWazQxvQ6gbpw8P01TnaVSdU2u9JD1OQjVXx7w/aJVdUusNq+c+gvNqUjUaqMK9GYStZxS6gr6v0f4vBTS6j7sP8Ge6drreI0t+smbtWc0facTemDmchHN7hG5P7SWOyEkM4AYpO1QuEBNVmEpcw9vexWfM+qZt+p1v9T+/8Btf8t4MkBs9QtceMC4PADpcoD3vgB2O1+QdogZNlUpvuWR9/LX/uXTOqeTe8FlLw9ifQBz+wBqcweYNGIPd1esv8AyOQnat1BkvS1V/C4VvoBm7mVn+HQWP8D0/GRROqQSPdNhL4gct+tXfUL6PPidP2hRO4CncJ9ntROoPoBwd8EosSb5v7CWesD//+hquluw/4J8Pw4e+6BSeZ3yv1brfkSZ6wR4vu2Tv+r6P0zdei8/f9/0f4J6foY8vgX+v9woNEUOYDNbPVluP0Authlvv4s6f0Ar83RYvyZ/f4A+f7th/6qTvOKP/EfYMEPlsarSv6Qqtsq/f8RRpVkkcR+p90JjbbT+PxWkNI/ffbYbfyiRv8whevEU/uuvfYFks0eVZUHeboHqtaG3P+hS/iM0/y78f0FEzh19v9Ny/ujs+OlpdsTMWDBXvlWkMY2frYrZcqQ3/4MXNXCTvGK9v8xbaanVfyEnumNmc7v/v8Rxej3uf5Oodr3kP22mfX7ov8jvOaY2/8UWsl4uOptatBD7fvhX/gWicoQXt4raNJaruJwk9pQZLwIx/N7T9YmlNCt/v7Ctf0dh7YifsAgl94OutsNWroko+ovftkbddI9xf9goeSVhvIwa7/yc/9EgtWwc/LonvrQifz4Wf9Ip9By4f6qSOQwpvVAnteKxPPcuv9CuOQ+M7dAo/td2OtNluVNsvNHcEzW3TbNAAAA/XRSTlMA/j78GiXlBQ0V/tL+/s7+/vrEP2T+wkmEVtrf/vn9+v6ehF/dfYfCE/f++P3FIv68obe5/fn1/rHU07Tt2Wolovj924+EjpHx9a2P//////////////////////////////////////////////////////////////////////////////////////////////////////////////7////////////////////////////////////////////////////////+/////////////////////////////////////////v////////////////////////8A1DKDVgAAB6BJREFUWMPtl2lU01caxpHFBAcGsDLYAQRtdcal7q1d7TL7nMMSgSTsi8QshC0pW0wDIQiBBCFNSFgCicYgO6jsImUZQRbZVxXRcd+raNvpfJn3/gM9ArFj+rnP4Rw+5Ly/PM9733tzr5HRr/oZbd9uisnc3NT8l9Rv+Hylvb3975Hs7d8yvN74PUvm1ZH8fB+ffNYhhw8+NawaZ2T0Wa9lXUXFMZDPoUOxfX812ID8wnuWtytmoN7HhxXL2vaGgRbekdte6CptnkH1PiwWa9v7mK/XDrDGVh51r/cFu6IsH9W7uzt896YBBCNTMGBrK+9yvFRWls9ixbq7u/d98Mf/X2eOx4TDbXoklz98+LDLcuBSfiwY8PevrOxbi8PpPse/cuU/WY20e/c7PXfu9PTU19dzNAAA+X/t4nLN4XdIfwC9+aqVd2Q2z+ybabPqsdTwrzaDZnxiWbEQAABZLll+BEKyMD2DW/i2/jSfXbDs4Ffs+6LI+ZHl830Vx2bQBMAMuPvPA4L9/OgH3NwOENat1WsgM6rX8S7/C7HVA3mvpRr6fwzKfVADUIKsrJgYPyCAi+T0vW/oW3mtNKqrQywWb42yte19cWMkf8GAv78LAGIQgE6nQwy39H8uB6yRauMzHzpOFtlk3ovSyrs6sI0ABHfMgEtMTDAWgeAmFEamr1vWR/yfhqVSkvZFz/c823tRUVG9VzQjMAI6B5iBYACgFrhFAqFwz9K13ESikUik+EddD9q1CBDVVTpS5o4myL2yshIFwOp1gHQuV7Kkj2Z/J9FKGqWkTPkFqRbVa+WWt8tYaAUwBzoAqo+MjORmJORkWC/a4LhdpBIKpRGZkEq1mZmZWi2EcPKB8F+DXLKuYfV0DMDNwbTn5Z1hF1/SGkqhtLaSSDSaVAqE4WH5lYG+88HnQX0ODteCMQMIkC6RpIO4kpeX0vgpJRTU2hofDwQaCQCPM5v+U2UxbgEab3pyDS2BH+pAsrUs9fLlVNDLANymCEQoKYmPb2ykoSTDjx9sG3pO7eykdkyoPhc5xPjRUQtgjIZkx4//C7Rh0eY23UoRUEChoRGhjZBDSou/I6FbcOo7OVQ2m6p+0jeFAAcIBGE6WACE45KTek27ABEiQCjGcONg2lBld11dJ5WqVFI7RN9NzTsQcgutZadSj69ZOsk72wsEglCoD4UYtMcRs5LaH5nsuvpOKofDoSrHz9PpybAEwmRhTqEsNfWjZVvBjtwuKFBggNYSGu1OMve/EyqVElmgcqhU0TbYzAShkMvlJmScSU0xXr4Z1kcAADpJoZTQGqeTCglzbLZKpKyrBwCnXjlQizpAgCngctfJNujZjWYfFxcgAkUgKGns+DZjqputFjWpS+sgQmldaemWvW7JycmRkenCvdZvm+r7Kfy4uLi4WqFQFBQIGku/kUxdampqYjYplWy1WsnhsJ9/A5LJZJdhCvQeSbsUCODtraguKHjakzI0dek+E6Rii0QiNpWqqkk5BTqOhuDyGT1HkjGRzPCGelB1+9P4K2ckzwCgaWKK2AjQMVDVEheXkpICiNShwnXLjiTczmpvIpFMhnqyd7ui9VGN9a3ZZqZGw1Sp2SL1hDoxrQohgHFKlpFTuGfZgcQoJhOJGCLa27tdEHElTlJ5tUnj5MRkd05MaMYT09LSdCZarBMSEiRLjiS8SVgYYx5QHU32LlA8KB2KGYEeODFVSramO/twIiBqWvpT4qwLAZCxpI+bGCAMwAgDgQ1FT0vtVX5bW3Nzm0qtGs/Ozj58ODGtpqb/W0lOAiKsXdzB3EAQkcjA6hEgOqJ0YG527slc91z3wO2koKCj2ZgLAGQgLe6jXWBYoIeHR2BgLiRhMMjR0dHV5MHbt27V1sJfbZKXl1cQIA6DiaqqM0gwEi93Ab+LNw/IzYUkUE/25k3en539N+jZsx9++NIrCRGwGFUt/dDLUx8tOg/MTHi5CMADDCMMFoK8dXDs5s2bN27cOHny5MGDK7708kpKWogBnUj5x/bFY7DRAwN4mNiY8CAGmTh4/2a465GvTvj6+h701REgxlGdiZr+/r8svRrYwJdDvbPYihfG4xGn71aEu7oCAQwAwVdHSNIhtmyJ+2TZJWG/iYlH4LTz5tMNJrm8wK2DeRjANTwcEZANQMznOGqR2LL84ohbPQ0GyhtOn7byCOOZTF4c9RwLCQkPRy50QX5CWFhseV/PbrTz8DCZRIBVNmG8ybaLowFjnuHhuhwLiB9XYN08amGs74Kwc9q5vKhI3AAheHf5AZ6eUB8SgnIcQSZO+K4AD4gQFPQ3/Vecd9vKy3cUlTc0vDvI5+edPRsAkBAMAQQEQBFQvZOp/kvSxt8saHN5UTloR15egA5xBJn48LfzeuXVG13tQXj8n8WrkMQ78i4GIAQy4bsejzfX6TWeCiutVkE3xXyIoctx5MSH5q9zxV34v98KPDSU85EDjOD61VsGXZbxq52txGI+/zoGGPMMGVuPM+CqjH6obL63Kof6c+fQenqG3LUz9MGx22YH//o5pNHRUc+z640MMqCbCv71gDwQDMTZlWYGPljg2zZu3rzyJ+3/Ba82nNmCTM1Mf30E/5z+BzcP7/3DW5AEAAAAAElFTkSuQmCC",fD="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAADAFBMVEVHcEwvYpQjg8GRVMQaJEJar9y8gukyN2oZHT4cQ340LWgcITgLS5Q8fZwYTKMyvvsyToSLkd8Q+vpOmLEln7IaIzYjZH8QJigTFyUIUiwVOTw2JZQTPEIoFlVULpKaNdEDBCB+uaSNb8uIqf73g/8nh7mIqO1XR2Iina5Ob8nc5vZSSrSQ4uLjPP81p8pmoveXto5J3OQfLWpwwOYPEhlESGaajuBOxJpiT3xgiPSdOO4vHWF1WrXe2/4zZXV5jOP2HP17GK4NUn0WcWcwT5I3EmeRwYh6znY/4Ms9DViv/8OC//wBMT6D///7//oJRUwHGjcrLlIWNEsKJjcELkUgM2IFDDAF1MYRNFsqR407VVifQ8YLSVomO1YgS0keK0AEGSMVa5UrN3UPOzw1WnUOnpUJiJUHRYEKpMi7srEK1Nw2aFcGF0hLXnAYQWUnWq8D5dz/xv4FNVMIMm0ERG9Ob40d5eE1d9cdeqk2SYIpT1w0PmIe4/sBCQkiX3lbeHo5ndP/1v85eXwFlIUKWIHRqPRkiMpE8/8OVW5d1vtBR5NtZ7BjaXGVgc0kPEcJpadObXMGW48kdoy3w/5kMqaWmrZRfa1AS3VWqssMHV3+5f9mf5EPZ6tbd105eLJ2fHvgwZV+QJ7wx4UBjnFnX5VKZF8JlawHY1yZZti4PN0Va78iuN6GRbCElJNLweoKfHXfxPmUnWY8vMxymtgkssbty02wm4lbS60wS6SItdeSz/9XSJsWn+K2UdSBibCkgKdqjaGylMLIkdr3/Po8kZYcFk4JerrnrvnPtnGVjH7arIX63bPDsoxBN1cIaneBN7oiwscdJ3Wihk7Yvcuyhd0li6XtiPmzqPlFY7GUtPmLy/W7lmmj1bPBPuYFudIzr642TcAOXD5aRYqHYKQENytJMKpu8f52ZmhCV6lytbdHOYDLxquPiWJsY8oHtt+8nax5378bm2OPkUKy8+8GLqcZfVBlknS70egBf2e2oOgDd+gBKYqQcGbBudMjWNNHcExOlhioAAABAHRSTlMA/f79GA4hCv7+/kD+/v7+M/f+/f2Gif2j/m3+x/7+N/79/v1YS/3+xv6jcTaThfz3/vr909SE/vzlyK6+8p+e+M7U77f+jtbD84Rl9goP///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////+//////////////////////////////////////////////////////////////////////////////////////////////////////////////////8AfaLDGQAACcpJREFUWMPslmdYlFcahjMDkRk60owoCqiI0dijbmLWTXaze+2umT5O78PMwMygM0yHAYbee++9SO9IUXqvAhFQsYEiWGIv0Ws/yA8hF+Yy//f58f177u+c9zznfc9nn/1fH5e2sQ7w1Vn+nN77+Z91G+uZH/1h905tvS1/27bhP/86fHLPjg1/xr9ZqM5//ssv7B/+i0RgTA9WHnv89ILd15/u13P18XkFAPLRIhEMhhqaPXbs8cHA/Ts/efdbXPV98rO981EwQCShmG567HGpkdGJT6mE9uadG8xFrpzIsjISKUJDglFIQihHbfM00Mho/9fbduz46Y/9OptYfiZ+Di500wWP9N4SDwKFwkRD8bjk6UCjJlm9lcPJPTp/YD+99zuJyS67qakqA9OFkt5f74bkUpgotAjDEILARfpijuGzG+V7Pl6K03saquymdh1OiFMCpRNGhADKRaLRSDJGbHjDkMPhGOq/fSaT7T79EcCeqy277KoSokQ0d6YzDE4lCEJCBDgAgEKDZA73XF2heDBY/y2H/tX6/n9fjTWpanjsTEOiUYRcgqU7iiwAACJMJ5Y0EalPBwBi+UFuJIcTuS7h839WtEy9fHr1C0syGkm5Q9GoaTSkKl4Ix/KjKh3haJ8ADEMsqnY7n8Jx/X7dA/3xwKXY9vYD7mFhKFh+WbjTGe+bNBSLRIOxpdIz7CGSEIMRi+lmI02RrhbrbmGvDYtcctWDFoZkdoxInc4AYkeRSGzpxrPLCg8Q4YRQnzzpRi7IeP1D2K0OIA2pYWE02Ij0zIqks2jYrHTZ7nRWGi4SCXFyt40b3UzWy8JPe78Ce1aeP28mQtLKzgJmJ6fr3Lwh2B3L/LzrTlInp7NOQ2gMbuIhl9t04kvj3xdB58cDNp5vjALn5/194KLwZUC1JzjFR8SkwHDiSHA1AJA6ijBQH/HbZ8/eNBl+b7EWsfn5TU0C2Mg/0N+fi1VLzzpdz6OnpIEwZIqzM4shFrvS865LR9SH8FD83Nz7N0ZyMf7LNYAtd76waX9a6u/v5l8a0HFwpKkoJUUehaQqAQCBjMOJxRx6+EgaY9TKOibmgcwTdIjx9zUNKJdy82p7++FSo9Lphg5NR5RBnANYPkQJCwMAzkoU9lZLXFpeHh1vOz7e5vs6GB+kGIWuPgqLZCYA4IVqaRUU2Ho4P39R8aS3xRMcEKakEHKdlYO3W2MlBqYT9LTyJC9A3Vp1VlZBq+P4ncedmza828TmwkJio+RFasWTJ2O9l0w1zBWAJLb14iAKDuH7lEZ3nwPk1V0wZ1X319UriGBSBLe1iERiMUNEN12amamoWBqreEEB/LmsSy32VASCrMK5lgb6Ta4QfOdG6/atakNHBSimSqtZq7iRgQ7oikufyahdejI2VpHKVAoiJBoq4EeoVFB9sFvg+OQKIGY06C8f+rSeKj7sDoJYWJzDgpHo4DTW3b6svpmlpYoKApIl0cDQZPLyAqApXQ/9p20nz3mdG7dmBFlv+xCjbxAqJjWTeCu5g0SSy1wMPJb6sjJqe8cGSpjqOCUKiUSSyWQc1AUAzFcRAYKttULxzapAG+vqqhDxORGajgAcWObi12DgUduXMdDba6OJosNRVOoyAoN3KWpyc/McLpzsDq7HH1pzozZDIKowgjPMwEdcBAAuBCakj42N/TrovJBAV7MEBCUZiROuADZy64aLQx/Uza1Nork7IZlgaak0CMB1yQwBwOGSmZmZizkRCwnyuORkjwglSSiE/gbANzbWFRBP7VsziiwJLbHp7jRVRwAaDDasml6wWezv7+fxeLFxwAIkAIElFOINU7hublyfoKC67slTp7atngY5Bc1td90hZE0+Wi6rj4sdyOrvv7zYk3W5NTaZQBBIPNJDBPFXXACAfyXrfkxMedLktX0fiqhH1WpubrN3pyKUMDRddkPV29+f1TeQkdXzqJXHS80VAP05Pf14kEvXdf/AKAwA8G1P6r72YQnaR4oLmy9Sact5QXLeG97N6l8c6KmpyeA9ejSw+IKQmipgSZLTBZFcqX9aIkYxZ9WW1J70rfaHPWzKvNacCbdEUQcHEQzD+tqsAeD3NT28d7zanowDqc6pHhEEQXqEa+n8BF8Xw7CyGvdKSlo97gEA0RrCxGLhEN37eEUJ8PeaHpuFd5d5QBwWS9TKiNTUVA+W+kIDn4/BjAZZt3klla++TOaZzddi4EwEggrRvRUfLzlQU5PFCwx8uQLgXaK7KkPSPdSuDdE5DAWDwQgK9vVK8l3d2/XsM68Nb7eMv68LKN7P1LSh1eTC/PwyoGcZoH/vQR0+Uh79uhF/r/7eFXlcedK5gjVJ3GJPzMSiVFu3bu3ESEwrqz1l72Weh09eflTbt1gSB9Kvv3GjKM/MVisIisfXOxSllZ+z/XZtUx20t8eRUFg4FquQkNjh4VzPovcPXne3PeLFKupd9CPleeFsx8aCexwOlGMos/O9DV0bZW3zI2E4NI2G2o4zwNFeeWd7V3vuP3El1Lc8Nj5RPw08Ec72zh6KKXDgAI8XfVlV8FGL308GbT1zCA0Fh4NAWHi+d3aZo6NZNVfe8FLC93Fks9mO3t7erGLig7Suri6umYXxetNV5ygCuJMgRiec2TFbVlb2Kju8uiEHlFDJzs72dmSbGdwiErX8zj80Kt29/jNH73jmPyAIXQwCgtUsu15lsyckwa+nK8+ws73ZZqbBxQAg2NFs2s5g77qATYiCYuz2Tl1dBAROMpidZZflo/mhSe+i8kZGwh2jFJnLPVdBcpwyga473nWObL/9czB/+1bGIQTN3V1ooGGiqPxQL9/xHFAaSAjDDAM9/36Ao9zElr9lvceejrn7/Z+jq+KxiaMIKhWbKITTqKrO0O7WtrbGxK0YoUKrsHAYNCF3sQ3mW3zkjQgJjY6e8sMnYvmJ+PpEeBgS0xnqezEntPV456iicXg4Juh/m1OR332ly44dVyvzLMgEtbZpkTNf3MjhABqQ073hoMWS/fuXzLy4e4pc1405fJsnC7rgbPKyc1s/vj55167J13t3J+WEKXAEHj26//L+58/XHqhsu36998aNtusb7FXZ8TZ1Hwmqqe3rfsQVH5uSEgBM2gEHpu47MLsv5dauXTfVBFtbbdgJNba52URraxU4kuNKZ2SkgYDIjIYOhQ7Dmhp+MzYVbRZiWuwmtQrBDyXjJq3OAoJ3qxsmhgT4hwsJabAT3eEQD+OQlJR8MmnT6nurVzckhnEEJ2xpr1Elvssi6imXVCUpmc3Il5+fz5nDcVTWtU1fj5ROE5uKLnOKjBSLvJWVPIuUjKyjLmmdLnDbmQ3e7WMXIFn3iAIAC8teOgnEtEYAAAAASUVORK5CYII=",hD="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAADAFBMVEVHcEz4/vwsV3wA4/3///wULVkIZYg1eZcA//8YTXMDX3klvtwY4uBcqsYiNleFgLb//70w9Pvc0N9b7vQEPWAdT5EJzPCs9f+omccf+/+Vwa+Xu7Q1mbob7/9gXIXd2+bq8t3j/PW7o9Bm5fMc/v8O7PkXXpfz2v1C3qgL//8H9PXBnd96Z5kWVHRh5vQb0dnm9PHJsc2bh8Tj//1WWYBi+fMKuboe4P405PfQvdT08vye7fh75fUbx+xEun377MtZ3sEEUHHVvODC4e56yOAh/vzQ7OELTnQNe34QH1Du49kPWHgFVWsEcYlCvfAjbngT+O659v0UW3DSy5JZuZYC/////wgC//////8M//8CGAgCCAcB6f8EV2EBGh8F+f4D8P8Z+vsDCxICMjYEhp4BFBcEbY4El5x9/8///P8DV3cGb4IAN1MCHSoCZn8GJBeYf7wa/v8FdpGI/8wBY28B//wG//cDCyVgc58EL0YDtLoFoad+/9kGq8wEqbYCfYmlisoDn78CgJYItsH7/vIEko8WMzx6/+4PtNx8fagDkqUgQDMCJjyI4uto/9Jvdq4JR22V/9AKKS8NtK8HQzIp3t4Kiaq++f4CQUQBmq8COUAFb3YMOib//9WI/9w1s8lVv9wQgZhj/sYO3vEOwc8HcGAJSlVm+vSM+fwJdp4T1tFRcJMpDycMhHY7S3YDUEcCsKIoMEUQGiIFuMwEMB38++fK2tRn1exirWYYc5CP9MI3XoxOg3RHXEUFlLZNxcu1ltbr764vEUIjVDkJKQkqKhNN/MJUbyDu9e8elqTM/v4a2OXp+t+817hwhTwnTRM4NYkqM3gjfaZA8etmz91BlWE1/v9/7/0fjK56v6JYaYOH4bKE16Z1mLgdkZaZk7rY16B29MLI/76j0cUFZBb+8vZ6yXdz0qc6uNcEpI2fyYUhT1BLYos9RlBZilYx4fiBlUROuKp1knguXGKtwbsAZz53rIw0dFcfmrcVXVyk6ZWS/+0TEQAuAPsA/ShHcEwC/EKDAAABAHRSTlMA/kL+/gj+Af0S/iRKFx7+/f1fxf7R/v7+3/c+/v36O/bDwKHMlLQc/fj++f37YDrj/fr+/uqu13iRrr32Z/z+qqx4kIy3u9+V/tjIbfB6r6/fgv39z/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////8AKvWVLwAACA5JREFUWMPFl3dUk/caxwlmEYSUUUSW1F0V96qz67b27nVOFhlkQgYhMZBFEpNAgCTVMC57b4uAskRQHOBGClr3qrPu9nZ77/3jPu+LaGkUPPXe0+ecnPfNSb6f3/d5fr/39z4/D4//WxA8ftX4HwzvE+r7SsP7/7YjJNTNCuFlnc1a1b7+8xTMW76jEISXSw7+8S6G2r7/b+1UzEJ/wlMNMvrIZ2y9z6r2kvaS/Z+3YzBUzBuhI1rE2PvLF7yEiSlHSl4rAUAKFUOlYpe8N5IHwf8v9X5+K3Hj5jAl8jUIBBCHwWKxccN5eISuPnbs43+wadMnvhSgZP8JDDWOisXeolIxH4R6+Lw3KQ8BJFEotBk+4wNK+r8NyVtChcCAC+rCaavz8iZNygMAkUhhzyCMWYfQyJL16xdlXD579hiGigV9SuSNNfX1k4YBNOKbib/BvRCA1Ds08taiRcGXy/1iTtUvgSK0h/xQc/TOzrP1CCCGRkxM+vMLHaBz7N8xd9/cfZfLYyi0M/V5Szq+duTUSHLLgIACKMQXOkDls95aFLwJABl7AaBQnPG7Uni/uZkpqSjbuWbSMIAW8HwAulz85+7bBLEvOGOvgoJGNdNWm1/IjA8r3/nxZ2MA0OGnTJ27KWExCrj8BECrzsrKzy/Md50sQwGJiQDwcgM8cR8M8sUJCQlXg68+CAsfdqBjZfF4+VrprrByBJCUSKRMdwMMF29qMJlMRvVXNQ8/ClQep1EoiRSdLKuQx9NqSZDD3k+QFNwBw+43JWSQyVvIoM9YylIPDal5+ioa6gABOMVh5Z+NAHxGA+DLrHcXkzMytmzJIG9KmBexQyBwDnXXyllMXQzFKsvK5zm1zsCtd8rLAEAk0qa7rWX/qQkaDei3AETTHSWTy2VDg4U5NgHLVGWVcXk8nk0rFZ8DgAIA7MneP9N7z9M0aDSaLWTyvKV4Q7qYJaezBge1WYW1TKalQMUStGXxtFIpKazsE3iYiBQ3gOfShoYGDRh40H2yOibIhQCGBqXNTJNIxDdbRUw5HQG48HwU4O7AM+LCgweaeUtdQkNVTHh6IAAEBwaZNal6o77AkN6qL2rOkmkDXVEk61MAYTQg4kJDd1P3j8c5nOjodK1ATuceaKpJzTYajT2GdINVb1IxoYwul46GpgDTOGpr9IyYF9EUxa8O50RPiOa0ygDAONBU1KjXWQtyDQaj3WQypRbVOgOlukQEwF45enMleEY0uU7eqULl0ZzqYYDmSqPEYjT3pJv5JrtdxTRdkbi0iAPI4czqKc82V7h4NonNVcjwE6KjORwri0VHANnbRSaRvaeHbzFa9SqntkhUwbSiDwh7jl/4jKd1gM3BM+xLNgfEQJjAmcCXsRhQAwDodCIYucDaqtMXSZ2y2iKV8YwCWd5ENoU9ef5PqjAxwA8IVQgjOgivVjPojG0N2duNRlER06TXtZrtqvxCp9pZxC/7UkGbwwYCUeG34JkHD9zaFeFsxECQYavrCUCfmpoqEon0IpHZYFfxuDIx/8dzSn5rDCDgoaa8OfFZGeDq88cVMZyg9B6xU61WcwFwAfT6bL3dqtPbC47WsvIt6enmnlyLsOA4LTExKWk0AJkW7xlBZrxUJpCpuS0AaGq8uz07W8Q3tOqyjzY+Tq0OAnwuPzdXqDQmUUYDUAQUc/nJj9QCFgC4DMa2HTV3t2/P1gPA+s/dvY+rq4IM5gI7n1+hjFeJkCU9CoCaIMw8t6uWy2XJhgHNNY13wUHZXtC35avsZrMRAEqhRCJhqkRVtNEA5B43M/dchaqQKwAAd9uOHCCkpl75/us9cnlbG52nshQU8JWSeCSYUnx6zNrnACwVRytqUUDLDltOTk7N6d17Dv6nxZZTXFzMkzJNFiGqJ8WTXNI/LHAH8C1Ky9EiAUtApwNA3nf4qwEHg9HisOU4eh08HoupFArxYhJJpZLg3/F02xhxMyuUSksFkysDQJZN/unAV4cPMlpsNofjvoPe19vb1iwBAEksFpNA7tZAeXi9vlWpVO66jwDkOx4eHhjYQ6fLHTZbW19xzqN7t09/951wKz4eAL/zxLl3KihAKFHu+qZFQO+Tcx8OHO6jF+e0Qfa9e3aH9Jdcv7SuEQAk8Ye/93pex4YC8BKl5BuH4yCD/sPpTyFu3rx5uPP7E5FIs5PSfv3vEmF81F99R9aeO0CJxwslUHdGcWdX1+1Hjzo7O2//63p/CjQacXFx1JQbEtKGF8iHAUK8UNgN83b6YiZE1xed9/a3p2BhcAyip1I7/uSJLtoXdAe+r+/C48WBj3dfyszcCJGZefHeiX7QpaRg0IaJ+obXmO0qAKKkYvPxU2mlIL+2MXNjZtel8yeOQP5xSAq3qKtwY/aZvh9KpXZ4HdL8Tm1OTo4FSGxyadelkI4j2Dg0EAdjAgJN1XMosFtx5sw5lfbv0tLY5OTS0o3XvgjpuIU4wFI/GBNA8NrgpwA1m80GEwEBaWnJAAAr1y6GfHsEaogdzwGBMD+gjs3hcCiUyWtxPtOWAaF0Y2xsLMzH+RtHxgdA4OavCFcowmeghw3vt9PS0mKR2Fx57SJSzfEAyG9e76+Z5j18T/BYMK0uGdFDVM5et65/oc84DtC90Rc3oocVMzGgLi15c2Vl5aFDs9edn+ozbq9P+OmxBEHg5i+rS6us3HwICBt8X+7ERPhZUiuX1UEOs5d7/tIDGMF7Wl3d279I/uzdNxH3iqdJAuFVD6O/8lF6jPgvQ1Z99/dN/NMAAAAASUVORK5CYII=",dD="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAADAFBMVEVHcEwHG1EuPEssg89NzeBDx/5Sp9EJEyNXg6gHzfxk7O8jvdNq2vaH/P5i0v5sk9gxhJUNIjscFTA8bMx1oP0bIUNamfbGd6wTHjEfze2C5/lQ8f1g8vkQJzwm4faqCbJwiLtDL7hwLHJEcqU4l68vH2Brd9CApdU5tt5HTqkKGil4GaCaq/o9aKgyL3ZX/v8Q/Pz2v+PAHMVEtbsAZa9YWqQA7cdZZZUB068B4LgB8s8F//4B58ABzqkCx6VWZZ1bbY0B2bRob5sBw5/+4u5JeoBTb7xScoBNd4oBvJkKq/wD6s10eJ5Xb5gBs5ILKWM2k/4AqYr/2PYC4sVVVZF5hKUM2/v/yPxeaakqOn5ScaIwR3T++P4+To1RcJIB+9FQXolIUoK6MN+Pj6n/4t5hS6jEva0B7LUI8dwESKUIm/9SrvyAg5ukoLGWnqT/8uUF7P63vqn9D/+Ahv4DUtqLkJ6ss6USPd3/+MwtQUAVvP1HhJjhqaKULsQB0p9a7vU9U1vovI8OwL9VhfZFQcAvR58PQVpQOZ0RQ48DjYn+5s5mb16lqKHUEfRkZIHo/P7/xeplOMeuqq75rs3/pvAFVWYpYH8VPMVTb/1tYvqe+/yqm/+fhPwGKJf/8rhOXVE6WfVfOpF6boJ1FoLWdtVfXW7Skq4//vzGT/6Xpv6oRv4RW/fJ/PoSJns8WX7/ztO3r7fAe8TUsP9NW5pFXtpheKjcPvu5a/w13f0CULqU19gDhfr9Mf8xIE394Kd3fGOpvf6NfGgDOndUdtNJRXvMk5dQhLe2do6VcYD0lfX/t/2ohZgb//y2baS/n/aKyP6+3v5TIGS9m3GJXfoVcn5RfKCmimsz5+D7zLg/jauiOaNEYZHydf7CK/4MZ+HyWf8A3aboxb0Cf3DzhMt/YbqvXK9drbLMBcsAcoFiQfgffv+TNfSbdP2908oHrKuYdozZi//tCfB1L7aSt7CXWK+mv82ck8c3aY0PbcLtncNIJFEpcY+ehnSgbuFX4r4uK+/IG5hhAAAANHRSTlMA/iX+M/4e/wz+ioJb9PpHU/1Gav2//f5xvf+92aSUbo+1T6zPjfH84PXP3tTI6aTXoNrEo/IqAgAACL9JREFUWMPtl2dc01cXxwVEjChLRMXRah3Vrmd8yCJAgggxIRCSkBCSIIQEkBkSMMpU9t7IFAHZAiIgQ6FiRVBRQHEPnHXvuvo87fP0/P8UXKD0fX8v8iq/7z3n3HPvPf8pU/7WpDR92tSp2rMXT/3rPm2d2V9+9dV3y9TeBOxSFi6cvFMVMX63is+vs62r245IqUyvGvxhEk49veWL5nwviFFRsVVBZGtbtz0uOke5S/mgUVi7+HOAf/aVl5/s1NXQ0ECsoJ9+ituwoR38u5RVwtTU/Bmf9k+be14iZPGO7nlR0qky5t/QHjC8K+Beo1DIasyf+UnAFxePhISEXN/N4/Gyyl6U8McAAcPKqsFZqcKjBYaf3IpvLvYePnvwQOKBI30VmWnHjpa9kEbHoQDl/5/mG1emsloVs6ZN7F+68+LhracOHtixYzNox5GKTB5Afo/akKNURtaGGxtX1vJqFAsmBsxBAWcPJI4QNm/eUno4M+tYVpk0p9gwFQDGx2t5D7wmLORSjZ0/h5xHQkgExBZUOxKf9P2aWfHqkEFqbSVCyG+8pz4RYREArv+49dSps2fP/vbbwcTy8vKU0tLSJ33lryMi1CK7BkcI/fe0xi+kqq5Gyc/ni37cCoK9CDncewT0ZG5F+d0IIl3Nsjm32vA4IPILcxeOW8h5GnwpAgCd3w3KrOjt7T1RUVGeHeFBwEdYWjY3R2ohQRjmRY5byNWdsSUnEjYVFRUlJEh2SwBwovfEryFbsh+T2OyIxz2Whw41FzPbgBCeN14h9TSex56cK9kE9gSJRJKW9uvcE3MzQwTZEXQCmx4RH2wJAgRNZmysXqz1cUfOOSm27dwj2bQpQWIhYbHSMm+C/3DMXQqRRKJj8Xf/u9cBIRxqHg4CQu5HhVTVuCPW7dzjh/gtLFi8rJtlN9P6YuJJ4MfSsQQEgBB6eiyj1LjHg5gLp39QwpPy5xr/GQHA+mlZN7PSSmMeu7PZWCydjiXFv95r5ODg0GNpeaFnVZRaGy3ogzKsvtPRjQIkyPq8rCze9S3ZJkQ6+AFAxMa/djQCgqNjz4ULZxxio9Xut71XBr1OuTgGBYCfxTt2jOUWc4OAZbNJCIBIXG+3jWHkgBDOnAkODj7jzI8qxrzbDYt2ykNjNE7u8fMDQBqPZQHpY0kEAuInEoke69cBAOTo6IgAqE5kTmzz/He78I78ua7Gzj0WCIAnTEjMtsESKBQCG10fIjDZ5gR+BzMgOAVTg6lUspNL9Nsbbl6nPDkWAGUAYLGEkD7FPQxPoVDGIiCcdkYiMHNkMJyoVKrV2rVWKSkXZr89yHIxX1f3IgBYFn5JMTfc3fHX8Hg8hUCCXUQiYJ+uRwFmCGAtda0VABK7l75tAnkoX8U2tMxC4rfpYIydOwVvYgIAPAEtAwCI8aMAJwCstbKyIpO7l7zTBM/S+bZ88VELv6LEbFN3fIQpCBgUlICEEL/NQToCoI4AnKWxX4xlECoXS+PiosXH/IoO3MC7m5iYrkEJUAYCBSXAPpojABwOCQABSNO/H21G1ZLk5FBpdPTzFknCbZtr10wQAAghIAgUsK4+hWNkhMPhyCMAaXrd8rHbPFQsDg2FH/GjcxGEa2EmpuBfB1qzZiQLNp0OjWDFQSNAAFbkkqjtunqj79m/nj17lpycfCXvd1ifSMKj66+zsQECWgcKHAhoBGcO4seRYQvJ0qic7atHA9BulSdfqRkayovsepkS+L/1HliKKSxvA0IJJngCdDQ0Aq4JKQEArDhROcq6eWMv6reFhQVdhuFt6gP9Dn1utbMqPYiENTY2dnZ2fyIgC3fSaZcRANWKDP4ApYrq2ydRq6uxcaCNyw3qb3K29nV7lB9+zoMUZocKIUAd3Ek36slmSApOjNio9pzinEXvHKWZA0+fNmrJZNxqKWcvA+ed4b/PEEGgQYwS4rehACeGNKq9fde9Or13T/Pi6qtHu7gyrvotkb21A66eau/7cl+4B4my5i3ALhsBMJxK0ofbA3IfzHl/sFh4uaNfnSuTrRDttTY3N7tULzCz/wXCoJPwsKFhUEd3m2wyw4nhFJteHDB8vzV03vsXks6A/OoARiYz4JvbW5vjnJ1FAr7I2veXfeFwnYWFmYZdc193muroyCgJzR0e3q9o+eaDK3GKZqH8qTqGqx7NcUUJLi4ikUBADgTEOQ86OyyMYBpPNbOMFSv2D+9nXk5e/tG1/u+rHdVBGK5ltytK4LiIugWgS/Y++wzDPTywBPzjYLN0cbXn/v20go501Y/HG/2OKi8aRo3v6uPqDXXAcThIFCIBx37jo/xKj/Xr2T2x4oIgT0+a1mX5knGeNp2CjkIajcYvbRghAAIScXFuErmY+z7yv21KuHCrKwj+od54Vaw33uOo2dpi4EmLdmnIQAiAIEMxnZsuNZk5XiIH2l+6vbK6DYPBcAezLi8Zf0BYdrXqvqeaIMkNYkARZERwfBh7GaJVr7r0mepcLtdQyOufPT5AdWVLnidT4O3m5p/kGxjojSZibm5tbo0TGRVWM72GWttk4alC4YqJhhydAghBlOKGElCEPSJzjii90AuyVyQXVOYLhYOzJxyzvizIY1p2ZyCEjUnA8A2ETcXxoyO9uJggmidtKHmwVij8evrEg9oy/chIgXeDm7+//0ZAJPm6Wovi4DU2lmFo0AHMmpZUYa3mJ0ZNVXV9BSeloQEFAMKbE/eGC0MJF9b3ZDKZ+lcup86a/qlhVccr8paLb0PGxo0ZGRmBKfw3GGN0dU9mpOKhQmGg6OB9ZuDWVH/I8fbxSYJmMBdsgIFGFsRk5ubVVLVUtT5UGOgXDGp/ZuSfUX2r1MfHx5VcH6cWhAkC89CDmitXWlr1vb6ev3im9uc/fBb0PwkMtHZoaoacc4dqamoeFioM5s/X1Jk6fXIfPNO+9Sl9tSIvl+mFCFbV1J6sdfSef7lyQOsfC36YoTlz6p9TyF8DTJk5Zvxbk9EfCa35J2ALYSMAAAAASUVORK5CYII=",Rw="/second-portfolio/assets/github-4a51128e.svg",pD="/second-portfolio/assets/website-9616bdc0.svg",Bw="/second-portfolio/assets/bootstrap-c4487932.svg",mD="/second-portfolio/assets/css-48dc54e7.svg",gD="/second-portfolio/assets/git-978536c3.svg",vD="/second-portfolio/assets/html-dd974c66.svg",yD="/second-portfolio/assets/jest-8da08778.svg",xD="/second-portfolio/assets/js-925931a6.svg",_D="/second-portfolio/assets/mui-922d47f9.svg",Iw="/second-portfolio/assets/nextjs-b65fab08.svg",AD="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAANwAAABTBAMAAAAGknS/AAAAJFBMVEVHcExILHdaD8haD8haDsg9PT1aD8g9PT09PT09PT1aD8g9PT2tLNmfAAAACnRSTlMAIdenTIl1VbTclchNLwAABQJJREFUaN6lmr9v00AUx+PYTYK7lAVEupjVU2dPFaMnlgpQF8+ZyoAYsnQDKQsbIC/QRB1uogNqo/vnSIl9fu/ej7uo3ojRfe/ufd73vTt3ZMnz88e7k5H4pKZ7zpR3xtzuf7ny/4tlny+i4LwfsFDeGfN7/8v3ODn7cCXI1f2AG/puMcjt1548RMrZraBXedsFn0HNnP//4cieRMrZB34/3YA35FVm/JfH9m2snL3n1MCQZDpjQsrSfouWIzPz4GvEsDpSVmTOitxfRi73aeDC6kihY9jDlgdW8Mt7lTCkWHuA3L0CJs2ECSHl2W6Mq3g5e6Kxvo4gxdrrA+S+KWAaE0GKtXdPkUsNCZB7SoYUwoo9iJUcyjURpNjtU2JXQ7lCWjggxWdFU9tqYLoI0XIASPF3aBj87vnueflppeV5CeVupXIASLH2jyDX//5BzjsEpmfSPCn+IFRutIoDE2dCxpOyqywhuSMRzDGWO+dfIVI83hi5Udv9cqWCiU1aIsWbNCe3jAITm3QlkOKFhJObcbtOwEQmnRiBFI8VTu4oCkxk0hOJFG/WnFximYzxxvQyQSYFlzxF7joAJmxXapEUTBwnNxLAnPtyDRfVX172omkrclrb6pk0JQW6Y5RcEExg0ilN/hVrvXLsOjAzFnbPpHPKz5ItLJzcFP47PZfABJmwoFM4tRwrct51EZ4XIpiDSVNSeq/wWOHkjuGcFhsRTBenjDHSqQIh/vESOnl1I4Lpxk65XGT7VUYuQWAOdaakcgVZ9+A0A5oPqtwrBKYbcwBz7Zt0xXUUS67FonLTFiZn6sYcwHztD84WpWdcA0nkPrUIp9ztzwDmWYm3bsKW3COuPQZ918XFxfuvrZcsteNvCND5AoMxZl074VgJtbSVA2IxLGmOTbrmu7OWYUU8moMjzy3mYQ33VTmFXVpa8gJH18xNOQFDThAZidC+cDYmyd3BBG4QDwVwkY2X5LA5mzGsBM5aucvmFA5ZQpPODX8dMWVKXuCsVbv0yqFRVtCkF0IfnzCnjQgw96PUUKGG2qV0Xl/Rkhc4a5WO94rfvwaVA3wbsaSsRIC5D55ARyGS0hcyVPJiwHwMXoZWkIF2ZW6ki6sZNWQdzLFDIMUrACYtkYLQvNfl3nrdapPjCg4iaeSbnZawoIPpZl7UuD8ZlvTCyPdWl2TAKDB3e1bh7msI2BvaVbfydrFqPz76BfzG27DBpEtCylSBAde7x+fd5xO5s+w3jHvTkzJTrvPY9kzpLPvDIie3IZWAFDRVjuks+76sFBcOASHwqXJMZ2mUVwopvY2pcswS1vwlRIiUnhVNLpHjw4V1rZDS26ImJ4NJLpBCpPSmr8nJYNJbiBApnXNocgqYqHOOIaVjRZOTcaA3SCFSupJ34Gau5bnopHSsaHJMfG75a2lAyrH6VULNu0oEk0GzUEnpWDnQxM7kLAmQsrcxVS418j1RIkD0HD0vvZKnyiWlfAvmO9ya/5rZYhtT5YgRr+V3G17uErOiy41FMElgC17uFJc8XS6TLsHoVBpeboZZ0eX8VChkAxe+tE+xjQXk5vISshhS4DHokZWAnLaEMoIUeAx6tLGAHB7zRt7oQpJbopIXkqvlj0x1BCnIQ7dhubH8CS2PIAXd5uxYCcklUR8IRVIwmtdBORShRkzKjfwXLi1kJSiXyzsWQ4pnY0G5iXhahAtvZDlgY9t/UZGr97PK6W4AAAAASUVORK5CYII=",Lw="/second-portfolio/assets/react-67ad1a23.svg",SD="/second-portfolio/assets/redux-79848635.svg",MD="/second-portfolio/assets/sass-4e495151.svg",Dw="/second-portfolio/assets/tailwind-fdeeb575.svg",ED="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAMAAABHPGVmAAAANlBMVEUALEtsMk2zucE0OVEAKEoAF0UABDb/QVT/////2kzoPlPSt0ynN1BVW09seonj5umRhkvLPFGRUCAUAAAFH0lEQVRo3u1aC5OjIAwOEnBXqdb//2evysMQCEq7dzN3c8zO7G6LfOb9JQpff2DBf5C/CmQw1prh8ohhsdbq4S0QjbAvRLM0rl+t3/ba+OgHMZAWiuKsFsgynSAD0qsRwdY27V9k+4YuEH+xcpuDoDWz8j2nFGrblN/VA3Jcj2NY2h+gq7KiCruO/+x9kDXDGMcJyxOihs5dx//3QUx+9b68OhamKpXt0ZIoVZD9+i0HCTqDzPXYllGyigjCDxi3U2WGa4oo7C7IWgUZx90yuMgYx4a7IEv9iOMQxBAbte91BwhIIOMZe1Pta/e6br0JYkWQMWLUv93NNnwOMoa4rH85/RDIiA1JfgzEo6AEctsmpgnSQNltchdEt0E8iuBdt114kLVOrF9xYvUDEZ/dcU3WnrTydQXiczJ+lFauQbxZ1MeSbNcgtVRvuooWv81pc04prY8UiVBNxF1Fy5LbnJyCk5UweqKKgF9ug+y5Hty4aXZmuSbuDsN9thLVAZdrYuXmNpHIeWGikQ+2DDKzHOX5VoJctaESpD+/Kyv3MBWuKHEYyEo1hGo7E2INJBflJLWcokOVZKPeci1UMTwKEN8iPviog1hgxPPM3/h4nTgbJMvMr48exPaauThpJYC1I2WuwCgI8zVkogTdOSxbCcg1peq58BmsXKA800XTKZTirQQQTWmpdjyCZvA5h/VE8jEQQWIxiJG2JhAjl20X3ReZG0eF+eTgb2YqyRNGEB03CunWhMMMBTEBNBKCMitjQoGQqXSjOs3hrJmCzAF19iGLFV242G6AzHyjNXer6/Dbu/HhvvvpOtoe6spAjwJHMmzVJhMsYogbY1BU/C3RfH/AFyxVxyUtyUwMcPovQZ5Bcv+AMoBtC4LxmOhK6H+iWPMpikgq7XFFi19R9yWnI3djyT1jJscG8eGHGeq+BFw8BBsWS9/HO6VgWH4u2vU4xIg2ccnChv3mAQoXdj1ApkZXlRkhFRzDTNS0q4VV2qFYstXEWw+nigGKLS54MBgQW56suhvqR6XS2oK8In6tS+tOmkIy1fe885T5m2QzIzbD4U7XPUF68uAqFkFArrC0MmUJrqXPLOybHi5M8Bjk7kvp0IWyXKxaQCkEz79Ra1ErjxPjQTO9a4ThWX6Da6LL6UOUKCXgk6wAdWpJVZF/A6dcasxpgQJ6zzvnwWCqZPUK+/BSDBIl8tITj0txwdlKKotChNm1Qe4iRdPEOt59n2QlN2ZxGITImDfU56PU9yHW4GI9mbtsSR05G+asfklawzIb11i937d5AZDpSexPBmt4NT3ubeYQsyn6i32fXu91WnwkgeS09FNdOHT1jMgj89a6384dDqDGmyivyFRu6u9+y0KmioP3qFfOTW/38RW+h2068MZEQhhpXA5DPp4SqdYY9c0pEQpTQf1TIKs8JL+e6K0d40El9BFN0yshGmsgD6nYXZllL6O6Y1a/yQVVlmUTfBhuxSKLlrHRmNmOCffUeiDgfi+IbgZ+D4iRQxua3cbWAaIljdBkLDYb9x83oTgCwcWIoa+EXN8d8XEOihVheyK+PuHGkxJa4XnQx1kYKCesTt86QUxxm4oMltLk+PVBMRe+X7SGo8IWgW5rRNDlsq6dj8qBEc+ldHTvAds5Rut4VB4nt+lhfo0Wfq2GkefOh/6h+SLLygKT1ff6QvYiRn02Ht46+eBFjIMTex2Y9qsri4mq0u+9gTO81o0XbPaXaPC9l2P+v7D0T4P8AuJZ7oVGncBCAAAAAElFTkSuQmCC",Fw="/second-portfolio/assets/threejs-7e78a081.svg",wD="/second-portfolio/assets/typescript-77e4bfb5.svg",TD="/second-portfolio/assets/icons8-linkedin-d6333671.svg",CD="/second-portfolio/assets/telegram-6ce56920.svg",bD="/second-portfolio/assets/atb-media-3fd4a405.png",PD="/second-portfolio/assets/car-game-91272c32.png",RD="/second-portfolio/assets/coca-cola_zero-8c4944cd.png",BD="/second-portfolio/assets/designwave-00a67dc5.png",ID="/second-portfolio/assets/filmhub-cb433ab9.png",LD="/second-portfolio/assets/gym-lovers-67746270.png",DD="/second-portfolio/assets/lingo-3955f981.png",FD="/second-portfolio/assets/marble-race-7dee0386.png",ND="/second-portfolio/assets/melodimix-ea45bb87.png",OD="/second-portfolio/assets/movies-3afffd15.png",UD="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeBAMAAADJHrORAAAAMFBMVEVHcEzBBRjSAhfXARvSAhTVARbTAhfTAhnRAhbhACPiACnjABziAC3nJUbygpfsUW15uFVtAAAACXRSTlMA/s73imIXqEP3K1QrAAAAvUlEQVQY02NgoD1gczIPYGAtVkmA8rtnrpycoL1791YIl2P/71WrlE7OnLk7AMxPunfqzJmZK1fOnG0G5ke/m3XmzKpVq2bOhmjwfTvnzJlTQP7MLQj+mVVA9SYQ9X/B8itn7hYF85nuzwLxZ87crAZxzv6bq9aAlG9sgDgg6ibI9Jm7RaDuY9kJ4u+eqADzQPWsVatmTxaCe4h958yZkwUVED50NjYUFEfyMYegoKADchAkCYqhhkk5A30AAMG4UMv4lrVwAAAAAElFTkSuQmCC",Nw="/second-portfolio/assets/arrow_up-c5244374.svg",Ow=[{id:"#about",title:"About"},{id:"#skills",title:"Skills"},{id:"#projects",title:"Projects"},{id:"#contact",title:"Contact"}],kD=[{title:"Front-end Developer",icon:dD},{title:"React Developer",icon:hD},{title:"Next.js Developer",icon:fD},{title:"Creative Developer",icon:uD}],HD=[{name:"HTML 5",icon:vD,shadow:"#e65100b7"},{name:"CSS 3",icon:mD,shadow:"#0277bdb7"},{name:"Sass",icon:MD,shadow:"#f06292"},{name:"JavaScript",icon:xD,shadow:"#ffde39b7"},{name:"TypeScript",icon:wD,shadow:"#1976d2b7"},{name:"React JS",icon:Lw,shadow:"#80deea"},{name:"Next JS",icon:Iw,shadow:"#212121b7"},{name:"Redux Toolkit",icon:SD,shadow:"#7e57c2"},{name:"MUI",icon:_D,shadow:"#0288d1b7"},{name:"Jest",icon:yD,shadow:"#9a425bb7"},{name:"React-Query",icon:ED},{name:"Tailwind CSS",icon:Dw,shadow:"#00acc1b7"},{name:"Bootstrap",icon:Bw,shadow:"#6c19ffb7"},{name:"Three JS",icon:Fw,shadow:"#000000"},{name:"PWA",icon:AD,shadow:"#5a0fc8b7"},{name:"git",icon:gD,shadow:"#e65100b7"}],zD=[{title:"React.js",languages_name:"JavaScript, TypeScript",icon:Lw,iconBg:"#383E56",date:"March 2023"},{title:"Next.js",languages_name:"JavaScript, TypeScript",icon:Iw,iconBg:"#E6DEDD",date:"October 2023"},{title:"ThreeJs",languages_name:"JavaScript",icon:Fw,iconBg:"#E6DEDD",date:"April 2024"},{title:"Bootstrap",languages_name:"Css",icon:Bw,iconBg:"#383E56",date:"February 2023"},{title:"TailwindCss",languages_name:"Css",icon:Dw,iconBg:"#E6DEDD",date:"September 2023"}],GD=[{name:"Lingo",description:"I've developed a web application called Lingo, which is a language learning program. Here are its features: the ability to select a course and learn from it, the option to continue a lesson from where you left off, an engaging user interface, a leaderboard page showcasing the top ten language learners, and a missions page displaying missions along with their completion status. We also have a system of hearts: with each incorrect answer, you lose hearts, and if you run out, you can't continue. You can regain hearts by purchasing them from the store using points earned or by revisiting completed lessons and answering questions correctly to earn hearts. Additionally, we offer the option to purchase a premium account where hearts become unlimited, ensuring uninterrupted learning even with mistakes. With Lingo, language learning becomes an exciting and rewarding experience.",tags:[{name:"react",color:"lightblue-text-gradient"},{name:"next.js",color:"black-text-gradient"},{name:"tailwind",color:"blue-text-gradient"},{name:"postgres",color:"green-text-gradient"}],image:DD,source_code_link:"https://github.com/charactermi/lingo",live_site:"https://charactermi-lingo.vercel.app"},{name:"MelodiMix",description:"MelodiMix, a music web application where users can listen to songs uploaded by others and also upload their own tracks. With its stunning user interface, MelodiMix allows us to like songs, curating a personalized collection accessible on the Liked page. This application features an advanced music player system, providing access to comprehensive song information and offering various additional functionalities. Moreover, it includes a powerful search system where users can easily find songs by typing their titles. MelodiMix revolutionizes the way we discover and enjoy music.",tags:[{name:"react",color:"lightblue-text-gradient"},{name:"next.js",color:"black-text-gradient"},{name:"tailwind",color:"blue-text-gradient"},{name:"supabase",color:"green-text-gradient"}],image:ND,source_code_link:"https://github.com/charactermi/melodimix",live_site:"https://melodi-mix.vercel.app"},{name:"Design-Wave",description:"Design-Wave, is a large and captivating platform for editing photos using the power of AI. On the main page of this app, users can view edits made by others and also search for specific images. The highly advanced search system of this application allows us to search for images based on their title and content. If we navigate to an edited image page, we can view the before and after versions of the image and also download the edited image. Additionally, if we are the ones who edited the image, we can update or even delete it. The editing capabilities of this application include Restore Image, Background Remove, Generative Fill, Object Remove, and Object Recolor. As a regular user, we have only ten Credits to edit an image; if these Credits are exhausted, we must purchase a Premium package to continue editing photos.",tags:[{name:"react",color:"lightblue-text-gradient"},{name:"next.js",color:"black-text-gradient"},{name:"tailwind",color:"blue-text-gradient"},{name:"mongodb",color:"green-text-gradient"}],image:BD,source_code_link:"https://github.com/charactermi/design-wave",live_site:"https://design-wave.vercel.app"},{name:"Film Hub",description:"Filmhub is a comprehensive app for movie lovers. The app features a wide variety of movie from all over the world. Users can use the app to find their favorite movies and get comprehensive information about them.",tags:[{name:"react",color:"lightblue-text-gradient"},{name:"mui",color:"blue-text-gradient"},{name:"redux",color:"violet-text-gradient"},{name:"RESTapi",color:"green-text-gradient"}],image:ID,source_code_link:"https://github.com/charactermi/film_hub",live_site:"https://charactermi.github.io/film_hub"},{name:"ATB Media",description:"A Youtube clone with a stunning videos section, categories, responsive channel and video cards, channel pages and most importantly video pages were you can play the video straight from the app, see related videos and much more...",tags:[{name:"react",color:"lightblue-text-gradient"},{name:"api",color:"pink-text-gradient"},{name:"mui",color:"blue-text-gradient"}],image:bD,source_code_link:"https://github.com/charactermi/atb_media",live_site:"https://charactermi.github.io/atb_media"},{name:"Marble Race",description:"Marble Race is a web-based game created using Three.js, offering an exhilarating experience in the genre of adventure and challenging games. In this game, players view various levels from the perspective of a marble. Along the path towards the finish line, they encounter different types of obstacles, which they must navigate through to reach the goal. A timer at the top of the page starts as soon as the game begins, motivating players to beat their previous records. Additionally, upon completing each level, players can progress to the next one, which is more challenging and contains more obstacles than the previous level.",tags:[{name:"react",color:"lightblue-text-gradient"},{name:"three.js",color:"black-text-gradient"},{name:"zustand",color:"blue-text-gradient"}],image:FD,source_code_link:"https://github.com/charactermi/marble-race",live_site:"https://charactermi.github.io/marble-race"},{name:"Car Game",description:"This game offers a captivating and dynamic visual experience for users, and thanks to its responsive design, it runs smoothly on all devices. In this game, you enter a meticulously designed 3D world. The use of three.js allows you to create complex 3D models and realistic environments, while react-three-fiber helps you seamlessly integrate these elements into a React environment. One of the standout features of this game is its responsiveness. No matter whether you are using a smartphone, tablet, or personal computer, you can enjoy the game. The responsive design ensures that the game's graphical elements and user interface automatically adjust to the size of your screen, providing an optimized and enjoyable gaming experience at all times. This game is not only visually stunning but also technically advanced. The combination of three.js and react-three-fiber allows developers to leverage the strengths of both technologies to create a dynamic and engaging 3D game that also performs well. Overall, this game is a great example of how modern web technologies can be used to create exciting and immersive gaming experiences.",tags:[{name:"react",color:"lightblue-text-gradient"},{name:"three.js",color:"black-text-gradient"},{name:"css",color:"blue-text-gradient"}],image:PD,source_code_link:"https://github.com/charactermi/car-game",live_site:"https://charactermi.github.io/car-game"},{name:"Gym Lovers",description:"a modern Web application fitness exercises app, with the functionality to choose exercise categories and specific muscle groups, browse more than 1000 exercises with practical examples and much more...",tags:[{name:"react",color:"lightblue-text-gradient"},{name:"api",color:"pink-text-gradient"},{name:"mui",color:"blue-text-gradient"}],image:LD,source_code_link:"https://github.com/charactermi/gym-lovers",live_site:"https://charactermi.github.io/gym-lovers"},{name:"Coca-Cola Zero",description:"A modern UI/UX website that showcases a 3D model and the Power of Design.",tags:[{name:"react",color:"lightblue-text-gradient"},{name:"threejs",color:"black-text-gradient"},{name:"tailwind",color:"blue-text-gradient"}],image:RD,source_code_link:"https://github.com/charactermi/coca-cola_zero",live_site:"https://charactermi.github.io/coca-cola_zero"},{name:"Movie Site",description:"this is the first site i've Created ! it's totally Responsive on all devices, also this is an static site. the point of creating this site was improving my html, css and JS Skills.",tags:[{name:"javascript",color:"yellow-text-gradient"},{name:"css",color:"blue-text-gradient"}],image:OD,source_code_link:"https://github.com/charactermi/movies",live_site:"https://charactermi.github.io/movies"}],Uw=[{title:"Git hub",link:"https://github.com/characterMi",image:Rw},{title:"Linkedin",link:"https://linkedin.com/in/abolfazl-taghadosi/",image:TD},{title:"Telegram",link:"https://t.me/character_mi",image:CD}],O2=k.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"}),U2=k.createContext({}),k2=k.createContext(null),H2=typeof document<"u",Ou=H2?k.useLayoutEffect:k.useEffect,kw=k.createContext({strict:!1});function VD(n,e,t,i){const{visualElement:r}=k.useContext(U2),s=k.useContext(kw),o=k.useContext(k2),a=k.useContext(O2).reducedMotion,l=k.useRef();i=i||s.renderer,!l.current&&i&&(l.current=i(n,{visualState:e,parent:r,props:t,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const c=l.current;k.useInsertionEffect(()=>{c&&c.update(t,o)});const h=k.useRef(!!window.HandoffAppearAnimations);return Ou(()=>{c&&(c.render(),h.current&&c.animationState&&c.animationState.animateChanges())}),k.useEffect(()=>{c&&(c.updateFeatures(),!h.current&&c.animationState&&c.animationState.animateChanges(),window.HandoffAppearAnimations=void 0,h.current=!1)}),c}function Vc(n){return typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function WD(n,e,t){return k.useCallback(i=>{i&&n.mount&&n.mount(i),e&&(i?e.mount(i):e.unmount()),t&&(typeof t=="function"?t(i):Vc(t)&&(t.current=i))},[e])}function Fh(n){return typeof n=="string"||Array.isArray(n)}function z2(n){return typeof n=="object"&&typeof n.start=="function"}const O4=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],U4=["initial",...O4];function G2(n){return z2(n.animate)||U4.some(e=>Fh(n[e]))}function Hw(n){return!!(G2(n)||n.variants)}function jD(n,e){if(G2(n)){const{initial:t,animate:i}=n;return{initial:t===!1||Fh(t)?t:void 0,animate:Fh(i)?i:void 0}}return n.inherit!==!1?e:{}}function qD(n){const{initial:e,animate:t}=jD(n,k.useContext(U2));return k.useMemo(()=>({initial:e,animate:t}),[cx(e),cx(t)])}function cx(n){return Array.isArray(n)?n.join(" "):n}const ux={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Nh={};for(const n in ux)Nh[n]={isEnabled:e=>ux[n].some(t=>!!e[t])};function XD(n){for(const e in n)Nh[e]={...Nh[e],...n[e]}}const k4=k.createContext({}),zw=k.createContext({}),JD=Symbol.for("motionComponentSymbol");function KD({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:i,Component:r}){n&&XD(n);function s(a,l){let c;const h={...k.useContext(O2),...a,layoutId:YD(a)},{isStatic:d}=h,p=qD(a),m=i(a,d);if(!d&&H2){p.visualElement=VD(r,m,h,e);const v=k.useContext(zw),S=k.useContext(kw).strict;p.visualElement&&(c=p.visualElement.loadFeatures(h,S,n,v))}return k.createElement(U2.Provider,{value:p},c&&p.visualElement?k.createElement(c,{visualElement:p.visualElement,...h}):null,t(r,a,WD(m,p.visualElement,l),m,d,p.visualElement))}const o=k.forwardRef(s);return o[JD]=r,o}function YD({layoutId:n}){const e=k.useContext(k4).id;return e&&n!==void 0?e+"-"+n:n}function QD(n){function e(i,r={}){return KD(n(i,r))}if(typeof Proxy>"u")return e;const t=new Map;return new Proxy(e,{get:(i,r)=>(t.has(r)||t.set(r,e(r)),t.get(r))})}const ZD=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function H4(n){return typeof n!="string"||n.includes("-")?!1:!!(ZD.indexOf(n)>-1||/[A-Z]/.test(n))}const Qp={};function $D(n){Object.assign(Qp,n)}const hd=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Il=new Set(hd);function Gw(n,{layout:e,layoutId:t}){return Il.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!Qp[n]||n==="opacity")}const Un=n=>!!(n&&n.getVelocity),eF={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},tF=hd.length;function nF(n,{enableHardwareAcceleration:e=!0,allowTransformNone:t=!0},i,r){let s="";for(let o=0;o<tF;o++){const a=hd[o];if(n[a]!==void 0){const l=eF[a]||a;s+=`${l}(${n[a]}) `}}return e&&!n.z&&(s+="translateZ(0)"),s=s.trim(),r?s=r(n,i?"":s):t&&i&&(s="none"),s}const Vw=n=>e=>typeof e=="string"&&e.startsWith(n),Ww=Vw("--"),xg=Vw("var(--"),iF=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,rF=(n,e)=>e&&typeof n=="number"?e.transform(n):n,ua=(n,e,t)=>Math.min(Math.max(t,n),e),Ll={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},rh={...Ll,transform:n=>ua(0,1,n)},t0={...Ll,default:1},sh=n=>Math.round(n*1e5)/1e5,V2=/(-)?([\d]*\.?[\d])+/g,jw=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,sF=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function dd(n){return typeof n=="string"}const pd=n=>({test:e=>dd(e)&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Oo=pd("deg"),ws=pd("%"),at=pd("px"),oF=pd("vh"),aF=pd("vw"),fx={...ws,parse:n=>ws.parse(n)/100,transform:n=>ws.transform(n*100)},hx={...Ll,transform:Math.round},qw={borderWidth:at,borderTopWidth:at,borderRightWidth:at,borderBottomWidth:at,borderLeftWidth:at,borderRadius:at,radius:at,borderTopLeftRadius:at,borderTopRightRadius:at,borderBottomRightRadius:at,borderBottomLeftRadius:at,width:at,maxWidth:at,height:at,maxHeight:at,size:at,top:at,right:at,bottom:at,left:at,padding:at,paddingTop:at,paddingRight:at,paddingBottom:at,paddingLeft:at,margin:at,marginTop:at,marginRight:at,marginBottom:at,marginLeft:at,rotate:Oo,rotateX:Oo,rotateY:Oo,rotateZ:Oo,scale:t0,scaleX:t0,scaleY:t0,scaleZ:t0,skew:Oo,skewX:Oo,skewY:Oo,distance:at,translateX:at,translateY:at,translateZ:at,x:at,y:at,z:at,perspective:at,transformPerspective:at,opacity:rh,originX:fx,originY:fx,originZ:at,zIndex:hx,fillOpacity:rh,strokeOpacity:rh,numOctaves:hx};function z4(n,e,t,i){const{style:r,vars:s,transform:o,transformOrigin:a}=n;let l=!1,c=!1,h=!0;for(const d in e){const p=e[d];if(Ww(d)){s[d]=p;continue}const m=qw[d],v=rF(p,m);if(Il.has(d)){if(l=!0,o[d]=v,!h)continue;p!==(m.default||0)&&(h=!1)}else d.startsWith("origin")?(c=!0,a[d]=v):r[d]=v}if(e.transform||(l||i?r.transform=nF(n.transform,t,h,i):r.transform&&(r.transform="none")),c){const{originX:d="50%",originY:p="50%",originZ:m=0}=a;r.transformOrigin=`${d} ${p} ${m}`}}const G4=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Xw(n,e,t){for(const i in e)!Un(e[i])&&!Gw(i,t)&&(n[i]=e[i])}function lF({transformTemplate:n},e,t){return k.useMemo(()=>{const i=G4();return z4(i,e,{enableHardwareAcceleration:!t},n),Object.assign({},i.vars,i.style)},[e])}function cF(n,e,t){const i=n.style||{},r={};return Xw(r,i,n),Object.assign(r,lF(n,e,t)),n.transformValues?n.transformValues(r):r}function uF(n,e,t){const i={},r=cF(n,e,t);return n.drag&&n.dragListener!==!1&&(i.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(i.tabIndex=0),i.style=r,i}const fF=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function Zp(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||fF.has(n)}let Jw=n=>!Zp(n);function hF(n){n&&(Jw=e=>e.startsWith("on")?!Zp(e):n(e))}try{hF(require("@emotion/is-prop-valid").default)}catch{}function dF(n,e,t){const i={};for(const r in n)r==="values"&&typeof n.values=="object"||(Jw(r)||t===!0&&Zp(r)||!e&&!Zp(r)||n.draggable&&r.startsWith("onDrag"))&&(i[r]=n[r]);return i}function dx(n,e,t){return typeof n=="string"?n:at.transform(e+t*n)}function pF(n,e,t){const i=dx(e,n.x,n.width),r=dx(t,n.y,n.height);return`${i} ${r}`}const mF={offset:"stroke-dashoffset",array:"stroke-dasharray"},gF={offset:"strokeDashoffset",array:"strokeDasharray"};function vF(n,e,t=1,i=0,r=!0){n.pathLength=1;const s=r?mF:gF;n[s.offset]=at.transform(-i);const o=at.transform(e),a=at.transform(t);n[s.array]=`${o} ${a}`}function V4(n,{attrX:e,attrY:t,attrScale:i,originX:r,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},h,d,p){if(z4(n,c,h,p),d){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:m,style:v,dimensions:S}=n;m.transform&&(S&&(v.transform=m.transform),delete m.transform),S&&(r!==void 0||s!==void 0||v.transform)&&(v.transformOrigin=pF(S,r!==void 0?r:.5,s!==void 0?s:.5)),e!==void 0&&(m.x=e),t!==void 0&&(m.y=t),i!==void 0&&(m.scale=i),o!==void 0&&vF(m,o,a,l,!1)}const Kw=()=>({...G4(),attrs:{}}),W4=n=>typeof n=="string"&&n.toLowerCase()==="svg";function yF(n,e,t,i){const r=k.useMemo(()=>{const s=Kw();return V4(s,e,{enableHardwareAcceleration:!1},W4(i),n.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(n.style){const s={};Xw(s,n.style,n),r.style={...s,...r.style}}return r}function xF(n=!1){return(t,i,r,{latestValues:s},o)=>{const l=(H4(t)?yF:uF)(i,s,o,t),h={...dF(i,typeof t=="string",n),...l,ref:r},{children:d}=i,p=k.useMemo(()=>Un(d)?d.get():d,[d]);return k.createElement(t,{...h,children:p})}}const j4=n=>n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function Yw(n,{style:e,vars:t},i,r){Object.assign(n.style,e,r&&r.getProjectionStyles(i));for(const s in t)n.style.setProperty(s,t[s])}const Qw=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Zw(n,e,t,i){Yw(n,e,void 0,i);for(const r in e.attrs)n.setAttribute(Qw.has(r)?r:j4(r),e.attrs[r])}function q4(n,e){const{style:t}=n,i={};for(const r in t)(Un(t[r])||e.style&&Un(e.style[r])||Gw(r,n))&&(i[r]=t[r]);return i}function $w(n,e){const t=q4(n,e);for(const i in n)if(Un(n[i])||Un(e[i])){const r=hd.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;t[r]=n[i]}return t}function X4(n,e,t,i={},r={}){return typeof e=="function"&&(e=e(t!==void 0?t:n.custom,i,r)),typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"&&(e=e(t!==void 0?t:n.custom,i,r)),e}function md(n){const e=k.useRef(null);return e.current===null&&(e.current=n()),e.current}const $p=n=>Array.isArray(n),_F=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),AF=n=>$p(n)?n[n.length-1]||0:n;function dp(n){const e=Un(n)?n.get():n;return _F(e)?e.toValue():e}function SF({scrapeMotionValuesFromProps:n,createRenderState:e,onMount:t},i,r,s){const o={latestValues:MF(i,r,s,n),renderState:e()};return t&&(o.mount=a=>t(i,a,o)),o}const eT=n=>(e,t)=>{const i=k.useContext(U2),r=k.useContext(k2),s=()=>SF(n,e,i,r);return t?s():md(s)};function MF(n,e,t,i){const r={},s=i(n,{});for(const p in s)r[p]=dp(s[p]);let{initial:o,animate:a}=n;const l=G2(n),c=Hw(n);e&&c&&!l&&n.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let h=t?t.initial===!1:!1;h=h||o===!1;const d=h?a:o;return d&&typeof d!="boolean"&&!z2(d)&&(Array.isArray(d)?d:[d]).forEach(m=>{const v=X4(n,m);if(!v)return;const{transitionEnd:S,transition:_,...g}=v;for(const x in g){let A=g[x];if(Array.isArray(A)){const E=h?A.length-1:0;A=A[E]}A!==null&&(r[x]=A)}for(const x in S)r[x]=S[x]}),r}const wn=n=>n;class px{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const t=this.order.indexOf(e);t!==-1&&(this.order.splice(t,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function EF(n){let e=new px,t=new px,i=0,r=!1,s=!1;const o=new WeakSet,a={schedule:(l,c=!1,h=!1)=>{const d=h&&r,p=d?e:t;return c&&o.add(l),p.add(l)&&d&&r&&(i=e.order.length),l},cancel:l=>{t.remove(l),o.delete(l)},process:l=>{if(r){s=!0;return}if(r=!0,[e,t]=[t,e],t.clear(),i=e.order.length,i)for(let c=0;c<i;c++){const h=e.order[c];h(l),o.has(h)&&(a.schedule(h),n())}r=!1,s&&(s=!1,a.process(l))}};return a}const n0=["prepare","read","update","preRender","render","postRender"],wF=40;function TF(n,e){let t=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},s=n0.reduce((d,p)=>(d[p]=EF(()=>t=!0),d),{}),o=d=>s[d].process(r),a=()=>{const d=performance.now();t=!1,r.delta=i?1e3/60:Math.max(Math.min(d-r.timestamp,wF),1),r.timestamp=d,r.isProcessing=!0,n0.forEach(o),r.isProcessing=!1,t&&e&&(i=!1,n(a))},l=()=>{t=!0,i=!0,r.isProcessing||n(a)};return{schedule:n0.reduce((d,p)=>{const m=s[p];return d[p]=(v,S=!1,_=!1)=>(t||l(),m.schedule(v,S,_)),d},{}),cancel:d=>n0.forEach(p=>s[p].cancel(d)),state:r,steps:s}}const{schedule:kt,cancel:Dr,state:bn,steps:u5}=TF(typeof requestAnimationFrame<"u"?requestAnimationFrame:wn,!0),CF={useVisualState:eT({scrapeMotionValuesFromProps:$w,createRenderState:Kw,onMount:(n,e,{renderState:t,latestValues:i})=>{kt.read(()=>{try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}),kt.render(()=>{V4(t,i,{enableHardwareAcceleration:!1},W4(e.tagName),n.transformTemplate),Zw(e,t)})}})},bF={useVisualState:eT({scrapeMotionValuesFromProps:q4,createRenderState:G4})};function PF(n,{forwardMotionProps:e=!1},t,i){return{...H4(n)?CF:bF,preloadedFeatures:t,useRender:xF(e),createVisualElement:i,Component:n}}function no(n,e,t,i={passive:!0}){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t)}const tT=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1;function W2(n,e="page"){return{point:{x:n[e+"X"],y:n[e+"Y"]}}}const RF=n=>e=>tT(e)&&n(e,W2(e));function oo(n,e,t,i){return no(n,e,RF(t),i)}const BF=(n,e)=>t=>e(n(t)),ia=(...n)=>n.reduce(BF);function nT(n){let e=null;return()=>{const t=()=>{e=null};return e===null?(e=n,t):!1}}const mx=nT("dragHorizontal"),gx=nT("dragVertical");function iT(n){let e=!1;if(n==="y")e=gx();else if(n==="x")e=mx();else{const t=mx(),i=gx();t&&i?e=()=>{t(),i()}:(t&&t(),i&&i())}return e}function rT(){const n=iT(!0);return n?(n(),!1):!0}class _a{constructor(e){this.isMounted=!1,this.node=e}update(){}}function vx(n,e){const t="pointer"+(e?"enter":"leave"),i="onHover"+(e?"Start":"End"),r=(s,o)=>{if(s.type==="touch"||rT())return;const a=n.getProps();n.animationState&&a.whileHover&&n.animationState.setActive("whileHover",e),a[i]&&kt.update(()=>a[i](s,o))};return oo(n.current,t,r,{passive:!n.getProps()[i]})}class IF extends _a{mount(){this.unmount=ia(vx(this.node,!0),vx(this.node,!1))}unmount(){}}class LF extends _a{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ia(no(this.node.current,"focus",()=>this.onFocus()),no(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const sT=(n,e)=>e?n===e?!0:sT(n,e.parentElement):!1;function f5(n,e){if(!e)return;const t=new PointerEvent("pointer"+n);e(t,W2(t))}class DF extends _a{constructor(){super(...arguments),this.removeStartListeners=wn,this.removeEndListeners=wn,this.removeAccessibleListeners=wn,this.startPointerPress=(e,t)=>{if(this.removeEndListeners(),this.isPressing)return;const i=this.node.getProps(),s=oo(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:h}=this.node.getProps();kt.update(()=>{sT(this.node.current,a.target)?c&&c(a,l):h&&h(a,l)})},{passive:!(i.onTap||i.onPointerUp)}),o=oo(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(i.onTapCancel||i.onPointerCancel)});this.removeEndListeners=ia(s,o),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||f5("up",(l,c)=>{const{onTap:h}=this.node.getProps();h&&kt.update(()=>h(l,c))})};this.removeEndListeners(),this.removeEndListeners=no(this.node.current,"keyup",o),f5("down",(a,l)=>{this.startPress(a,l)})},t=no(this.node.current,"keydown",e),i=()=>{this.isPressing&&f5("cancel",(s,o)=>this.cancelPress(s,o))},r=no(this.node.current,"blur",i);this.removeAccessibleListeners=ia(t,r)}}startPress(e,t){this.isPressing=!0;const{onTapStart:i,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),i&&kt.update(()=>i(e,t))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!rT()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:i}=this.node.getProps();i&&kt.update(()=>i(e,t))}mount(){const e=this.node.getProps(),t=oo(this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),i=no(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=ia(t,i)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const _g=new WeakMap,h5=new WeakMap,FF=n=>{const e=_g.get(n.target);e&&e(n)},NF=n=>{n.forEach(FF)};function OF({root:n,...e}){const t=n||document;h5.has(t)||h5.set(t,{});const i=h5.get(t),r=JSON.stringify(e);return i[r]||(i[r]=new IntersectionObserver(NF,{root:n,...e})),i[r]}function UF(n,e,t){const i=OF(e);return _g.set(n,t),i.observe(n),()=>{_g.delete(n),i.unobserve(n)}}const kF={some:0,all:1};class HF extends _a{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:i,amount:r="some",once:s}=e,o={root:t?t.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:kF[r]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:h,onViewportLeave:d}=this.node.getProps(),p=c?h:d;p&&p(l)};return UF(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(zF(e,t))&&this.startObserver()}unmount(){}}function zF({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const GF={inView:{Feature:HF},tap:{Feature:DF},focus:{Feature:LF},hover:{Feature:IF}};function oT(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let i=0;i<t;i++)if(e[i]!==n[i])return!1;return!0}function VF(n){const e={};return n.values.forEach((t,i)=>e[i]=t.get()),e}function WF(n){const e={};return n.values.forEach((t,i)=>e[i]=t.getVelocity()),e}function j2(n,e,t){const i=n.getProps();return X4(i,e,t!==void 0?t:i.custom,VF(n),WF(n))}const jF="framerAppearId",qF="data-"+j4(jF);let aT=wn,q2=wn;const ao=n=>n*1e3,$r=n=>n/1e3,XF={current:!1},lT=n=>Array.isArray(n)&&typeof n[0]=="number";function cT(n){return!!(!n||typeof n=="string"&&uT[n]||lT(n)||Array.isArray(n)&&n.every(cT))}const Wf=([n,e,t,i])=>`cubic-bezier(${n}, ${e}, ${t}, ${i})`,uT={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Wf([0,.65,.55,1]),circOut:Wf([.55,0,1,.45]),backIn:Wf([.31,.01,.66,-.59]),backOut:Wf([.33,1.53,.69,.99])};function fT(n){if(n)return lT(n)?Wf(n):Array.isArray(n)?n.map(fT):uT[n]}function JF(n,e,t,{delay:i=0,duration:r,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const c={[e]:t};l&&(c.offset=l);const h=fT(a);return Array.isArray(h)&&(c.easing=h),n.animate(c,{delay:i,duration:r,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}function KF(n,{repeat:e,repeatType:t="loop"}){const i=e&&t!=="loop"&&e%2===1?0:n.length-1;return n[i]}const hT=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,YF=1e-7,QF=12;function ZF(n,e,t,i,r){let s,o,a=0;do o=e+(t-e)/2,s=hT(o,i,r)-n,s>0?t=o:e=o;while(Math.abs(s)>YF&&++a<QF);return o}function gd(n,e,t,i){if(n===e&&t===i)return wn;const r=s=>ZF(s,0,1,n,t);return s=>s===0||s===1?s:hT(r(s),e,i)}const $F=gd(.42,0,1,1),eN=gd(0,0,.58,1),dT=gd(.42,0,.58,1),pT=n=>Array.isArray(n)&&typeof n[0]!="number",mT=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,gT=n=>e=>1-n(1-e),vT=n=>1-Math.sin(Math.acos(n)),J4=gT(vT),tN=mT(J4),yT=gd(.33,1.53,.69,.99),K4=gT(yT),nN=mT(K4),iN=n=>(n*=2)<1?.5*K4(n):.5*(2-Math.pow(2,-10*(n-1))),rN={linear:wn,easeIn:$F,easeInOut:dT,easeOut:eN,circIn:vT,circInOut:tN,circOut:J4,backIn:K4,backInOut:nN,backOut:yT,anticipate:iN},yx=n=>{if(Array.isArray(n)){q2(n.length===4);const[e,t,i,r]=n;return gd(e,t,i,r)}else if(typeof n=="string")return rN[n];return n},Y4=(n,e)=>t=>!!(dd(t)&&sF.test(t)&&t.startsWith(n)||e&&Object.prototype.hasOwnProperty.call(t,e)),xT=(n,e,t)=>i=>{if(!dd(i))return i;const[r,s,o,a]=i.match(V2);return{[n]:parseFloat(r),[e]:parseFloat(s),[t]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},sN=n=>ua(0,255,n),d5={...Ll,transform:n=>Math.round(sN(n))},sl={test:Y4("rgb","red"),parse:xT("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:i=1})=>"rgba("+d5.transform(n)+", "+d5.transform(e)+", "+d5.transform(t)+", "+sh(rh.transform(i))+")"};function oN(n){let e="",t="",i="",r="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),i=n.substring(5,7),r=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),i=n.substring(3,4),r=n.substring(4,5),e+=e,t+=t,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const Ag={test:Y4("#"),parse:oN,transform:sl.transform},Wc={test:Y4("hsl","hue"),parse:xT("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:i=1})=>"hsla("+Math.round(n)+", "+ws.transform(sh(e))+", "+ws.transform(sh(t))+", "+sh(rh.transform(i))+")"},Ti={test:n=>sl.test(n)||Ag.test(n)||Wc.test(n),parse:n=>sl.test(n)?sl.parse(n):Wc.test(n)?Wc.parse(n):Ag.parse(n),transform:n=>dd(n)?n:n.hasOwnProperty("red")?sl.transform(n):Wc.transform(n)},an=(n,e,t)=>-t*n+t*e+n;function p5(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function aN({hue:n,saturation:e,lightness:t,alpha:i}){n/=360,e/=100,t/=100;let r=0,s=0,o=0;if(!e)r=s=o=t;else{const a=t<.5?t*(1+e):t+e-t*e,l=2*t-a;r=p5(l,a,n+1/3),s=p5(l,a,n),o=p5(l,a,n-1/3)}return{red:Math.round(r*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:i}}const m5=(n,e,t)=>{const i=n*n;return Math.sqrt(Math.max(0,t*(e*e-i)+i))},lN=[Ag,sl,Wc],cN=n=>lN.find(e=>e.test(n));function xx(n){const e=cN(n);let t=e.parse(n);return e===Wc&&(t=aN(t)),t}const _T=(n,e)=>{const t=xx(n),i=xx(e),r={...t};return s=>(r.red=m5(t.red,i.red,s),r.green=m5(t.green,i.green,s),r.blue=m5(t.blue,i.blue,s),r.alpha=an(t.alpha,i.alpha,s),sl.transform(r))};function uN(n){var e,t;return isNaN(n)&&dd(n)&&(((e=n.match(V2))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(jw))===null||t===void 0?void 0:t.length)||0)>0}const AT={regex:iF,countKey:"Vars",token:"${v}",parse:wn},ST={regex:jw,countKey:"Colors",token:"${c}",parse:Ti.parse},MT={regex:V2,countKey:"Numbers",token:"${n}",parse:Ll.parse};function g5(n,{regex:e,countKey:t,token:i,parse:r}){const s=n.tokenised.match(e);s&&(n["num"+t]=s.length,n.tokenised=n.tokenised.replace(e,i),n.values.push(...s.map(r)))}function e2(n){const e=n.toString(),t={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return t.value.includes("var(--")&&g5(t,AT),g5(t,ST),g5(t,MT),t}function ET(n){return e2(n).values}function wT(n){const{values:e,numColors:t,numVars:i,tokenised:r}=e2(n),s=e.length;return o=>{let a=r;for(let l=0;l<s;l++)l<i?a=a.replace(AT.token,o[l]):l<i+t?a=a.replace(ST.token,Ti.transform(o[l])):a=a.replace(MT.token,sh(o[l]));return a}}const fN=n=>typeof n=="number"?0:n;function hN(n){const e=ET(n);return wT(n)(e.map(fN))}const fa={test:uN,parse:ET,createTransformer:wT,getAnimatableNone:hN},TT=(n,e)=>t=>`${t>0?e:n}`;function CT(n,e){return typeof n=="number"?t=>an(n,e,t):Ti.test(n)?_T(n,e):n.startsWith("var(")?TT(n,e):PT(n,e)}const bT=(n,e)=>{const t=[...n],i=t.length,r=n.map((s,o)=>CT(s,e[o]));return s=>{for(let o=0;o<i;o++)t[o]=r[o](s);return t}},dN=(n,e)=>{const t={...n,...e},i={};for(const r in t)n[r]!==void 0&&e[r]!==void 0&&(i[r]=CT(n[r],e[r]));return r=>{for(const s in i)t[s]=i[s](r);return t}},PT=(n,e)=>{const t=fa.createTransformer(e),i=e2(n),r=e2(e);return i.numVars===r.numVars&&i.numColors===r.numColors&&i.numNumbers>=r.numNumbers?ia(bT(i.values,r.values),t):TT(n,e)},Ml=(n,e,t)=>{const i=e-n;return i===0?1:(t-n)/i},_x=(n,e)=>t=>an(n,e,t);function pN(n){return typeof n=="number"?_x:typeof n=="string"?Ti.test(n)?_T:PT:Array.isArray(n)?bT:typeof n=="object"?dN:_x}function mN(n,e,t){const i=[],r=t||pN(n[0]),s=n.length-1;for(let o=0;o<s;o++){let a=r(n[o],n[o+1]);if(e){const l=Array.isArray(e)?e[o]||wn:e;a=ia(l,a)}i.push(a)}return i}function X2(n,e,{clamp:t=!0,ease:i,mixer:r}={}){const s=n.length;if(q2(s===e.length),s===1)return()=>e[0];n[0]>n[s-1]&&(n=[...n].reverse(),e=[...e].reverse());const o=mN(e,i,r),a=o.length,l=c=>{let h=0;if(a>1)for(;h<n.length-2&&!(c<n[h+1]);h++);const d=Ml(n[h],n[h+1],c);return o[h](d)};return t?c=>l(ua(n[0],n[s-1],c)):l}function RT(n,e){const t=n[n.length-1];for(let i=1;i<=e;i++){const r=Ml(0,e,i);n.push(an(t,1,r))}}function Q4(n){const e=[0];return RT(e,n.length-1),e}function gN(n,e){return n.map(t=>t*e)}function vN(n,e){return n.map(()=>e||dT).splice(0,n.length-1)}function t2({duration:n=300,keyframes:e,times:t,ease:i="easeInOut"}){const r=pT(i)?i.map(yx):yx(i),s={done:!1,value:e[0]},o=gN(t&&t.length===e.length?t:Q4(e),n),a=X2(o,e,{ease:Array.isArray(r)?r:vN(e,r)});return{calculatedDuration:n,next:l=>(s.value=a(l),s.done=l>=n,s)}}function Z4(n,e){return e?n*(1e3/e):0}const yN=5;function BT(n,e,t){const i=Math.max(e-yN,0);return Z4(t-n(i),e-i)}const v5=.001,xN=.01,Ax=10,_N=.05,AN=1;function SN({duration:n=800,bounce:e=.25,velocity:t=0,mass:i=1}){let r,s;aT(n<=ao(Ax));let o=1-e;o=ua(_N,AN,o),n=ua(xN,Ax,$r(n)),o<1?(r=c=>{const h=c*o,d=h*n,p=h-t,m=Sg(c,o),v=Math.exp(-d);return v5-p/m*v},s=c=>{const d=c*o*n,p=d*t+t,m=Math.pow(o,2)*Math.pow(c,2)*n,v=Math.exp(-d),S=Sg(Math.pow(c,2),o);return(-r(c)+v5>0?-1:1)*((p-m)*v)/S}):(r=c=>{const h=Math.exp(-c*n),d=(c-t)*n+1;return-v5+h*d},s=c=>{const h=Math.exp(-c*n),d=(t-c)*(n*n);return h*d});const a=5/n,l=EN(r,s,a);if(n=ao(n),isNaN(l))return{stiffness:100,damping:10,duration:n};{const c=Math.pow(l,2)*i;return{stiffness:c,damping:o*2*Math.sqrt(i*c),duration:n}}}const MN=12;function EN(n,e,t){let i=t;for(let r=1;r<MN;r++)i=i-n(i)/e(i);return i}function Sg(n,e){return n*Math.sqrt(1-e*e)}const wN=["duration","bounce"],TN=["stiffness","damping","mass"];function Sx(n,e){return e.some(t=>n[t]!==void 0)}function CN(n){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...n};if(!Sx(n,TN)&&Sx(n,wN)){const t=SN(n);e={...e,...t,velocity:0,mass:1},e.isResolvedFromDuration=!0}return e}function $4({keyframes:n,restDelta:e,restSpeed:t,...i}){const r=n[0],s=n[n.length-1],o={done:!1,value:r},{stiffness:a,damping:l,mass:c,velocity:h,duration:d,isResolvedFromDuration:p}=CN(i),m=h?-$r(h):0,v=l/(2*Math.sqrt(a*c)),S=s-r,_=$r(Math.sqrt(a/c)),g=Math.abs(S)<5;t||(t=g?.01:2),e||(e=g?.005:.5);let x;if(v<1){const A=Sg(_,v);x=E=>{const T=Math.exp(-v*_*E);return s-T*((m+v*_*S)/A*Math.sin(A*E)+S*Math.cos(A*E))}}else if(v===1)x=A=>s-Math.exp(-_*A)*(S+(m+_*S)*A);else{const A=_*Math.sqrt(v*v-1);x=E=>{const T=Math.exp(-v*_*E),C=Math.min(A*E,300);return s-T*((m+v*_*S)*Math.sinh(C)+A*S*Math.cosh(C))/A}}return{calculatedDuration:p&&d||null,next:A=>{const E=x(A);if(p)o.done=A>=d;else{let T=m;A!==0&&(v<1?T=BT(x,A,E):T=0);const C=Math.abs(T)<=t,R=Math.abs(s-E)<=e;o.done=C&&R}return o.value=o.done?s:E,o}}}function Mx({keyframes:n,velocity:e=0,power:t=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:h}){const d=n[0],p={done:!1,value:d},m=I=>a!==void 0&&I<a||l!==void 0&&I>l,v=I=>a===void 0?l:l===void 0||Math.abs(a-I)<Math.abs(l-I)?a:l;let S=t*e;const _=d+S,g=o===void 0?_:o(_);g!==_&&(S=g-d);const x=I=>-S*Math.exp(-I/i),A=I=>g+x(I),E=I=>{const P=x(I),B=A(I);p.done=Math.abs(P)<=c,p.value=p.done?g:B};let T,C;const R=I=>{m(p.value)&&(T=I,C=$4({keyframes:[p.value,v(p.value)],velocity:BT(A,I,p.value),damping:r,stiffness:s,restDelta:c,restSpeed:h}))};return R(0),{calculatedDuration:null,next:I=>{let P=!1;return!C&&T===void 0&&(P=!0,E(I),R(I)),T!==void 0&&I>T?C.next(I-T):(!P&&E(I),p)}}}const bN=n=>{const e=({timestamp:t})=>n(t);return{start:()=>kt.update(e,!0),stop:()=>Dr(e),now:()=>bn.isProcessing?bn.timestamp:performance.now()}},Mg=2e4;function Eg(n){let e=0;const t=50;let i=n.next(e);for(;!i.done&&e<Mg;)e+=t,i=n.next(e);return e>=Mg?1/0:e}const PN={decay:Mx,inertia:Mx,tween:t2,keyframes:t2,spring:$4};function Oh({autoplay:n=!0,delay:e=0,driver:t=bN,keyframes:i,type:r="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:c,onComplete:h,onUpdate:d,...p}){let m=1,v=!1,S,_;const g=()=>{_=new Promise(N=>{S=N})};g();let x;const A=PN[r]||t2;let E;A!==t2&&typeof i[0]!="number"&&(E=X2([0,100],i,{clamp:!1}),i=[0,100]);const T=A({...p,keyframes:i});let C;a==="mirror"&&(C=A({...p,keyframes:[...i].reverse(),velocity:-(p.velocity||0)}));let R="idle",I=null,P=null,B=null;T.calculatedDuration===null&&s&&(T.calculatedDuration=Eg(T));const{calculatedDuration:U}=T;let Y=1/0,ee=1/0;U!==null&&(Y=U+o,ee=Y*(s+1)-o);let V=0;const Q=N=>{if(P===null)return;m>0&&(P=Math.min(P,N)),m<0&&(P=Math.min(N-ee/m,P)),I!==null?V=I:V=Math.round(N-P)*m;const X=V-e*(m>=0?1:-1),ce=m>=0?X<0:X>ee;V=Math.max(X,0),R==="finished"&&I===null&&(V=ee);let me=V,ve=T;if(s){const pt=V/Y;let rt=Math.floor(pt),Me=pt%1;!Me&&pt>=1&&(Me=1),Me===1&&rt--,rt=Math.min(rt,s+1);const q=!!(rt%2);q&&(a==="reverse"?(Me=1-Me,o&&(Me-=o/Y)):a==="mirror"&&(ve=C));let ge=ua(0,1,Me);V>ee&&(ge=a==="reverse"&&q?1:0),me=ge*Y}const Pe=ce?{done:!1,value:i[0]}:ve.next(me);E&&(Pe.value=E(Pe.value));let{done:Le}=Pe;!ce&&U!==null&&(Le=m>=0?V>=ee:V<=0);const Xe=I===null&&(R==="finished"||R==="running"&&Le);return d&&d(Pe.value),Xe&&D(),Pe},ne=()=>{x&&x.stop(),x=void 0},te=()=>{R="idle",ne(),S(),g(),P=B=null},D=()=>{R="finished",h&&h(),ne(),S()},W=()=>{if(v)return;x||(x=t(Q));const N=x.now();l&&l(),I!==null?P=N-I:(!P||R==="finished")&&(P=N),R==="finished"&&g(),B=P,I=null,R="running",x.start()};n&&W();const j={then(N,X){return _.then(N,X)},get time(){return $r(V)},set time(N){N=ao(N),V=N,I!==null||!x||m===0?I=N:P=x.now()-N/m},get duration(){const N=T.calculatedDuration===null?Eg(T):T.calculatedDuration;return $r(N)},get speed(){return m},set speed(N){N===m||!x||(m=N,j.time=$r(V))},get state(){return R},play:W,pause:()=>{R="paused",I=V},stop:()=>{v=!0,R!=="idle"&&(R="idle",c&&c(),te())},cancel:()=>{B!==null&&Q(B),te()},complete:()=>{R="finished"},sample:N=>(P=0,Q(N))};return j}function IT(n){let e;return()=>(e===void 0&&(e=n()),e)}const RN=IT(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),BN=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),i0=10,IN=2e4,LN=(n,e)=>e.type==="spring"||n==="backgroundColor"||!cT(e.ease);function DN(n,e,{onUpdate:t,onComplete:i,...r}){if(!(RN()&&BN.has(e)&&!r.repeatDelay&&r.repeatType!=="mirror"&&r.damping!==0&&r.type!=="inertia"))return!1;let o=!1,a,l;const c=()=>{l=new Promise(x=>{a=x})};c();let{keyframes:h,duration:d=300,ease:p,times:m}=r;if(LN(e,r)){const x=Oh({...r,repeat:0,delay:0});let A={done:!1,value:h[0]};const E=[];let T=0;for(;!A.done&&T<IN;)A=x.sample(T),E.push(A.value),T+=i0;m=void 0,h=E,d=T-i0,p="linear"}const v=JF(n.owner.current,e,h,{...r,duration:d,ease:p,times:m});r.syncStart&&(v.startTime=bn.isProcessing?bn.timestamp:document.timeline?document.timeline.currentTime:performance.now());const S=()=>v.cancel(),_=()=>{kt.update(S),a(),c()};return v.onfinish=()=>{n.set(KF(h,r)),i&&i(),_()},{then(x,A){return l.then(x,A)},attachTimeline(x){return v.timeline=x,v.onfinish=null,wn},get time(){return $r(v.currentTime||0)},set time(x){v.currentTime=ao(x)},get speed(){return v.playbackRate},set speed(x){v.playbackRate=x},get duration(){return $r(d)},play:()=>{o||(v.play(),Dr(S))},pause:()=>v.pause(),stop:()=>{if(o=!0,v.playState==="idle")return;const{currentTime:x}=v;if(x){const A=Oh({...r,autoplay:!1});n.setWithVelocity(A.sample(x-i0).value,A.sample(x).value,i0)}_()},complete:()=>v.finish(),cancel:_}}function FN({keyframes:n,delay:e,onUpdate:t,onComplete:i}){const r=()=>(t&&t(n[n.length-1]),i&&i(),{time:0,speed:1,duration:0,play:wn,pause:wn,stop:wn,then:s=>(s(),Promise.resolve()),cancel:wn,complete:wn});return e?Oh({keyframes:[0,1],duration:0,delay:e,onComplete:r}):r()}const NN={type:"spring",stiffness:500,damping:25,restSpeed:10},ON=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),UN={type:"keyframes",duration:.8},kN={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},HN=(n,{keyframes:e})=>e.length>2?UN:Il.has(n)?n.startsWith("scale")?ON(e[1]):NN:kN,wg=(n,e)=>n==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(fa.test(e)||e==="0")&&!e.startsWith("url(")),zN=new Set(["brightness","contrast","saturate","opacity"]);function GN(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[i]=t.match(V2)||[];if(!i)return n;const r=t.replace(i,"");let s=zN.has(e)?1:0;return i!==t&&(s*=100),e+"("+s+r+")"}const VN=/([a-z-]*)\(.*?\)/g,Tg={...fa,getAnimatableNone:n=>{const e=n.match(VN);return e?e.map(GN).join(" "):n}},WN={...qw,color:Ti,backgroundColor:Ti,outlineColor:Ti,fill:Ti,stroke:Ti,borderColor:Ti,borderTopColor:Ti,borderRightColor:Ti,borderBottomColor:Ti,borderLeftColor:Ti,filter:Tg,WebkitFilter:Tg},e9=n=>WN[n];function LT(n,e){let t=e9(n);return t!==Tg&&(t=fa),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const DT=n=>/^0[^.\s]+$/.test(n);function jN(n){if(typeof n=="number")return n===0;if(n!==null)return n==="none"||n==="0"||DT(n)}function qN(n,e,t,i){const r=wg(e,t);let s;Array.isArray(t)?s=[...t]:s=[null,t];const o=i.from!==void 0?i.from:n.get();let a;const l=[];for(let c=0;c<s.length;c++)s[c]===null&&(s[c]=c===0?o:s[c-1]),jN(s[c])&&l.push(c),typeof s[c]=="string"&&s[c]!=="none"&&s[c]!=="0"&&(a=s[c]);if(r&&l.length&&a)for(let c=0;c<l.length;c++){const h=l[c];s[h]=LT(e,a)}return s}function XN({when:n,delay:e,delayChildren:t,staggerChildren:i,staggerDirection:r,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...h}){return!!Object.keys(h).length}function FT(n,e){return n[e]||n.default||n}const t9=(n,e,t,i={})=>r=>{const s=FT(i,n)||{},o=s.delay||i.delay||0;let{elapsed:a=0}=i;a=a-ao(o);const l=qN(e,n,t,s),c=l[0],h=l[l.length-1],d=wg(n,c),p=wg(n,h);let m={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...s,delay:-a,onUpdate:v=>{e.set(v),s.onUpdate&&s.onUpdate(v)},onComplete:()=>{r(),s.onComplete&&s.onComplete()}};if(XN(s)||(m={...m,...HN(n,m)}),m.duration&&(m.duration=ao(m.duration)),m.repeatDelay&&(m.repeatDelay=ao(m.repeatDelay)),!d||!p||XF.current||s.type===!1)return FN(m);if(e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const v=DN(e,n,m);if(v)return v}return Oh(m)};function n2(n){return!!(Un(n)&&n.add)}const NT=n=>/^\-?\d*\.?\d+$/.test(n);function n9(n,e){n.indexOf(e)===-1&&n.push(e)}function J2(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class i9{constructor(){this.subscriptions=[]}add(e){return n9(this.subscriptions,e),()=>J2(this.subscriptions,e)}notify(e,t,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,t,i);else for(let s=0;s<r;s++){const o=this.subscriptions[s];o&&o(e,t,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const JN=n=>!isNaN(parseFloat(n)),oh={current:void 0};class KN{constructor(e,t={}){this.version="10.16.4",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(i,r=!0)=>{this.prev=this.current,this.current=i;const{delta:s,timestamp:o}=bn;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,kt.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>kt.postRender(this.velocityCheck),this.velocityCheck=({timestamp:i})=>{i!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=JN(this.current),this.owner=t.owner}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new i9);const i=this.events[e].add(t);return e==="change"?()=>{i(),kt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,i){this.set(t),this.prev=e,this.timeDelta=i}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return oh.current&&oh.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?Z4(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Kr(n,e){return new KN(n,e)}const OT=n=>e=>e.test(n),YN={test:n=>n==="auto",parse:n=>n},UT=[Ll,at,ws,Oo,aF,oF,YN],xf=n=>UT.find(OT(n)),QN=[...UT,Ti,fa],ZN=n=>QN.find(OT(n));function $N(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,Kr(t))}function eO(n,e){const t=j2(n,e);let{transitionEnd:i={},transition:r={},...s}=t?n.makeTargetAnimatable(t,!1):{};s={...s,...i};for(const o in s){const a=AF(s[o]);$N(n,o,a)}}function tO(n,e,t){var i,r;const s=Object.keys(e).filter(a=>!n.hasValue(a)),o=s.length;if(o)for(let a=0;a<o;a++){const l=s[a],c=e[l];let h=null;Array.isArray(c)&&(h=c[0]),h===null&&(h=(r=(i=t[l])!==null&&i!==void 0?i:n.readValue(l))!==null&&r!==void 0?r:e[l]),h!=null&&(typeof h=="string"&&(NT(h)||DT(h))?h=parseFloat(h):!ZN(h)&&fa.test(c)&&(h=LT(l,c)),n.addValue(l,Kr(h,{owner:n})),t[l]===void 0&&(t[l]=h),h!==null&&n.setBaseTarget(l,h))}}function nO(n,e){return e?(e[n]||e.default||e).from:void 0}function iO(n,e,t){const i={};for(const r in n){const s=nO(r,e);if(s!==void 0)i[r]=s;else{const o=t.getValue(r);o&&(i[r]=o.get())}}return i}function rO({protectedKeys:n,needsAnimating:e},t){const i=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,i}function r9(n,e,{delay:t=0,transitionOverride:i,type:r}={}){let{transition:s=n.getDefaultTransition(),transitionEnd:o,...a}=n.makeTargetAnimatable(e);const l=n.getValue("willChange");i&&(s=i);const c=[],h=r&&n.animationState&&n.animationState.getState()[r];for(const d in a){const p=n.getValue(d),m=a[d];if(!p||m===void 0||h&&rO(h,d))continue;const v={delay:t,elapsed:0,...s};if(window.HandoffAppearAnimations&&!p.hasAnimated){const _=n.getProps()[qF];_&&(v.elapsed=window.HandoffAppearAnimations(_,d,p,kt),v.syncStart=!0)}p.start(t9(d,p,m,n.shouldReduceMotion&&Il.has(d)?{type:!1}:v));const S=p.animation;n2(l)&&(l.add(d),S.then(()=>l.remove(d))),c.push(S)}return o&&Promise.all(c).then(()=>{o&&eO(n,o)}),c}function Cg(n,e,t={}){const i=j2(n,e,t.custom);let{transition:r=n.getDefaultTransition()||{}}=i||{};t.transitionOverride&&(r=t.transitionOverride);const s=i?()=>Promise.all(r9(n,i,t)):()=>Promise.resolve(),o=n.variantChildren&&n.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:h,staggerDirection:d}=r;return sO(n,e,c+l,h,d,t)}:()=>Promise.resolve(),{when:a}=r;if(a){const[l,c]=a==="beforeChildren"?[s,o]:[o,s];return l().then(()=>c())}else return Promise.all([s(),o(t.delay)])}function sO(n,e,t=0,i=0,r=1,s){const o=[],a=(n.variantChildren.size-1)*i,l=r===1?(c=0)=>c*i:(c=0)=>a-c*i;return Array.from(n.variantChildren).sort(oO).forEach((c,h)=>{c.notify("AnimationStart",e),o.push(Cg(c,e,{...s,delay:t+l(h)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function oO(n,e){return n.sortNodePosition(e)}function aO(n,e,t={}){n.notify("AnimationStart",e);let i;if(Array.isArray(e)){const r=e.map(s=>Cg(n,s,t));i=Promise.all(r)}else if(typeof e=="string")i=Cg(n,e,t);else{const r=typeof e=="function"?j2(n,e,t.custom):e;i=Promise.all(r9(n,r,t))}return i.then(()=>n.notify("AnimationComplete",e))}const lO=[...O4].reverse(),cO=O4.length;function uO(n){return e=>Promise.all(e.map(({animation:t,options:i})=>aO(n,t,i)))}function fO(n){let e=uO(n);const t=dO();let i=!0;const r=(l,c)=>{const h=j2(n,c);if(h){const{transition:d,transitionEnd:p,...m}=h;l={...l,...m,...p}}return l};function s(l){e=l(n)}function o(l,c){const h=n.getProps(),d=n.getVariantContext(!0)||{},p=[],m=new Set;let v={},S=1/0;for(let g=0;g<cO;g++){const x=lO[g],A=t[x],E=h[x]!==void 0?h[x]:d[x],T=Fh(E),C=x===c?A.isActive:null;C===!1&&(S=g);let R=E===d[x]&&E!==h[x]&&T;if(R&&i&&n.manuallyAnimateOnMount&&(R=!1),A.protectedKeys={...v},!A.isActive&&C===null||!E&&!A.prevProp||z2(E)||typeof E=="boolean")continue;const I=hO(A.prevProp,E);let P=I||x===c&&A.isActive&&!R&&T||g>S&&T;const B=Array.isArray(E)?E:[E];let U=B.reduce(r,{});C===!1&&(U={});const{prevResolvedValues:Y={}}=A,ee={...Y,...U},V=Q=>{P=!0,m.delete(Q),A.needsAnimating[Q]=!0};for(const Q in ee){const ne=U[Q],te=Y[Q];v.hasOwnProperty(Q)||(ne!==te?$p(ne)&&$p(te)?!oT(ne,te)||I?V(Q):A.protectedKeys[Q]=!0:ne!==void 0?V(Q):m.add(Q):ne!==void 0&&m.has(Q)?V(Q):A.protectedKeys[Q]=!0)}A.prevProp=E,A.prevResolvedValues=U,A.isActive&&(v={...v,...U}),i&&n.blockInitialAnimation&&(P=!1),P&&!R&&p.push(...B.map(Q=>({animation:Q,options:{type:x,...l}})))}if(m.size){const g={};m.forEach(x=>{const A=n.getBaseTarget(x);A!==void 0&&(g[x]=A)}),p.push({animation:g})}let _=!!p.length;return i&&h.initial===!1&&!n.manuallyAnimateOnMount&&(_=!1),i=!1,_?e(p):Promise.resolve()}function a(l,c,h){var d;if(t[l].isActive===c)return Promise.resolve();(d=n.variantChildren)===null||d===void 0||d.forEach(m=>{var v;return(v=m.animationState)===null||v===void 0?void 0:v.setActive(l,c)}),t[l].isActive=c;const p=o(h,l);for(const m in t)t[m].protectedKeys={};return p}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>t}}function hO(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!oT(e,n):!1}function La(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function dO(){return{animate:La(!0),whileInView:La(),whileHover:La(),whileTap:La(),whileDrag:La(),whileFocus:La(),exit:La()}}class pO extends _a{constructor(e){super(e),e.animationState||(e.animationState=fO(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),z2(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){}}let mO=0;class gO extends _a{constructor(){super(...arguments),this.id=mO++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t,custom:i}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e,{custom:i??this.node.getProps().custom});t&&!e&&s.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const vO={animation:{Feature:pO},exit:{Feature:gO}},Ex=(n,e)=>Math.abs(n-e);function yO(n,e){const t=Ex(n.x,e.x),i=Ex(n.y,e.y);return Math.sqrt(t**2+i**2)}class kT{constructor(e,t,{transformPagePoint:i}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const c=x5(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,d=yO(c.offset,{x:0,y:0})>=3;if(!h&&!d)return;const{point:p}=c,{timestamp:m}=bn;this.history.push({...p,timestamp:m});const{onStart:v,onMove:S}=this.handlers;h||(v&&v(this.lastMoveEvent,c),this.startEvent=this.lastMoveEvent),S&&S(this.lastMoveEvent,c)},this.handlePointerMove=(c,h)=>{this.lastMoveEvent=c,this.lastMoveEventInfo=y5(h,this.transformPagePoint),kt.update(this.updatePoint,!0)},this.handlePointerUp=(c,h)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:d,onSessionEnd:p}=this.handlers,m=x5(c.type==="pointercancel"?this.lastMoveEventInfo:y5(h,this.transformPagePoint),this.history);this.startEvent&&d&&d(c,m),p&&p(c,m)},!tT(e))return;this.handlers=t,this.transformPagePoint=i;const r=W2(e),s=y5(r,this.transformPagePoint),{point:o}=s,{timestamp:a}=bn;this.history=[{...o,timestamp:a}];const{onSessionStart:l}=t;l&&l(e,x5(s,this.history)),this.removeListeners=ia(oo(window,"pointermove",this.handlePointerMove),oo(window,"pointerup",this.handlePointerUp),oo(window,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Dr(this.updatePoint)}}function y5(n,e){return e?{point:e(n.point)}:n}function wx(n,e){return{x:n.x-e.x,y:n.y-e.y}}function x5({point:n},e){return{point:n,delta:wx(n,HT(e)),offset:wx(n,xO(e)),velocity:_O(e,.1)}}function xO(n){return n[0]}function HT(n){return n[n.length-1]}function _O(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,i=null;const r=HT(n);for(;t>=0&&(i=n[t],!(r.timestamp-i.timestamp>ao(e)));)t--;if(!i)return{x:0,y:0};const s=$r(r.timestamp-i.timestamp);if(s===0)return{x:0,y:0};const o={x:(r.x-i.x)/s,y:(r.y-i.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function sr(n){return n.max-n.min}function bg(n,e=0,t=.01){return Math.abs(n-e)<=t}function Tx(n,e,t,i=.5){n.origin=i,n.originPoint=an(e.min,e.max,n.origin),n.scale=sr(t)/sr(e),(bg(n.scale,1,1e-4)||isNaN(n.scale))&&(n.scale=1),n.translate=an(t.min,t.max,n.origin)-n.originPoint,(bg(n.translate)||isNaN(n.translate))&&(n.translate=0)}function ah(n,e,t,i){Tx(n.x,e.x,t.x,i?i.originX:void 0),Tx(n.y,e.y,t.y,i?i.originY:void 0)}function Cx(n,e,t){n.min=t.min+e.min,n.max=n.min+sr(e)}function AO(n,e,t){Cx(n.x,e.x,t.x),Cx(n.y,e.y,t.y)}function bx(n,e,t){n.min=e.min-t.min,n.max=n.min+sr(e)}function lh(n,e,t){bx(n.x,e.x,t.x),bx(n.y,e.y,t.y)}function SO(n,{min:e,max:t},i){return e!==void 0&&n<e?n=i?an(e,n,i.min):Math.max(n,e):t!==void 0&&n>t&&(n=i?an(t,n,i.max):Math.min(n,t)),n}function Px(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function MO(n,{top:e,left:t,bottom:i,right:r}){return{x:Px(n.x,t,r),y:Px(n.y,e,i)}}function Rx(n,e){let t=e.min-n.min,i=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,i]=[i,t]),{min:t,max:i}}function EO(n,e){return{x:Rx(n.x,e.x),y:Rx(n.y,e.y)}}function wO(n,e){let t=.5;const i=sr(n),r=sr(e);return r>i?t=Ml(e.min,e.max-i,n.min):i>r&&(t=Ml(n.min,n.max-r,e.min)),ua(0,1,t)}function TO(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const Pg=.35;function CO(n=Pg){return n===!1?n=0:n===!0&&(n=Pg),{x:Bx(n,"left","right"),y:Bx(n,"top","bottom")}}function Bx(n,e,t){return{min:Ix(n,e),max:Ix(n,t)}}function Ix(n,e){return typeof n=="number"?n:n[e]||0}const Lx=()=>({translate:0,scale:1,origin:0,originPoint:0}),jc=()=>({x:Lx(),y:Lx()}),Dx=()=>({min:0,max:0}),Dn=()=>({x:Dx(),y:Dx()});function vs(n){return[n("x"),n("y")]}function zT({top:n,left:e,right:t,bottom:i}){return{x:{min:e,max:t},y:{min:n,max:i}}}function bO({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function PO(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),i=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:i.y,right:i.x}}function _5(n){return n===void 0||n===1}function Rg({scale:n,scaleX:e,scaleY:t}){return!_5(n)||!_5(e)||!_5(t)}function Xa(n){return Rg(n)||GT(n)||n.z||n.rotate||n.rotateX||n.rotateY}function GT(n){return Fx(n.x)||Fx(n.y)}function Fx(n){return n&&n!=="0%"}function i2(n,e,t){const i=n-t,r=e*i;return t+r}function Nx(n,e,t,i,r){return r!==void 0&&(n=i2(n,r,i)),i2(n,t,i)+e}function Bg(n,e=0,t=1,i,r){n.min=Nx(n.min,e,t,i,r),n.max=Nx(n.max,e,t,i,r)}function VT(n,{x:e,y:t}){Bg(n.x,e.translate,e.scale,e.originPoint),Bg(n.y,t.translate,t.scale,t.originPoint)}function RO(n,e,t,i=!1){const r=t.length;if(!r)return;e.x=e.y=1;let s,o;for(let a=0;a<r;a++){s=t[a],o=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(i&&s.options.layoutScroll&&s.scroll&&s!==s.root&&qc(n,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,VT(n,o)),i&&Xa(s.latestValues)&&qc(n,s.latestValues))}e.x=Ox(e.x),e.y=Ox(e.y)}function Ox(n){return Number.isInteger(n)||n>1.0000000000001||n<.999999999999?n:1}function zo(n,e){n.min=n.min+e,n.max=n.max+e}function Ux(n,e,[t,i,r]){const s=e[r]!==void 0?e[r]:.5,o=an(n.min,n.max,s);Bg(n,e[t],e[i],o,e.scale)}const BO=["x","scaleX","originX"],IO=["y","scaleY","originY"];function qc(n,e){Ux(n.x,e,BO),Ux(n.y,e,IO)}function WT(n,e){return zT(PO(n.getBoundingClientRect(),e))}function LO(n,e,t){const i=WT(n,t),{scroll:r}=e;return r&&(zo(i.x,r.offset.x),zo(i.y,r.offset.y)),i}const DO=new WeakMap;class FO{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Dn(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const r=l=>{this.stopAnimation(),t&&this.snapToCursor(W2(l,"page").point)},s=(l,c)=>{const{drag:h,dragPropagation:d,onDragStart:p}=this.getProps();if(h&&!d&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=iT(h),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),vs(v=>{let S=this.getAxisMotionValue(v).get()||0;if(ws.test(S)){const{projection:_}=this.visualElement;if(_&&_.layout){const g=_.layout.layoutBox[v];g&&(S=sr(g)*(parseFloat(S)/100))}}this.originPoint[v]=S}),p&&kt.update(()=>p(l,c),!1,!0);const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},o=(l,c)=>{const{dragPropagation:h,dragDirectionLock:d,onDirectionLock:p,onDrag:m}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:v}=c;if(d&&this.currentDirection===null){this.currentDirection=NO(v),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",c.point,v),this.updateAxis("y",c.point,v),this.visualElement.render(),m&&m(l,c)},a=(l,c)=>this.stop(l,c);this.panSession=new kT(e,{onSessionStart:r,onStart:s,onMove:o,onSessionEnd:a},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(e,t){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:r}=t;this.startAnimation(r);const{onDragEnd:s}=this.getProps();s&&kt.update(()=>s(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,i){const{drag:r}=this.getProps();if(!i||!r0(e,r,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(o=SO(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),{layout:i}=this.visualElement.projection||{},r=this.constraints;e&&Vc(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=MO(i.layoutBox,e):this.constraints=!1,this.elastic=CO(t),r!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&vs(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=TO(i.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Vc(e))return!1;const i=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const s=LO(i,r.root,this.visualElement.getTransformPagePoint());let o=EO(r.layout.layoutBox,s);if(t){const a=t(bO(o));this.hasMutatedConstraints=!!a,a&&(o=zT(a))}return o}startAnimation(e){const{drag:t,dragMomentum:i,dragElastic:r,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=vs(h=>{if(!r0(h,t,this.currentDirection))return;let d=l&&l[h]||{};o&&(d={min:0,max:0});const p=r?200:1e6,m=r?40:1e7,v={type:"inertia",velocity:i?e[h]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(h,v)});return Promise.all(c).then(a)}startAxisValueAnimation(e,t){const i=this.getAxisMotionValue(e);return i.start(t9(e,i,0,t))}stopAnimation(){vs(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const t="_drag"+e.toUpperCase(),i=this.visualElement.getProps(),r=i[t];return r||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){vs(t=>{const{drag:i}=this.getProps();if(!r0(t,i,this.currentDirection))return;const{projection:r}=this.visualElement,s=this.getAxisMotionValue(t);if(r&&r.layout){const{min:o,max:a}=r.layout.layoutBox[t];s.set(e[t]-an(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:i}=this.visualElement;if(!Vc(t)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};vs(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();r[o]=wO({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),vs(o=>{if(!r0(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(an(l,c,r[o]))})}addListeners(){if(!this.visualElement.current)return;DO.set(this.visualElement,this);const e=this.visualElement.current,t=oo(e,"pointerdown",l=>{const{drag:c,dragListener:h=!0}=this.getProps();c&&h&&this.start(l)}),i=()=>{const{dragConstraints:l}=this.getProps();Vc(l)&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,s=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),i();const o=no(window,"resize",()=>this.scalePositionWithinConstraints()),a=r.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(vs(h=>{const d=this.getAxisMotionValue(h);d&&(this.originPoint[h]+=l[h].translate,d.set(d.get()+l[h].translate))}),this.visualElement.render())});return()=>{o(),t(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:s=!1,dragElastic:o=Pg,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:i,dragPropagation:r,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function r0(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function NO(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class OO extends _a{constructor(e){super(e),this.removeGroupControls=wn,this.removeListeners=wn,this.controls=new FO(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||wn}unmount(){this.removeGroupControls(),this.removeListeners()}}const kx=n=>(e,t)=>{n&&kt.update(()=>n(e,t))};class UO extends _a{constructor(){super(...arguments),this.removePointerDownListener=wn}onPointerDown(e){this.session=new kT(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:kx(e),onStart:kx(t),onMove:i,onEnd:(s,o)=>{delete this.session,r&&kt.update(()=>r(s,o))}}}mount(){this.removePointerDownListener=oo(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function kO(){const n=k.useContext(k2);if(n===null)return[!0,null];const{isPresent:e,onExitComplete:t,register:i}=n,r=k.useId();return k.useEffect(()=>i(r),[]),!e&&t?[!1,()=>t&&t(r)]:[!0]}const pp={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Hx(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const _f={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(at.test(n))n=parseFloat(n);else return n;const t=Hx(n,e.target.x),i=Hx(n,e.target.y);return`${t}% ${i}%`}},HO={correct:(n,{treeScale:e,projectionDelta:t})=>{const i=n,r=fa.parse(n);if(r.length>5)return i;const s=fa.createTransformer(n),o=typeof r[0]!="number"?1:0,a=t.x.scale*e.x,l=t.y.scale*e.y;r[0+o]/=a,r[1+o]/=l;const c=an(a,l,.5);return typeof r[2+o]=="number"&&(r[2+o]/=c),typeof r[3+o]=="number"&&(r[3+o]/=c),s(r)}};class zO extends Jf.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i,layoutId:r}=this.props,{projection:s}=e;$D(GO),s&&(t.group&&t.group.add(s),i&&i.register&&r&&i.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),pp.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:i,drag:r,isPresent:s}=this.props,o=i.projection;return o&&(o.isPresent=s,r||e.layoutDependency!==t||t===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||kt.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function jT(n){const[e,t]=kO(),i=k.useContext(k4);return Jf.createElement(zO,{...n,layoutGroup:i,switchLayoutGroup:k.useContext(zw),isPresent:e,safeToRemove:t})}const GO={borderRadius:{..._f,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:_f,borderTopRightRadius:_f,borderBottomLeftRadius:_f,borderBottomRightRadius:_f,boxShadow:HO},qT=["TopLeft","TopRight","BottomLeft","BottomRight"],VO=qT.length,zx=n=>typeof n=="string"?parseFloat(n):n,Gx=n=>typeof n=="number"||at.test(n);function WO(n,e,t,i,r,s){r?(n.opacity=an(0,t.opacity!==void 0?t.opacity:1,jO(i)),n.opacityExit=an(e.opacity!==void 0?e.opacity:1,0,qO(i))):s&&(n.opacity=an(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,i));for(let o=0;o<VO;o++){const a=`border${qT[o]}Radius`;let l=Vx(e,a),c=Vx(t,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||Gx(l)===Gx(c)?(n[a]=Math.max(an(zx(l),zx(c),i),0),(ws.test(c)||ws.test(l))&&(n[a]+="%")):n[a]=c}(e.rotate||t.rotate)&&(n.rotate=an(e.rotate||0,t.rotate||0,i))}function Vx(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const jO=XT(0,.5,J4),qO=XT(.5,.95,wn);function XT(n,e,t){return i=>i<n?0:i>e?1:t(Ml(n,e,i))}function Wx(n,e){n.min=e.min,n.max=e.max}function vr(n,e){Wx(n.x,e.x),Wx(n.y,e.y)}function jx(n,e,t,i,r){return n-=e,n=i2(n,1/t,i),r!==void 0&&(n=i2(n,1/r,i)),n}function XO(n,e=0,t=1,i=.5,r,s=n,o=n){if(ws.test(e)&&(e=parseFloat(e),e=an(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=an(s.min,s.max,i);n===s&&(a-=e),n.min=jx(n.min,e,t,a,r),n.max=jx(n.max,e,t,a,r)}function qx(n,e,[t,i,r],s,o){XO(n,e[t],e[i],e[r],e.scale,s,o)}const JO=["x","scaleX","originX"],KO=["y","scaleY","originY"];function Xx(n,e,t,i){qx(n.x,e,JO,t?t.x:void 0,i?i.x:void 0),qx(n.y,e,KO,t?t.y:void 0,i?i.y:void 0)}function Jx(n){return n.translate===0&&n.scale===1}function JT(n){return Jx(n.x)&&Jx(n.y)}function YO(n,e){return n.x.min===e.x.min&&n.x.max===e.x.max&&n.y.min===e.y.min&&n.y.max===e.y.max}function KT(n,e){return Math.round(n.x.min)===Math.round(e.x.min)&&Math.round(n.x.max)===Math.round(e.x.max)&&Math.round(n.y.min)===Math.round(e.y.min)&&Math.round(n.y.max)===Math.round(e.y.max)}function Kx(n){return sr(n.x)/sr(n.y)}class QO{constructor(){this.members=[]}add(e){n9(this.members,e),e.scheduleRender()}remove(e){if(J2(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(r=>e===r);if(t===0)return!1;let i;for(let r=t;r>=0;r--){const s=this.members[r];if(s.isPresent!==!1){i=s;break}}return i?(this.promote(i),!0):!1}promote(e,t){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,t&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:i}=e;t.onExitComplete&&t.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Yx(n,e,t){let i="";const r=n.x.translate/e.x,s=n.y.translate/e.y;if((r||s)&&(i=`translate3d(${r}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),t){const{rotate:l,rotateX:c,rotateY:h}=t;l&&(i+=`rotate(${l}deg) `),c&&(i+=`rotateX(${c}deg) `),h&&(i+=`rotateY(${h}deg) `)}const o=n.x.scale*e.x,a=n.y.scale*e.y;return(o!==1||a!==1)&&(i+=`scale(${o}, ${a})`),i||"none"}const ZO=(n,e)=>n.depth-e.depth;class $O{constructor(){this.children=[],this.isDirty=!1}add(e){n9(this.children,e),this.isDirty=!0}remove(e){J2(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(ZO),this.isDirty=!1,this.children.forEach(e)}}function eU(n,e){const t=performance.now(),i=({timestamp:r})=>{const s=r-t;s>=e&&(Dr(i),n(s-e))};return kt.read(i,!0),()=>Dr(i)}function tU(n){window.MotionDebug&&window.MotionDebug.record(n)}function YT(n){return n instanceof SVGElement&&n.tagName!=="svg"}function s9(n,e,t){const i=Un(n)?n:Kr(n);return i.start(t9("",i,e,t)),i.animation}const Qx=["","X","Y","Z"],Zx=1e3;let nU=0;const Ja={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function QT({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(o={},a=e==null?void 0:e()){this.id=nU++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{Ja.totalNodes=Ja.resolvedTargetDeltas=Ja.recalculatedProjection=0,this.nodes.forEach(sU),this.nodes.forEach(uU),this.nodes.forEach(fU),this.nodes.forEach(oU),tU(Ja)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new $O)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new i9),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=YT(o),this.instance=o;const{layoutId:l,layout:c,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),n){let d;const p=()=>this.root.updateBlockedByResize=!1;n(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=eU(p,250),pp.hasAnimatedSinceResize&&(pp.hasAnimatedSinceResize=!1,this.nodes.forEach(e_))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&h&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:p,hasRelativeTargetChanged:m,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||h.getDefaultTransition()||gU,{onLayoutAnimationStart:_,onLayoutAnimationComplete:g}=h.getProps(),x=!this.targetLayout||!KT(this.targetLayout,v)||m,A=!p&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||A||p&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,A);const E={...FT(S,"layout"),onPlay:_,onComplete:g};(h.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E)}else p||e_(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Dr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(hU),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const d=this.path[h];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach($x);return}this.isUpdating||this.nodes.forEach(lU),this.isUpdating=!1,this.nodes.forEach(cU),this.nodes.forEach(iU),this.nodes.forEach(rU),this.clearAllSnapshots();const a=performance.now();bn.delta=ua(0,1e3/60,a-bn.timestamp),bn.timestamp=a,bn.isProcessing=!0,u5.update.process(bn),u5.preRender.process(bn),u5.render.process(bn),bn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(aU),this.sharedNodes.forEach(dU)}scheduleUpdateProjection(){kt.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){kt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Dn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:i(this.instance),offset:t(this.instance)})}resetTransform(){if(!r)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!JT(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,h=c!==this.prevTransformTemplateValue;o&&(a||Xa(this.latestValues)||h)&&(r(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),vU(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Dn();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(zo(a.x,l.offset.x),zo(a.y,l.offset.y)),a}removeElementScroll(o){const a=Dn();vr(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:h,options:d}=c;if(c!==this.root&&h&&d.layoutScroll){if(h.isRoot){vr(a,o);const{scroll:p}=this.root;p&&(zo(a.x,-p.offset.x),zo(a.y,-p.offset.y))}zo(a.x,h.offset.x),zo(a.y,h.offset.y)}}return a}applyTransform(o,a=!1){const l=Dn();vr(l,o);for(let c=0;c<this.path.length;c++){const h=this.path[c];!a&&h.options.layoutScroll&&h.scroll&&h!==h.root&&qc(l,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),Xa(h.latestValues)&&qc(l,h.latestValues)}return Xa(this.latestValues)&&qc(l,this.latestValues),l}removeTransform(o){const a=Dn();vr(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Xa(c.latestValues))continue;Rg(c.latestValues)&&c.updateSnapshot();const h=Dn(),d=c.measurePageBox();vr(h,d),Xx(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,h)}return Xa(this.latestValues)&&Xx(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==bn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:d,layoutId:p}=this.options;if(!(!this.layout||!(d||p))){if(this.resolvedRelativeTargetAt=bn.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Dn(),this.relativeTargetOrigin=Dn(),lh(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),vr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Dn(),this.targetWithTransforms=Dn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),AO(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):vr(this.target,this.layout.layoutBox),VT(this.target,this.targetDelta)):vr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Dn(),this.relativeTargetOrigin=Dn(),lh(this.relativeTargetOrigin,this.target,m.target),vr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ja.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Rg(this.parent.latestValues)||GT(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===bn.timestamp&&(c=!1),c)return;const{layout:h,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||d))return;vr(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,m=this.treeScale.y;RO(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:v}=a;if(!v){this.projectionTransform&&(this.projectionDelta=jc(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=jc(),this.projectionDeltaWithTransform=jc());const S=this.projectionTransform;ah(this.projectionDelta,this.layoutCorrected,v,this.latestValues),this.projectionTransform=Yx(this.projectionDelta,this.treeScale),(this.projectionTransform!==S||this.treeScale.x!==p||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v)),Ja.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},h={...this.latestValues},d=jc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=Dn(),m=l?l.source:void 0,v=this.layout?this.layout.source:void 0,S=m!==v,_=this.getStack(),g=!_||_.members.length<=1,x=!!(S&&!g&&this.options.crossfade===!0&&!this.path.some(mU));this.animationProgress=0;let A;this.mixTargetDelta=E=>{const T=E/1e3;t_(d.x,o.x,T),t_(d.y,o.y,T),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(lh(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),pU(this.relativeTarget,this.relativeTargetOrigin,p,T),A&&YO(this.relativeTarget,A)&&(this.isProjectionDirty=!1),A||(A=Dn()),vr(A,this.relativeTarget)),S&&(this.animationValues=h,WO(h,c,this.latestValues,T,x,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=T},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Dr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=kt.update(()=>{pp.hasAnimatedSinceResize=!0,this.currentAnimation=s9(0,Zx,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Zx),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:h}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&ZT(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Dn();const d=sr(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const p=sr(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}vr(a,l),qc(a,h),ah(this.projectionDeltaWithTransform,this.layoutCorrected,a,h)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new QO),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const c={};for(let h=0;h<Qx.length;h++){const d="rotate"+Qx[h];l[d]&&(c[d]=l[d],o.setStaticValue(d,0))}o.render();for(const h in c)o.setStaticValue(h,c[h]);o.scheduleRender()}getProjectionStyles(o={}){var a,l;const c={};if(!this.instance||this.isSVG)return c;if(this.isVisible)c.visibility="";else return{visibility:"hidden"};const h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=dp(o.pointerEvents)||"",c.transform=h?h(this.latestValues,""):"none",c;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const S={};return this.options.layoutId&&(S.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,S.pointerEvents=dp(o.pointerEvents)||""),this.hasProjected&&!Xa(this.latestValues)&&(S.transform=h?h({},""):"none",this.hasProjected=!1),S}const p=d.animationValues||d.latestValues;this.applyTransformsToTarget(),c.transform=Yx(this.projectionDeltaWithTransform,this.treeScale,p),h&&(c.transform=h(p,c.transform));const{x:m,y:v}=this.projectionDelta;c.transformOrigin=`${m.origin*100}% ${v.origin*100}% 0`,d.animationValues?c.opacity=d===this?(l=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=d===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const S in Qp){if(p[S]===void 0)continue;const{correct:_,applyTo:g}=Qp[S],x=c.transform==="none"?p[S]:_(p[S],d);if(g){const A=g.length;for(let E=0;E<A;E++)c[g[E]]=x}else c[S]=x}return this.options.layoutId&&(c.pointerEvents=d===this?dp(o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach($x),this.root.sharedNodes.clear()}}}function iU(n){n.updateLayout()}function rU(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:r}=n.layout,{animationType:s}=n.options,o=t.source!==n.layout.source;s==="size"?vs(d=>{const p=o?t.measuredBox[d]:t.layoutBox[d],m=sr(p);p.min=i[d].min,p.max=p.min+m}):ZT(s,t.layoutBox,i)&&vs(d=>{const p=o?t.measuredBox[d]:t.layoutBox[d],m=sr(i[d]);p.max=p.min+m,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[d].max=n.relativeTarget[d].min+m)});const a=jc();ah(a,i,t.layoutBox);const l=jc();o?ah(l,n.applyTransform(r,!0),t.measuredBox):ah(l,i,t.layoutBox);const c=!JT(a);let h=!1;if(!n.resumeFrom){const d=n.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:p,layout:m}=d;if(p&&m){const v=Dn();lh(v,t.layoutBox,p.layoutBox);const S=Dn();lh(S,i,m.layoutBox),KT(v,S)||(h=!0),d.options.layoutRoot&&(n.relativeTarget=S,n.relativeTargetOrigin=v,n.relativeParent=d)}}}n.notifyListeners("didUpdate",{layout:i,snapshot:t,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:h})}else if(n.isLead()){const{onExitComplete:i}=n.options;i&&i()}n.options.transition=void 0}function sU(n){Ja.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function oU(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function aU(n){n.clearSnapshot()}function $x(n){n.clearMeasurements()}function lU(n){n.isLayoutDirty=!1}function cU(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function e_(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function uU(n){n.resolveTargetDelta()}function fU(n){n.calcProjection()}function hU(n){n.resetRotation()}function dU(n){n.removeLeadSnapshot()}function t_(n,e,t){n.translate=an(e.translate,0,t),n.scale=an(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function n_(n,e,t,i){n.min=an(e.min,t.min,i),n.max=an(e.max,t.max,i)}function pU(n,e,t,i){n_(n.x,e.x,t.x,i),n_(n.y,e.y,t.y,i)}function mU(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const gU={duration:.45,ease:[.4,0,.1,1]},i_=n=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(n),r_=i_("applewebkit/")&&!i_("chrome/")?Math.round:wn;function s_(n){n.min=r_(n.min),n.max=r_(n.max)}function vU(n){s_(n.x),s_(n.y)}function ZT(n,e,t){return n==="position"||n==="preserve-aspect"&&!bg(Kx(e),Kx(t),.2)}const yU=QT({attachResizeListener:(n,e)=>no(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),A5={current:void 0},$T=QT({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!A5.current){const n=new yU({});n.mount(window),n.setOptions({layoutScroll:!0}),A5.current=n}return A5.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),xU={pan:{Feature:UO},drag:{Feature:OO,ProjectionNode:$T,MeasureLayout:jT}},_U=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function AU(n){const e=_U.exec(n);if(!e)return[,];const[,t,i]=e;return[t,i]}function Ig(n,e,t=1){const[i,r]=AU(n);if(!i)return;const s=window.getComputedStyle(e).getPropertyValue(i);if(s){const o=s.trim();return NT(o)?parseFloat(o):o}else return xg(r)?Ig(r,e,t+1):r}function SU(n,{...e},t){const i=n.current;if(!(i instanceof Element))return{target:e,transitionEnd:t};t&&(t={...t}),n.values.forEach(r=>{const s=r.get();if(!xg(s))return;const o=Ig(s,i);o&&r.set(o)});for(const r in e){const s=e[r];if(!xg(s))continue;const o=Ig(s,i);o&&(e[r]=o,t||(t={}),t[r]===void 0&&(t[r]=s))}return{target:e,transitionEnd:t}}const MU=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),eC=n=>MU.has(n),EU=n=>Object.keys(n).some(eC),o_=n=>n===Ll||n===at,a_=(n,e)=>parseFloat(n.split(", ")[e]),l_=(n,e)=>(t,{transform:i})=>{if(i==="none"||!i)return 0;const r=i.match(/^matrix3d\((.+)\)$/);if(r)return a_(r[1],e);{const s=i.match(/^matrix\((.+)\)$/);return s?a_(s[1],n):0}},wU=new Set(["x","y","z"]),TU=hd.filter(n=>!wU.has(n));function CU(n){const e=[];return TU.forEach(t=>{const i=n.getValue(t);i!==void 0&&(e.push([t,i.get()]),i.set(t.startsWith("scale")?1:0))}),e.length&&n.render(),e}const _u={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:l_(4,13),y:l_(5,14)};_u.translateX=_u.x;_u.translateY=_u.y;const bU=(n,e,t)=>{const i=e.measureViewportBox(),r=e.current,s=getComputedStyle(r),{display:o}=s,a={};o==="none"&&e.setStaticValue("display",n.display||"block"),t.forEach(c=>{a[c]=_u[c](i,s)}),e.render();const l=e.measureViewportBox();return t.forEach(c=>{const h=e.getValue(c);h&&h.jump(a[c]),n[c]=_u[c](l,s)}),n},PU=(n,e,t={},i={})=>{e={...e},i={...i};const r=Object.keys(e).filter(eC);let s=[],o=!1;const a=[];if(r.forEach(l=>{const c=n.getValue(l);if(!n.hasValue(l))return;let h=t[l],d=xf(h);const p=e[l];let m;if($p(p)){const v=p.length,S=p[0]===null?1:0;h=p[S],d=xf(h);for(let _=S;_<v&&p[_]!==null;_++)m?q2(xf(p[_])===m):m=xf(p[_])}else m=xf(p);if(d!==m)if(o_(d)&&o_(m)){const v=c.get();typeof v=="string"&&c.set(parseFloat(v)),typeof p=="string"?e[l]=parseFloat(p):Array.isArray(p)&&m===at&&(e[l]=p.map(parseFloat))}else d!=null&&d.transform&&(m!=null&&m.transform)&&(h===0||p===0)?h===0?c.set(m.transform(h)):e[l]=d.transform(p):(o||(s=CU(n),o=!0),a.push(l),i[l]=i[l]!==void 0?i[l]:e[l],c.jump(p))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,c=bU(e,n,a);return s.length&&s.forEach(([h,d])=>{n.getValue(h).set(d)}),n.render(),H2&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:i}}else return{target:e,transitionEnd:i}};function RU(n,e,t,i){return EU(e)?PU(n,e,t,i):{target:e,transitionEnd:i}}const BU=(n,e,t,i)=>{const r=SU(n,e,i);return e=r.target,i=r.transitionEnd,RU(n,e,t,i)},Lg={current:null},tC={current:!1};function IU(){if(tC.current=!0,!!H2)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>Lg.current=n.matches;n.addListener(e),e()}else Lg.current=!1}function LU(n,e,t){const{willChange:i}=e;for(const r in e){const s=e[r],o=t[r];if(Un(s))n.addValue(r,s),n2(i)&&i.add(r);else if(Un(o))n.addValue(r,Kr(s,{owner:n})),n2(i)&&i.remove(r);else if(o!==s)if(n.hasValue(r)){const a=n.getValue(r);!a.hasAnimated&&a.set(s)}else{const a=n.getStaticValue(r);n.addValue(r,Kr(a!==void 0?a:s,{owner:n}))}}for(const r in t)e[r]===void 0&&n.removeValue(r);return e}const Uh=new WeakMap,nC=Object.keys(Nh),DU=nC.length,c_=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],FU=U4.length;class NU{constructor({parent:e,props:t,presenceContext:i,reducedMotionConfig:r,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>kt.render(this.render,!1,!0);const{latestValues:a,renderState:l}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=t.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=t,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=o,this.isControllingVariants=G2(t),this.isVariantNode=Hw(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...h}=this.scrapeMotionValuesFromProps(t,{});for(const d in h){const p=h[d];a[d]!==void 0&&Un(p)&&(p.set(a[d],!1),n2(c)&&c.add(d))}}scrapeMotionValuesFromProps(e,t){return{}}mount(e){this.current=e,Uh.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,i)=>this.bindToMotionValue(i,t)),tC.current||IU(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Lg.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Uh.delete(this.current),this.projection&&this.projection.unmount(),Dr(this.notifyUpdate),Dr(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,t){const i=Il.has(e),r=t.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&kt.update(this.notifyUpdate,!1,!0),i&&this.projection&&(this.projection.isTransformDirty=!0)}),s=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{r(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...t},i,r,s){let o,a;for(let l=0;l<DU;l++){const c=nC[l],{isEnabled:h,Feature:d,ProjectionNode:p,MeasureLayout:m}=Nh[c];p&&(o=p),h(t)&&(!this.features[c]&&d&&(this.features[c]=new d(this)),m&&(a=m))}if(!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:h,dragConstraints:d,layoutScroll:p,layoutRoot:m}=t;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!h||d&&Vc(d),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:s,layoutScroll:p,layoutRoot:m})}return a}updateFeatures(){for(const e in this.features){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Dn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e,t=!0){return this.makeTargetAnimatableFromInstance(e,this.props,t)}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let i=0;i<c_.length;i++){const r=c_[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const s=e["on"+r];s&&(this.propEventSubscriptions[r]=this.on(r,s))}this.prevMotionValues=LU(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const i=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(i.initial=this.props.initial),i}const t={};for(let i=0;i<FU;i++){const r=U4[i],s=this.props[r];(Fh(s)||s===!1)&&(t[r]=s)}return t}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&t!==void 0&&(i=Kr(t,{owner:this}),this.addValue(e,i)),i}readValue(e){var t;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(t=this.getBaseTargetFromProps(this.props,e))!==null&&t!==void 0?t:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:i}=this.props,r=typeof i=="string"||typeof i=="object"?(t=X4(this.props,i))===null||t===void 0?void 0:t[e]:void 0;if(i&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Un(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new i9),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class iC extends NU{sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:i}){delete t[e],delete i[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:t,...i},{transformValues:r},s){let o=iO(i,e||{},this);if(r&&(t&&(t=r(t)),i&&(i=r(i)),o&&(o=r(o))),s){tO(this,i,o);const a=BU(this,i,o,t);t=a.transitionEnd,i=a.target}return{transition:e,transitionEnd:t,...i}}}function OU(n){return window.getComputedStyle(n)}class rC extends iC{readValueFromInstance(e,t){if(Il.has(t)){const i=e9(t);return i&&i.default||0}else{const i=OU(e),r=(Ww(t)?i.getPropertyValue(t):i[t])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:t}){return WT(e,t)}build(e,t,i,r){z4(e,t,i,r.transformTemplate)}scrapeMotionValuesFromProps(e,t){return q4(e,t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Un(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}renderInstance(e,t,i,r){Yw(e,t,i,r)}}class sC extends iC{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Il.has(t)){const i=e9(t);return i&&i.default||0}return t=Qw.has(t)?t:j4(t),e.getAttribute(t)}measureInstanceViewportBox(){return Dn()}scrapeMotionValuesFromProps(e,t){return $w(e,t)}build(e,t,i,r){V4(e,t,i,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,i,r){Zw(e,t,i,r)}mount(e){this.isSVGTag=W4(e.tagName),super.mount(e)}}const UU=(n,e)=>H4(n)?new sC(e,{enableHardwareAcceleration:!1}):new rC(e,{enableHardwareAcceleration:!0}),kU={layout:{ProjectionNode:$T,MeasureLayout:jT}},HU={...vO,...GF,...xU,...kU},Yt=QD((n,e)=>PF(n,e,HU,UU));function oC(){const n=k.useRef(!1);return Ou(()=>(n.current=!0,()=>{n.current=!1}),[]),n}function zU(){const n=oC(),[e,t]=k.useState(0),i=k.useCallback(()=>{n.current&&t(e+1)},[e]);return[k.useCallback(()=>kt.postRender(i),[i]),e]}class GU extends k.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const i=this.props.sizeRef.current;i.height=t.offsetHeight||0,i.width=t.offsetWidth||0,i.top=t.offsetTop,i.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function VU({children:n,isPresent:e}){const t=k.useId(),i=k.useRef(null),r=k.useRef({width:0,height:0,top:0,left:0});return k.useInsertionEffect(()=>{const{width:s,height:o,top:a,left:l}=r.current;if(e||!i.current||!s||!o)return;i.current.dataset.motionPopId=t;const c=document.createElement("style");return document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${t}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${o}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[e]),k.createElement(GU,{isPresent:e,childRef:i,sizeRef:r},k.cloneElement(n,{ref:i}))}const S5=({children:n,initial:e,isPresent:t,onExitComplete:i,custom:r,presenceAffectsLayout:s,mode:o})=>{const a=md(WU),l=k.useId(),c=k.useMemo(()=>({id:l,initial:e,isPresent:t,custom:r,onExitComplete:h=>{a.set(h,!0);for(const d of a.values())if(!d)return;i&&i()},register:h=>(a.set(h,!1),()=>a.delete(h))}),s?void 0:[t]);return k.useMemo(()=>{a.forEach((h,d)=>a.set(d,!1))},[t]),k.useEffect(()=>{!t&&!a.size&&i&&i()},[t]),o==="popLayout"&&(n=k.createElement(VU,{isPresent:t},n)),k.createElement(k2.Provider,{value:c},n)};function WU(){return new Map}function jU(n){return k.useEffect(()=>()=>n(),[])}const bc=n=>n.key||"";function qU(n,e){n.forEach(t=>{const i=bc(t);e.set(i,t)})}function XU(n){const e=[];return k.Children.forEach(n,t=>{k.isValidElement(t)&&e.push(t)}),e}const JU=({children:n,custom:e,initial:t=!0,onExitComplete:i,exitBeforeEnter:r,presenceAffectsLayout:s=!0,mode:o="sync"})=>{const a=k.useContext(k4).forceRender||zU()[0],l=oC(),c=XU(n);let h=c;const d=k.useRef(new Map).current,p=k.useRef(h),m=k.useRef(new Map).current,v=k.useRef(!0);if(Ou(()=>{v.current=!1,qU(c,m),p.current=h}),jU(()=>{v.current=!0,m.clear(),d.clear()}),v.current)return k.createElement(k.Fragment,null,h.map(x=>k.createElement(S5,{key:bc(x),isPresent:!0,initial:t?void 0:!1,presenceAffectsLayout:s,mode:o},x)));h=[...h];const S=p.current.map(bc),_=c.map(bc),g=S.length;for(let x=0;x<g;x++){const A=S[x];_.indexOf(A)===-1&&!d.has(A)&&d.set(A,void 0)}return o==="wait"&&d.size&&(h=[]),d.forEach((x,A)=>{if(_.indexOf(A)!==-1)return;const E=m.get(A);if(!E)return;const T=S.indexOf(A);let C=x;if(!C){const R=()=>{m.delete(A),d.delete(A);const I=p.current.findIndex(P=>P.key===A);if(p.current.splice(I,1),!d.size){if(p.current=c,l.current===!1)return;a(),i&&i()}};C=k.createElement(S5,{key:bc(E),isPresent:!1,onExitComplete:R,custom:e,presenceAffectsLayout:s,mode:o},E),d.set(A,C)}h.splice(T,0,C)}),h=h.map(x=>{const A=x.key;return d.has(A)?x:k.createElement(S5,{key:bc(x),isPresent:!0,presenceAffectsLayout:s,mode:o},x)}),k.createElement(k.Fragment,null,d.size?h:h.map(x=>k.cloneElement(x)))};function kh(n){const e=md(()=>Kr(n)),{isStatic:t}=k.useContext(O2);if(t){const[,i]=k.useState(n);k.useEffect(()=>e.on("change",i),[])}return e}const KU=n=>typeof n=="object"&&n.mix,YU=n=>KU(n)?n.mix:void 0;function QU(...n){const e=!Array.isArray(n[0]),t=e?0:-1,i=n[0+t],r=n[1+t],s=n[2+t],o=n[3+t],a=X2(r,s,{mixer:YU(s[0]),...o});return e?a(i):a}function o9(n,e){const t=kh(e()),i=()=>t.set(e());return i(),Ou(()=>{const r=()=>kt.update(i,!1,!0),s=n.map(o=>o.on("change",r));return()=>{s.forEach(o=>o()),Dr(i)}}),t}function ZU(n){oh.current=[],n();const e=o9(oh.current,n);return oh.current=void 0,e}function r2(n,e,t,i){if(typeof n=="function")return ZU(n);const r=typeof e=="function"?e:QU(e,t,i);return Array.isArray(n)?u_(n,r):u_([n],([s])=>r(s))}function u_(n,e){const t=md(()=>[]);return o9(n,()=>{t.length=0;const i=n.length;for(let r=0;r<i;r++)t[r]=n[r].get();return e(t)})}function $U(n,...e){const t=n.length;function i(){let r="";for(let s=0;s<t;s++){r+=n[s];const o=e[s];o&&(r+=Un(o)?o.get():o)}return r}return o9(e.filter(Un),i)}function f_(n,e={}){const{isStatic:t}=k.useContext(O2),i=k.useRef(null),r=kh(Un(n)?n.get():n),s=()=>{i.current&&i.current.stop()};return k.useInsertionEffect(()=>r.attach((o,a)=>{if(t)return a(o);if(s(),i.current=Oh({keyframes:[r.get(),o],velocity:r.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...e,onUpdate:a}),!bn.isProcessing){const l=performance.now()-bn.timestamp;l<30&&(i.current.time=$r(l))}return r.get()},s),[JSON.stringify(e)]),Ou(()=>{if(Un(n))return n.on("change",o=>r.set(parseFloat(o)))},[r]),r}function ek(n,e,t){k.useInsertionEffect(()=>n.on(e,t),[n,e,t])}function a9(n,e,t){var i;if(typeof n=="string"){let r=document;e&&(q2(!!e.current),r=e.current),t?((i=t[n])!==null&&i!==void 0||(t[n]=r.querySelectorAll(n)),n=t[n]):n=r.querySelectorAll(n)}else n instanceof Element&&(n=[n]);return Array.from(n||[])}const mp=new WeakMap;let Uo;function tk(n,e){if(e){const{inlineSize:t,blockSize:i}=e[0];return{width:t,height:i}}else return n instanceof SVGElement&&"getBBox"in n?n.getBBox():{width:n.offsetWidth,height:n.offsetHeight}}function nk({target:n,contentRect:e,borderBoxSize:t}){var i;(i=mp.get(n))===null||i===void 0||i.forEach(r=>{r({target:n,contentSize:e,get size(){return tk(n,t)}})})}function ik(n){n.forEach(nk)}function rk(){typeof ResizeObserver>"u"||(Uo=new ResizeObserver(ik))}function sk(n,e){Uo||rk();const t=a9(n);return t.forEach(i=>{let r=mp.get(i);r||(r=new Set,mp.set(i,r)),r.add(e),Uo==null||Uo.observe(i)}),()=>{t.forEach(i=>{const r=mp.get(i);r==null||r.delete(e),r!=null&&r.size||Uo==null||Uo.unobserve(i)})}}const gp=new Set;let ch;function ok(){ch=()=>{const n={width:window.innerWidth,height:window.innerHeight},e={target:window,size:n,contentSize:n};gp.forEach(t=>t(e))},window.addEventListener("resize",ch)}function ak(n){return gp.add(n),ch||ok(),()=>{gp.delete(n),!gp.size&&ch&&(ch=void 0)}}function lk(n,e){return typeof n=="function"?ak(n):sk(n,e)}const ck=50,h_=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),uk=()=>({time:0,x:h_(),y:h_()}),fk={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function d_(n,e,t,i){const r=t[e],{length:s,position:o}=fk[e],a=r.current,l=t.time;r.current=n["scroll"+o],r.scrollLength=n["scroll"+s]-n["client"+s],r.offset.length=0,r.offset[0]=0,r.offset[1]=r.scrollLength,r.progress=Ml(0,r.scrollLength,r.current);const c=i-l;r.velocity=c>ck?0:Z4(r.current-a,c)}function hk(n,e,t){d_(n,"x",e,t),d_(n,"y",e,t),e.time=t}function dk(n,e){const t={x:0,y:0};let i=n;for(;i&&i!==e;)if(i instanceof HTMLElement)t.x+=i.offsetLeft,t.y+=i.offsetTop,i=i.offsetParent;else if(i.tagName==="svg"){const r=i.getBoundingClientRect();i=i.parentElement;const s=i.getBoundingClientRect();t.x+=r.left-s.left,t.y+=r.top-s.top}else if(i instanceof SVGGraphicsElement){const{x:r,y:s}=i.getBBox();t.x+=r,t.y+=s;let o=null,a=i.parentNode;for(;!o;)a.tagName==="svg"&&(o=a),a=i.parentNode;i=o}else break;return t}const pk={Enter:[[0,1],[1,1]],Exit:[[0,0],[1,0]],Any:[[1,0],[0,1]],All:[[0,0],[1,1]]},Dg={start:0,center:.5,end:1};function p_(n,e,t=0){let i=0;if(Dg[n]!==void 0&&(n=Dg[n]),typeof n=="string"){const r=parseFloat(n);n.endsWith("px")?i=r:n.endsWith("%")?n=r/100:n.endsWith("vw")?i=r/100*document.documentElement.clientWidth:n.endsWith("vh")?i=r/100*document.documentElement.clientHeight:n=r}return typeof n=="number"&&(i=e*n),t+i}const mk=[0,0];function gk(n,e,t,i){let r=Array.isArray(n)?n:mk,s=0,o=0;return typeof n=="number"?r=[n,n]:typeof n=="string"&&(n=n.trim(),n.includes(" ")?r=n.split(" "):r=[n,Dg[n]?n:"0"]),s=p_(r[0],t,i),o=p_(r[1],e),s-o}const vk={x:0,y:0};function yk(n){return"getBBox"in n&&n.tagName!=="svg"?n.getBBox():{width:n.clientWidth,height:n.clientHeight}}function xk(n,e,t){let{offset:i=pk.All}=t;const{target:r=n,axis:s="y"}=t,o=s==="y"?"height":"width",a=r!==n?dk(r,n):vk,l=r===n?{width:n.scrollWidth,height:n.scrollHeight}:yk(r),c={width:n.clientWidth,height:n.clientHeight};e[s].offset.length=0;let h=!e[s].interpolate;const d=i.length;for(let p=0;p<d;p++){const m=gk(i[p],c[o],l[o],a[s]);!h&&m!==e[s].interpolatorOffsets[p]&&(h=!0),e[s].offset[p]=m}h&&(e[s].interpolate=X2(e[s].offset,Q4(i)),e[s].interpolatorOffsets=[...e[s].offset]),e[s].progress=e[s].interpolate(e[s].current)}function _k(n,e=n,t){if(t.x.targetOffset=0,t.y.targetOffset=0,e!==n){let i=e;for(;i&&i!==n;)t.x.targetOffset+=i.offsetLeft,t.y.targetOffset+=i.offsetTop,i=i.offsetParent}t.x.targetLength=e===n?e.scrollWidth:e.clientWidth,t.y.targetLength=e===n?e.scrollHeight:e.clientHeight,t.x.containerLength=n.clientWidth,t.y.containerLength=n.clientHeight}function Ak(n,e,t,i={}){return{measure:()=>_k(n,i.target,t),update:r=>{hk(n,t,r),(i.offset||i.target)&&xk(n,t,i)},notify:()=>e(t)}}const Af=new WeakMap,m_=new WeakMap,M5=new WeakMap,g_=n=>n===document.documentElement?window:n;function Sk(n,{container:e=document.documentElement,...t}={}){let i=M5.get(e);i||(i=new Set,M5.set(e,i));const r=uk(),s=Ak(e,n,r,t);if(i.add(s),!Af.has(e)){const a=()=>{for(const p of i)p.measure()},l=()=>{for(const p of i)p.update(bn.timestamp)},c=()=>{for(const p of i)p.notify()},h=()=>{kt.read(a,!1,!0),kt.update(l,!1,!0),kt.update(c,!1,!0)};Af.set(e,h);const d=g_(e);window.addEventListener("resize",h,{passive:!0}),e!==document.documentElement&&m_.set(e,lk(e,h)),d.addEventListener("scroll",h,{passive:!0})}const o=Af.get(e);return kt.read(o,!1,!0),()=>{var a;Dr(o);const l=M5.get(e);if(!l||(l.delete(s),l.size))return;const c=Af.get(e);Af.delete(e),c&&(g_(e).removeEventListener("scroll",c),(a=m_.get(e))===null||a===void 0||a(),window.removeEventListener("resize",c))}}function v_(n,e){aT(!!(!e||e.current))}const Mk=()=>({scrollX:Kr(0),scrollY:Kr(0),scrollXProgress:Kr(0),scrollYProgress:Kr(0)});function K2({container:n,target:e,layoutEffect:t=!0,...i}={}){const r=md(Mk);return(t?Ou:k.useEffect)(()=>(v_("target",e),v_("container",n),Sk(({x:o,y:a})=>{r.scrollX.set(o.current),r.scrollXProgress.set(o.progress),r.scrollY.set(a.current),r.scrollYProgress.set(a.progress)},{...i,container:(n==null?void 0:n.current)||void 0,target:(e==null?void 0:e.current)||void 0})),[n,e,JSON.stringify(i.offset)]),r}function Ek(n,e){let t;const i=()=>{const{currentTime:r}=e,o=(r===null?0:r.value)/100;t!==o&&n(o),t=o};return kt.update(i,!0),()=>Dr(i)}const wk=IT(()=>window.ScrollTimeline!==void 0);class aC{constructor(e){this.animations=e.filter(Boolean)}then(e,t){return Promise.all(this.animations).then(e).catch(t)}getAll(e){return this.animations[0][e]}setAll(e,t){for(let i=0;i<this.animations.length;i++)this.animations[i][e]=t}attachTimeline(e){const t=this.animations.map(i=>{if(wk()&&i.attachTimeline)i.attachTimeline(e);else return i.pause(),Ek(r=>{i.time=i.duration*r},e)});return()=>{t.forEach((i,r)=>{i&&i(),this.animations[r].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}play(){this.runAll("play")}pause(){this.runAll("pause")}stop(){this.runAll("stop")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function Tk(n){return typeof n=="object"&&!Array.isArray(n)}function Ck(n){const e={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},t=YT(n)?new sC(e,{enableHardwareAcceleration:!1}):new rC(e,{enableHardwareAcceleration:!0});t.mount(n),Uh.set(n,t)}function bk(n,e=100){const t=$4({keyframes:[0,e],...n}),i=Math.min(Eg(t),Mg);return{type:"keyframes",ease:r=>t.next(i*r).value/e,duration:$r(i)}}function y_(n,e,t,i){var r;return typeof e=="number"?e:e.startsWith("-")||e.startsWith("+")?Math.max(0,n+parseFloat(e)):e==="<"?t:(r=i.get(e))!==null&&r!==void 0?r:n}const Pk=(n,e,t)=>{const i=e-n;return((t-n)%i+i)%i+n};function Rk(n,e){return pT(n)?n[Pk(0,n.length,e)]:n}function Bk(n,e,t){for(let i=0;i<n.length;i++){const r=n[i];r.at>e&&r.at<t&&(J2(n,r),i--)}}function Ik(n,e,t,i,r,s){Bk(n,r,s);for(let o=0;o<e.length;o++)n.push({value:e[o],at:an(r,s,i[o]),easing:Rk(t,o)})}function Lk(n,e){return n.at===e.at?n.value===null?1:e.value===null?-1:0:n.at-e.at}const Dk="easeInOut";function Fk(n,{defaultTransition:e={},...t}={},i){const r=e.duration||.3,s=new Map,o=new Map,a={},l=new Map;let c=0,h=0,d=0;for(let p=0;p<n.length;p++){const m=n[p];if(typeof m=="string"){l.set(m,h);continue}else if(!Array.isArray(m)){l.set(m.name,y_(h,m.at,c,l));continue}let[v,S,_={}]=m;_.at!==void 0&&(h=y_(h,_.at,c,l));let g=0;const x=(A,E,T,C=0,R=0)=>{const I=Nk(A),{delay:P=0,times:B=Q4(I),type:U="keyframes",...Y}=E;let{ease:ee=e.ease||"easeOut",duration:V}=E;const Q=typeof P=="function"?P(C,R):P,ne=I.length;if(ne<=2&&U==="spring"){let j=100;if(ne===2&&kk(I)){const ce=I[1]-I[0];j=Math.abs(ce)}const N={...Y};V!==void 0&&(N.duration=ao(V));const X=bk(N,j);ee=X.ease,V=X.duration}V??(V=r);const te=h+Q,D=te+V;B.length===1&&B[0]===0&&(B[1]=1);const W=B.length-I.length;W>0&&RT(B,W),I.length===1&&I.unshift(null),Ik(T,I,ee,B,te,D),g=Math.max(Q+V,g),d=Math.max(D,d)};if(Un(v)){const A=x_(v,o);x(S,_,__("default",A))}else{const A=a9(v,i,a),E=A.length;for(let T=0;T<E;T++){S=S,_=_;const C=A[T],R=x_(C,o);for(const I in S)x(S[I],Ok(_,I),__(I,R),T,E)}c=h,h+=g}}return o.forEach((p,m)=>{for(const v in p){const S=p[v];S.sort(Lk);const _=[],g=[],x=[];for(let E=0;E<S.length;E++){const{at:T,value:C,easing:R}=S[E];_.push(C),g.push(Ml(0,d,T)),x.push(R||"easeOut")}g[0]!==0&&(g.unshift(0),_.unshift(_[0]),x.unshift(Dk)),g[g.length-1]!==1&&(g.push(1),_.push(null)),s.has(m)||s.set(m,{keyframes:{},transition:{}});const A=s.get(m);A.keyframes[v]=_,A.transition[v]={...e,duration:d,ease:x,times:g,...t}}}),s}function x_(n,e){return!e.has(n)&&e.set(n,{}),e.get(n)}function __(n,e){return e[n]||(e[n]=[]),e[n]}function Nk(n){return Array.isArray(n)?n:[n]}function Ok(n,e){return n[e]?{...n,...n[e]}:{...n}}const Uk=n=>typeof n=="number",kk=n=>n.every(Uk);function lC(n,e,t,i){const r=a9(n,i),s=r.length,o=[];for(let a=0;a<s;a++){const l=r[a];Uh.has(l)||Ck(l);const c=Uh.get(l),h={...t};typeof h.delay=="function"&&(h.delay=h.delay(a,s)),o.push(...r9(c,{...e,transition:h},{}))}return new aC(o)}const Hk=n=>Array.isArray(n)&&Array.isArray(n[0]);function zk(n,e,t){const i=[];return Fk(n,e,t).forEach(({keyframes:s,transition:o},a)=>{let l;Un(a)?l=s9(a,s.default,o.default):l=lC(a,s,o),i.push(l)}),new aC(i)}const Gk=n=>{function e(t,i,r){let s;return Hk(t)?s=zk(t,i,n):Tk(i)?s=lC(t,i,r,n):s=s9(t,i,r),n&&n.animations.push(s),s}return e},Vk=Gk(),su={paddingX:"sm:px-16 px-6",paddingY:"sm:py-16 py-6",padding:"sm:px-16 px-6 sm:py-16 py-10 max-[340px]:px-2",heroHeadText:"font-black text-white lg:text-[80px] sm:text-[60px] xs:text-[50px] text-[40px] lg:leading-[98px] mt-2",heroSubText:"text-[#dfd9ff] font-medium lg:text-[30px] sm:text-[26px] xs:text-[20px] text-[16px] lg:leading-[40px]",sectionHeadText:"text-white font-black md:text-[60px] sm:text-[50px] xs:text-[40px] text-[30px]",sectionSubText:"sm:text-[18px] text-[14px] uppercase tracking-wider stroke-text font-black"},Wk={initial:{scaleY:0,opacity:0},start:{scaleY:1,opacity:1,transition:{duration:1,type:"spring",delay:.5}}},jk={initial:{paddingTop:"50px"},start:n=>({paddingTop:"0px",transition:{duration:.75,type:"spring",delay:1.5+n*.1}})},cC={initial:{scale:0},start:n=>({scale:1,transition:{duration:1,type:"spring",delay:n}}),exit:{scale:0,transition:{duration:1,type:"spring"}}},uC={initial:{opacity:0,scaleY:0},start:n=>({opacity:1,scaleY:1,transition:{duration:.75,type:"spring",delay:n||.3}}),exit:n=>({opacity:0,scaleY:0,transition:{duration:.75,type:"spring",delay:n||.3}})},fC={initial:{scaleX:0},enter:n=>({scaleX:1,transition:{duration:.75,type:"spring",delay:n}}),exit:{scaleX:0}},hC=n=>({x:n==="left"?100:n==="right"?-100:0,y:n==="up"?100:n==="down"?-100:0,opacity:0}),dC=(n,e,t)=>({x:0,y:0,opacity:1,transition:{type:n,delay:e,duration:t,ease:"easeOut"}}),qk={initial:{opacity:0,rotateX:120},enter:n=>({opacity:1,rotateX:0,transition:{type:"tween",delay:n*.05,ease:"easeOut",duration:.5}}),exit:n=>({opacity:0,rotateX:120,transition:{type:"tween",delay:n*.05,ease:"easeOut",duration:.5}})},A_=n=>({x:n==="left"?"-100%":n==="right"?"100%":0,y:n==="up"||n==="down"?"100%":0}),S_=(n,e,t)=>({x:0,y:0,transition:{type:n,delay:e,duration:t,ease:"easeOut"}}),Xk={initial:{y:"-100%"},enter:{y:"0%",transition:{duration:.75,type:"spring",delay:2.7,stiffness:350,damping:10,mass:.5}}},Jk=(n,e)=>({hidden:{},show:{transition:{staggerChildren:n,delayChildren:e||0}}}),Kk={initial:{x:"calc(100% + 100px)"},enter:{x:"0",transition:{duration:.8,ease:[.76,0,.24,1]}},exit:{x:"calc(100% + 100px)",transition:{duration:.8,ease:[.76,0,.24,1]}}},M_={initial:{x:"80px"},enter:n=>({x:"0px",transition:{duration:.8,ease:[.76,0,.24,1],delay:.05*n}}),exit:n=>({x:"80px",transition:{duration:.8,ease:[.76,0,.24,1],delay:.05*n}})},vd=(n,e)=>function(){return J.jsxs(Yt.section,{variants:Jk(),initial:"hidden",whileInView:"show",viewport:{once:!0,amount:.25},className:`${su.padding} max-w-7xl mx-auto relative z-0`,children:[J.jsx("span",{className:"hash-span",id:e}),J.jsx(n,{})]})},Yk=()=>J.jsxs(J.Fragment,{children:[J.jsxs("div",{children:[J.jsx(ha,{text:"Introduction",textStyle:"sectionSubText"}),J.jsx(ha,{text:"Overview.",textStyle:"sectionHeadText"})]}),J.jsx("div",{className:"mt-4 text-secondary text-[17px] max-w-3xl leading-[30px]",children:J.jsx(qR,{text:"I'm a skilled web developer with experience in TypeScript and JavaScript, and expertise in frameworks and libraries like React, Next.js, TailwindCSS and Three.js. Let's work together to bring your ideas to life !"})}),J.jsx("div",{className:"mt-20 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-10",children:kD.map((n,e)=>J.jsx(n$,{index:e,...n},n.title))})]}),Qk=vd(Yk,"about"),E_=["#1c1446","#032c44","#0c4733","#00285c","#4e2c4e","#460d1a","#3b2803"],Zk=()=>{const n=kh(E_[0]),e=$U`radial-gradient(125% 125% at 50% 0%, #050816 50%, ${n})`;return k.useEffect(()=>{Vk(n,E_,{ease:"easeInOut",duration:10,repeat:1/0,repeatType:"mirror"})},[]),J.jsx(Yt.section,{className:"absolute top-0 left-0 w-full h-full -z-10 overflow-hidden",style:{backgroundImage:e}})},$k=()=>J.jsxs("div",{className:"absolute top-[10px] right-[15px] hover:scale-105 transition",children:[J.jsx("button",{className:"hidden sm:block border border-tertiary px-[10px] py-[5px] rounded font-bold bg-tertiary/20 focus:scale-105",onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})},children:"Back to top"}),J.jsx("button",{className:"block sm:hidden rounded font-bold border border-tertiary focus:scale-105",onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})},children:J.jsx("img",{className:"w-[30px] h-[30px]",src:Nw,alt:"Back to top"})})]}),ha=({text:n,textStyle:e})=>{const t=k.useRef(null),{scrollYProgress:i}=K2({target:t,offset:["start 0.95","start 0.6"]}),r=n.split(" ");return J.jsx("p",{className:`${su[e]} flex flex-wrap leading-6 gap-1 mb-5 min-[450px]:mb-8`,ref:t,style:{opacity:i},children:r.map((s,o)=>{const a=o/r.length,l=a+1/r.length;return J.jsx(eH,{word:s,range:[a,l],progress:i},o)})})},eH=({word:n,range:e,progress:t})=>{const i=n.split(""),s=(e[1]-e[0])/n.length;return J.jsx("span",{className:"flex leading-6",children:i.map((o,a)=>{const l=e[0]+s*a,c=e[0]+s*(a+1);return J.jsx(tH,{range:[l,c],progress:t,children:o},a)})})},tH=({children:n,range:e,progress:t})=>{const i=r2(t,e,[0,1]);return J.jsxs("span",{className:"relative",children:[J.jsx("span",{className:"absolute opacity-20",children:n}),J.jsx(Yt.span,{style:{opacity:i},children:n})]})},Hh={_origin:"https://api.emailjs.com"},nH=(n,e="https://api.emailjs.com")=>{Hh._userID=n,Hh._origin=e},pC=(n,e,t)=>{if(!n)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!t)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class w_{constructor(e){this.status=e?e.status:0,this.text=e?e.responseText:"Network Error"}}const mC=(n,e,t={})=>new Promise((i,r)=>{const s=new XMLHttpRequest;s.addEventListener("load",({target:o})=>{const a=new w_(o);a.status===200||a.text==="OK"?i(a):r(a)}),s.addEventListener("error",({target:o})=>{r(new w_(o))}),s.open("POST",Hh._origin+n,!0),Object.keys(t).forEach(o=>{s.setRequestHeader(o,t[o])}),s.send(e)}),iH=(n,e,t,i)=>{const r=i||Hh._userID;return pC(r,n,e),mC("/api/v1.0/email/send",JSON.stringify({lib_version:"3.11.0",user_id:r,service_id:n,template_id:e,template_params:t}),{"Content-type":"application/json"})},rH=n=>{let e;if(typeof n=="string"?e=document.querySelector(n):e=n,!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return e},sH=(n,e,t,i)=>{const r=i||Hh._userID,s=rH(t);pC(r,n,e);const o=new FormData(s);return o.append("lib_version","3.11.0"),o.append("service_id",n),o.append("template_id",e),o.append("user_id",r),mC("/api/v1.0/email/send-form",o)},oH={init:nH,send:iH,sendForm:sH};function or(){return or=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},or.apply(this,arguments)}/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Uu="157",Ka={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Ya={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},gC=0,Fg=1,vC=2,aH=3,yC=0,Y2=1,uh=2,Wr=3,Rs=0,xi=1,Tr=2,lH=2,lo=0,dl=1,Ng=2,Og=3,Ug=4,xC=5,$a=100,_C=101,AC=102,kg=103,Hg=104,SC=200,MC=201,EC=202,wC=203,l9=204,c9=205,TC=206,CC=207,bC=208,PC=209,RC=210,BC=0,IC=1,LC=2,s2=3,DC=4,FC=5,NC=6,OC=7,yd=0,UC=1,kC=2,Ts=0,HC=1,zC=2,GC=3,u9=4,VC=5,Q2=300,po=301,da=302,zh=303,Gh=304,ku=306,pa=1e3,ri=1001,Au=1002,Mn=1003,Vh=1004,cH=1004,ou=1005,uH=1005,hn=1006,Z2=1007,fH=1007,Bs=1008,hH=1008,Cs=1009,WC=1010,jC=1011,$2=1012,f9=1013,io=1014,As=1015,Su=1016,h9=1017,d9=1018,ra=1020,qC=1021,Ui=1023,XC=1024,JC=1025,sa=1026,El=1027,KC=1028,p9=1029,YC=1030,m9=1031,g9=1033,vp=33776,yp=33777,xp=33778,_p=33779,zg=35840,Gg=35841,Vg=35842,Wg=35843,QC=36196,jg=37492,qg=37496,Xg=37808,Jg=37809,Kg=37810,Yg=37811,Qg=37812,Zg=37813,$g=37814,e8=37815,t8=37816,n8=37817,i8=37818,r8=37819,s8=37820,o8=37821,Ap=36492,a8=36494,l8=36495,ZC=36283,c8=36284,u8=36285,f8=36286,$C=2200,eb=2201,tb=2202,Mu=2300,wl=2301,Sp=2302,ol=2400,al=2401,Wh=2402,em=2500,v9=2501,nb=0,y9=1,o2=2,x9=3e3,oa=3001,ib=3200,rb=3201,Aa=0,sb=1,$i="",Vn="srgb",Is="srgb-linear",tm="display-p3",xd="display-p3-linear",jh="linear",Kt="srgb",qh="rec709",Xh="p3",dH=0,Mp=7680,pH=7681,mH=7682,gH=7683,vH=34055,yH=34056,xH=5386,_H=512,AH=513,SH=514,MH=515,EH=516,wH=517,TH=518,ob=519,ab=512,lb=513,cb=514,ub=515,fb=516,hb=517,db=518,pb=519,Jh=35044,pl=35048,CH=35040,bH=35045,PH=35049,RH=35041,BH=35046,IH=35050,LH=35042,DH="100",h8="300 es",a2=1035,Ss=2e3,Kh=2001;class Ds{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let s=0,o=r.length;s<o;s++)r[s].call(this,e);e.target=null}}}const gi=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let T_=1234567;const ml=Math.PI/180,Eu=180/Math.PI;function ir(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(gi[n&255]+gi[n>>8&255]+gi[n>>16&255]+gi[n>>24&255]+"-"+gi[e&255]+gi[e>>8&255]+"-"+gi[e>>16&15|64]+gi[e>>24&255]+"-"+gi[t&63|128]+gi[t>>8&255]+"-"+gi[t>>16&255]+gi[t>>24&255]+gi[i&255]+gi[i>>8&255]+gi[i>>16&255]+gi[i>>24&255]).toLowerCase()}function En(n,e,t){return Math.max(e,Math.min(t,n))}function _9(n,e){return(n%e+e)%e}function FH(n,e,t,i,r){return i+(n-e)*(r-i)/(t-e)}function NH(n,e,t){return n!==e?(t-n)/(e-n):0}function fh(n,e,t){return(1-t)*n+t*e}function OH(n,e,t,i){return fh(n,e,1-Math.exp(-t*i))}function UH(n,e=1){return e-Math.abs(_9(n,e*2)-e)}function kH(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function HH(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function zH(n,e){return n+Math.floor(Math.random()*(e-n+1))}function GH(n,e){return n+Math.random()*(e-n)}function VH(n){return n*(.5-Math.random())}function WH(n){n!==void 0&&(T_=n);let e=T_+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function jH(n){return n*ml}function qH(n){return n*Eu}function d8(n){return(n&n-1)===0&&n!==0}function mb(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function l2(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function XH(n,e,t,i,r){const s=Math.cos,o=Math.sin,a=s(t/2),l=o(t/2),c=s((e+i)/2),h=o((e+i)/2),d=s((e-i)/2),p=o((e-i)/2),m=s((i-e)/2),v=o((i-e)/2);switch(r){case"XYX":n.set(a*h,l*d,l*p,a*c);break;case"YZY":n.set(l*p,a*h,l*d,a*c);break;case"ZXZ":n.set(l*d,l*p,a*h,a*c);break;case"XZX":n.set(a*h,l*v,l*m,a*c);break;case"YXY":n.set(l*m,a*h,l*v,a*c);break;case"ZYZ":n.set(l*v,l*m,a*h,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function ki(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function St(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const Xc={DEG2RAD:ml,RAD2DEG:Eu,generateUUID:ir,clamp:En,euclideanModulo:_9,mapLinear:FH,inverseLerp:NH,lerp:fh,damp:OH,pingpong:UH,smoothstep:kH,smootherstep:HH,randInt:zH,randFloat:GH,randFloatSpread:VH,seededRandom:WH,degToRad:jH,radToDeg:qH,isPowerOfTwo:d8,ceilPowerOfTwo:mb,floorPowerOfTwo:l2,setQuaternionFromProperEuler:XH,normalize:St,denormalize:ki};class de{constructor(e=0,t=0){de.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,i=this.y,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6],this.y=r[1]*t+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(En(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const i=Math.cos(t),r=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*i-o*r+e.x,this.y=s*r+o*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Et{constructor(e,t,i,r,s,o,a,l,c){Et.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,i,r,s,o,a,l,c)}set(e,t,i,r,s,o,a,l,c){const h=this.elements;return h[0]=e,h[1]=r,h[2]=a,h[3]=t,h[4]=s,h[5]=l,h[6]=i,h[7]=o,h[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,o=i[0],a=i[3],l=i[6],c=i[1],h=i[4],d=i[7],p=i[2],m=i[5],v=i[8],S=r[0],_=r[3],g=r[6],x=r[1],A=r[4],E=r[7],T=r[2],C=r[5],R=r[8];return s[0]=o*S+a*x+l*T,s[3]=o*_+a*A+l*C,s[6]=o*g+a*E+l*R,s[1]=c*S+h*x+d*T,s[4]=c*_+h*A+d*C,s[7]=c*g+h*E+d*R,s[2]=p*S+m*x+v*T,s[5]=p*_+m*A+v*C,s[8]=p*g+m*E+v*R,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],h=e[8];return t*o*h-t*a*c-i*s*h+i*a*l+r*s*c-r*o*l}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],h=e[8],d=h*o-a*c,p=a*l-h*s,m=c*s-o*l,v=t*d+i*p+r*m;if(v===0)return this.set(0,0,0,0,0,0,0,0,0);const S=1/v;return e[0]=d*S,e[1]=(r*c-h*i)*S,e[2]=(a*i-r*o)*S,e[3]=p*S,e[4]=(h*t-r*l)*S,e[5]=(r*s-a*t)*S,e[6]=m*S,e[7]=(i*l-c*t)*S,e[8]=(o*t-i*s)*S,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,r,s,o,a){const l=Math.cos(s),c=Math.sin(s);return this.set(i*l,i*c,-i*(l*o+c*a)+o+e,-r*c,r*l,-r*(-c*o+l*a)+a+t,0,0,1),this}scale(e,t){return this.premultiply(E5.makeScale(e,t)),this}rotate(e){return this.premultiply(E5.makeRotation(-e)),this}translate(e,t){return this.premultiply(E5.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,i,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<9;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const E5=new Et;function gb(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const JH={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Jc(n,e){return new JH[n](e)}function Yh(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function vb(){const n=Yh("canvas");return n.style.display="block",n}const C_={};function hh(n){n in C_||(C_[n]=!0,console.warn(n))}const b_=new Et().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),P_=new Et().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),s0={[Is]:{transfer:jh,primaries:qh,toReference:n=>n,fromReference:n=>n},[Vn]:{transfer:Kt,primaries:qh,toReference:n=>n.convertSRGBToLinear(),fromReference:n=>n.convertLinearToSRGB()},[xd]:{transfer:jh,primaries:Xh,toReference:n=>n.applyMatrix3(P_),fromReference:n=>n.applyMatrix3(b_)},[tm]:{transfer:Kt,primaries:Xh,toReference:n=>n.convertSRGBToLinear().applyMatrix3(P_),fromReference:n=>n.applyMatrix3(b_).convertLinearToSRGB()}},KH=new Set([Is,xd]),Vt={enabled:!0,_workingColorSpace:Is,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(n){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!n},get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(n){if(!KH.has(n))throw new Error(`Unsupported working color space, "${n}".`);this._workingColorSpace=n},convert:function(n,e,t){if(this.enabled===!1||e===t||!e||!t)return n;const i=s0[e].toReference,r=s0[t].fromReference;return r(i(n))},fromWorkingColorSpace:function(n,e){return this.convert(n,this._workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this._workingColorSpace)},getPrimaries:function(n){return s0[n].primaries},getTransfer:function(n){return n===$i?jh:s0[n].transfer}};function au(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function w5(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}let nc;class A9{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{nc===void 0&&(nc=Yh("canvas")),nc.width=e.width,nc.height=e.height;const i=nc.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),t=nc}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=Yh("canvas");t.width=e.width,t.height=e.height;const i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),s=r.data;for(let o=0;o<s.length;o++)s[o]=au(s[o]/255)*255;return i.putImageData(r,0,0),t}else if(e.data){const t=e.data.slice(0);for(let i=0;i<t.length;i++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[i]=Math.floor(au(t[i]/255)*255):t[i]=au(t[i]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let YH=0;class ll{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:YH++}),this.uuid=ir(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(r!==null){let s;if(Array.isArray(r)){s=[];for(let o=0,a=r.length;o<a;o++)r[o].isDataTexture?s.push(T5(r[o].image)):s.push(T5(r[o]))}else s=T5(r);i.url=s}return t||(e.images[this.uuid]=i),i}}function T5(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?A9.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let QH=0;class ln extends Ds{constructor(e=ln.DEFAULT_IMAGE,t=ln.DEFAULT_MAPPING,i=ri,r=ri,s=hn,o=Bs,a=Ui,l=Cs,c=ln.DEFAULT_ANISOTROPY,h=$i){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:QH++}),this.uuid=ir(),this.name="",this.source=new ll(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=i,this.wrapT=r,this.magFilter=s,this.minFilter=o,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new de(0,0),this.repeat=new de(1,1),this.center=new de(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Et,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,typeof h=="string"?this.colorSpace=h:(hh("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=h===oa?Vn:$i),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),t||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Q2)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case pa:e.x=e.x-Math.floor(e.x);break;case ri:e.x=e.x<0?0:1;break;case Au:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case pa:e.y=e.y-Math.floor(e.y);break;case ri:e.y=e.y<0?0:1;break;case Au:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return hh("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===Vn?oa:x9}set encoding(e){hh("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===oa?Vn:$i}}ln.DEFAULT_IMAGE=null;ln.DEFAULT_MAPPING=Q2;ln.DEFAULT_ANISOTROPY=1;class Wt{constructor(e=0,t=0,i=0,r=1){Wt.prototype.isVector4=!0,this.x=e,this.y=t,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,r){return this.x=e,this.y=t,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*i+o[8]*r+o[12]*s,this.y=o[1]*t+o[5]*i+o[9]*r+o[13]*s,this.z=o[2]*t+o[6]*i+o[10]*r+o[14]*s,this.w=o[3]*t+o[7]*i+o[11]*r+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,r,s;const l=e.elements,c=l[0],h=l[4],d=l[8],p=l[1],m=l[5],v=l[9],S=l[2],_=l[6],g=l[10];if(Math.abs(h-p)<.01&&Math.abs(d-S)<.01&&Math.abs(v-_)<.01){if(Math.abs(h+p)<.1&&Math.abs(d+S)<.1&&Math.abs(v+_)<.1&&Math.abs(c+m+g-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const A=(c+1)/2,E=(m+1)/2,T=(g+1)/2,C=(h+p)/4,R=(d+S)/4,I=(v+_)/4;return A>E&&A>T?A<.01?(i=0,r=.707106781,s=.707106781):(i=Math.sqrt(A),r=C/i,s=R/i):E>T?E<.01?(i=.707106781,r=0,s=.707106781):(r=Math.sqrt(E),i=C/r,s=I/r):T<.01?(i=.707106781,r=.707106781,s=0):(s=Math.sqrt(T),i=R/s,r=I/s),this.set(i,r,s,t),this}let x=Math.sqrt((_-v)*(_-v)+(d-S)*(d-S)+(p-h)*(p-h));return Math.abs(x)<.001&&(x=1),this.x=(_-v)/x,this.y=(d-S)/x,this.z=(p-h)/x,this.w=Math.acos((c+m+g-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class yb extends Ds{constructor(e=1,t=1,i={}){super(),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new Wt(0,0,e,t),this.scissorTest=!1,this.viewport=new Wt(0,0,e,t);const r={width:e,height:t,depth:1};i.encoding!==void 0&&(hh("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),i.colorSpace=i.encoding===oa?Vn:$i),i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:hn,depthBuffer:!0,stencilBuffer:!1,depthTexture:null,samples:0},i),this.texture=new ln(r,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=i.generateMipmaps,this.texture.internalFormat=i.internalFormat,this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.depthTexture=i.depthTexture,this.samples=i.samples}setSize(e,t,i=1){(this.width!==e||this.height!==t||this.depth!==i)&&(this.width=e,this.height=t,this.depth=i,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=i,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new ll(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class ts extends yb{constructor(e=1,t=1,i={}){super(e,t,i),this.isWebGLRenderTarget=!0}}class nm extends ln{constructor(e=null,t=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=Mn,this.minFilter=Mn,this.wrapR=ri,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class ZH extends ts{constructor(e=1,t=1,i=1){super(e,t),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new nm(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class S9 extends ln{constructor(e=null,t=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=Mn,this.minFilter=Mn,this.wrapR=ri,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class $H extends ts{constructor(e=1,t=1,i=1){super(e,t),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new S9(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class ez extends ts{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isWebGLMultipleRenderTargets=!0;const s=this.texture;this.texture=[];for(let o=0;o<i;o++)this.texture[o]=s.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,t,i=1){if(this.width!==e||this.height!==t||this.depth!==i){this.width=e,this.height=t,this.depth=i;for(let r=0,s=this.texture.length;r<s;r++)this.texture[r].image.width=e,this.texture[r].image.height=t,this.texture[r].image.depth=i;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let t=0,i=e.texture.length;t<i;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}}class ti{constructor(e=0,t=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=i,this._w=r}static slerpFlat(e,t,i,r,s,o,a){let l=i[r+0],c=i[r+1],h=i[r+2],d=i[r+3];const p=s[o+0],m=s[o+1],v=s[o+2],S=s[o+3];if(a===0){e[t+0]=l,e[t+1]=c,e[t+2]=h,e[t+3]=d;return}if(a===1){e[t+0]=p,e[t+1]=m,e[t+2]=v,e[t+3]=S;return}if(d!==S||l!==p||c!==m||h!==v){let _=1-a;const g=l*p+c*m+h*v+d*S,x=g>=0?1:-1,A=1-g*g;if(A>Number.EPSILON){const T=Math.sqrt(A),C=Math.atan2(T,g*x);_=Math.sin(_*C)/T,a=Math.sin(a*C)/T}const E=a*x;if(l=l*_+p*E,c=c*_+m*E,h=h*_+v*E,d=d*_+S*E,_===1-a){const T=1/Math.sqrt(l*l+c*c+h*h+d*d);l*=T,c*=T,h*=T,d*=T}}e[t]=l,e[t+1]=c,e[t+2]=h,e[t+3]=d}static multiplyQuaternionsFlat(e,t,i,r,s,o){const a=i[r],l=i[r+1],c=i[r+2],h=i[r+3],d=s[o],p=s[o+1],m=s[o+2],v=s[o+3];return e[t]=a*v+h*d+l*m-c*p,e[t+1]=l*v+h*p+c*d-a*m,e[t+2]=c*v+h*m+a*p-l*d,e[t+3]=h*v-a*d-l*p-c*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,r){return this._x=e,this._y=t,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){const i=e._x,r=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,c=a(i/2),h=a(r/2),d=a(s/2),p=l(i/2),m=l(r/2),v=l(s/2);switch(o){case"XYZ":this._x=p*h*d+c*m*v,this._y=c*m*d-p*h*v,this._z=c*h*v+p*m*d,this._w=c*h*d-p*m*v;break;case"YXZ":this._x=p*h*d+c*m*v,this._y=c*m*d-p*h*v,this._z=c*h*v-p*m*d,this._w=c*h*d+p*m*v;break;case"ZXY":this._x=p*h*d-c*m*v,this._y=c*m*d+p*h*v,this._z=c*h*v+p*m*d,this._w=c*h*d-p*m*v;break;case"ZYX":this._x=p*h*d-c*m*v,this._y=c*m*d+p*h*v,this._z=c*h*v-p*m*d,this._w=c*h*d+p*m*v;break;case"YZX":this._x=p*h*d+c*m*v,this._y=c*m*d+p*h*v,this._z=c*h*v-p*m*d,this._w=c*h*d-p*m*v;break;case"XZY":this._x=p*h*d-c*m*v,this._y=c*m*d-p*h*v,this._z=c*h*v+p*m*d,this._w=c*h*d+p*m*v;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const i=t/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,i=t[0],r=t[4],s=t[8],o=t[1],a=t[5],l=t[9],c=t[2],h=t[6],d=t[10],p=i+a+d;if(p>0){const m=.5/Math.sqrt(p+1);this._w=.25/m,this._x=(h-l)*m,this._y=(s-c)*m,this._z=(o-r)*m}else if(i>a&&i>d){const m=2*Math.sqrt(1+i-a-d);this._w=(h-l)/m,this._x=.25*m,this._y=(r+o)/m,this._z=(s+c)/m}else if(a>d){const m=2*Math.sqrt(1+a-i-d);this._w=(s-c)/m,this._x=(r+o)/m,this._y=.25*m,this._z=(l+h)/m}else{const m=2*Math.sqrt(1+d-i-a);this._w=(o-r)/m,this._x=(s+c)/m,this._y=(l+h)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(En(this.dot(e),-1,1)))}rotateTowards(e,t){const i=this.angleTo(e);if(i===0)return this;const r=Math.min(1,t/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const i=e._x,r=e._y,s=e._z,o=e._w,a=t._x,l=t._y,c=t._z,h=t._w;return this._x=i*h+o*a+r*c-s*l,this._y=r*h+o*l+s*a-i*c,this._z=s*h+o*c+i*l-r*a,this._w=o*h-i*a-r*l-s*c,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const i=this._x,r=this._y,s=this._z,o=this._w;let a=o*e._w+i*e._x+r*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=i,this._y=r,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const m=1-t;return this._w=m*o+t*this._w,this._x=m*i+t*this._x,this._y=m*r+t*this._y,this._z=m*s+t*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(l),h=Math.atan2(c,a),d=Math.sin((1-t)*h)/c,p=Math.sin(t*h)/c;return this._w=o*d+this._w*p,this._x=i*d+this._x*p,this._y=r*d+this._y*p,this._z=s*d+this._z*p,this._onChangeCallback(),this}slerpQuaternions(e,t,i){return this.copy(e).slerp(t,i)}random(){const e=Math.random(),t=Math.sqrt(1-e),i=Math.sqrt(e),r=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(t*Math.cos(r),i*Math.sin(s),i*Math.cos(s),t*Math.sin(r))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class F{constructor(e=0,t=0,i=0){F.prototype.isVector3=!0,this.x=e,this.y=t,this.z=i}set(e,t,i){return i===void 0&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(R_.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(R_.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[3]*i+s[6]*r,this.y=s[1]*t+s[4]*i+s[7]*r,this.z=s[2]*t+s[5]*i+s[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=e.elements,o=1/(s[3]*t+s[7]*i+s[11]*r+s[15]);return this.x=(s[0]*t+s[4]*i+s[8]*r+s[12])*o,this.y=(s[1]*t+s[5]*i+s[9]*r+s[13])*o,this.z=(s[2]*t+s[6]*i+s[10]*r+s[14])*o,this}applyQuaternion(e){const t=this.x,i=this.y,r=this.z,s=e.x,o=e.y,a=e.z,l=e.w,c=l*t+o*r-a*i,h=l*i+a*t-s*r,d=l*r+s*i-o*t,p=-s*t-o*i-a*r;return this.x=c*l+p*-s+h*-a-d*-o,this.y=h*l+p*-o+d*-s-c*-a,this.z=d*l+p*-a+c*-o-h*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[4]*i+s[8]*r,this.y=s[1]*t+s[5]*i+s[9]*r,this.z=s[2]*t+s[6]*i+s[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const i=e.x,r=e.y,s=e.z,o=t.x,a=t.y,l=t.z;return this.x=r*l-s*a,this.y=s*o-i*l,this.z=i*a-r*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return C5.copy(this).projectOnVector(e),this.sub(C5)}reflect(e){return this.sub(C5.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(En(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return t*t+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){const r=Math.sin(t)*e;return this.x=r*Math.sin(i),this.y=Math.cos(t)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,i=Math.sqrt(1-e**2);return this.x=i*Math.cos(t),this.y=i*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const C5=new F,R_=new ti;class is{constructor(e=new F(1/0,1/0,1/0),t=new F(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t+=3)this.expandByPoint(Vs.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,i=e.count;t<i;t++)this.expandByPoint(Vs.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=Vs.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){if(e.updateWorldMatrix(!1,!1),e.boundingBox!==void 0)e.boundingBox===null&&e.computeBoundingBox(),ic.copy(e.boundingBox),ic.applyMatrix4(e.matrixWorld),this.union(ic);else{const r=e.geometry;if(r!==void 0)if(t&&r.attributes!==void 0&&r.attributes.position!==void 0){const s=r.attributes.position;for(let o=0,a=s.count;o<a;o++)Vs.fromBufferAttribute(s,o).applyMatrix4(e.matrixWorld),this.expandByPoint(Vs)}else r.boundingBox===null&&r.computeBoundingBox(),ic.copy(r.boundingBox),ic.applyMatrix4(e.matrixWorld),this.union(ic)}const i=e.children;for(let r=0,s=i.length;r<s;r++)this.expandByObject(i[r],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Vs),Vs.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Sf),o0.subVectors(this.max,Sf),rc.subVectors(e.a,Sf),sc.subVectors(e.b,Sf),oc.subVectors(e.c,Sf),Po.subVectors(sc,rc),Ro.subVectors(oc,sc),Da.subVectors(rc,oc);let t=[0,-Po.z,Po.y,0,-Ro.z,Ro.y,0,-Da.z,Da.y,Po.z,0,-Po.x,Ro.z,0,-Ro.x,Da.z,0,-Da.x,-Po.y,Po.x,0,-Ro.y,Ro.x,0,-Da.y,Da.x,0];return!b5(t,rc,sc,oc,o0)||(t=[1,0,0,0,1,0,0,0,1],!b5(t,rc,sc,oc,o0))?!1:(a0.crossVectors(Po,Ro),t=[a0.x,a0.y,a0.z],b5(t,rc,sc,oc,o0))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Vs).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Vs).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Gs[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Gs[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Gs[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Gs[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Gs[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Gs[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Gs[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Gs[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Gs),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Gs=[new F,new F,new F,new F,new F,new F,new F,new F],Vs=new F,ic=new is,rc=new F,sc=new F,oc=new F,Po=new F,Ro=new F,Da=new F,Sf=new F,o0=new F,a0=new F,Fa=new F;function b5(n,e,t,i,r){for(let s=0,o=n.length-3;s<=o;s+=3){Fa.fromArray(n,s);const a=r.x*Math.abs(Fa.x)+r.y*Math.abs(Fa.y)+r.z*Math.abs(Fa.z),l=e.dot(Fa),c=t.dot(Fa),h=i.dot(Fa);if(Math.max(-Math.max(l,c,h),Math.min(l,c,h))>a)return!1}return!0}const tz=new is,Mf=new F,P5=new F;class Fr{constructor(e=new F,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const i=this.center;t!==void 0?i.copy(t):tz.setFromPoints(e).getCenter(i);let r=0;for(let s=0,o=e.length;s<o;s++)r=Math.max(r,i.distanceToSquared(e[s]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Mf.subVectors(e,this.center);const t=Mf.lengthSq();if(t>this.radius*this.radius){const i=Math.sqrt(t),r=(i-this.radius)*.5;this.center.addScaledVector(Mf,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(P5.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Mf.copy(e.center).add(P5)),this.expandByPoint(Mf.copy(e.center).sub(P5))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Ws=new F,R5=new F,l0=new F,Bo=new F,B5=new F,c0=new F,I5=new F;class Dl{constructor(e=new F,t=new F(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Ws)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Ws.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Ws.copy(this.origin).addScaledVector(this.direction,t),Ws.distanceToSquared(e))}distanceSqToSegment(e,t,i,r){R5.copy(e).add(t).multiplyScalar(.5),l0.copy(t).sub(e).normalize(),Bo.copy(this.origin).sub(R5);const s=e.distanceTo(t)*.5,o=-this.direction.dot(l0),a=Bo.dot(this.direction),l=-Bo.dot(l0),c=Bo.lengthSq(),h=Math.abs(1-o*o);let d,p,m,v;if(h>0)if(d=o*l-a,p=o*a-l,v=s*h,d>=0)if(p>=-v)if(p<=v){const S=1/h;d*=S,p*=S,m=d*(d+o*p+2*a)+p*(o*d+p+2*l)+c}else p=s,d=Math.max(0,-(o*p+a)),m=-d*d+p*(p+2*l)+c;else p=-s,d=Math.max(0,-(o*p+a)),m=-d*d+p*(p+2*l)+c;else p<=-v?(d=Math.max(0,-(-o*s+a)),p=d>0?-s:Math.min(Math.max(-s,-l),s),m=-d*d+p*(p+2*l)+c):p<=v?(d=0,p=Math.min(Math.max(-s,-l),s),m=p*(p+2*l)+c):(d=Math.max(0,-(o*s+a)),p=d>0?s:Math.min(Math.max(-s,-l),s),m=-d*d+p*(p+2*l)+c);else p=o>0?-s:s,d=Math.max(0,-(o*p+a)),m=-d*d+p*(p+2*l)+c;return i&&i.copy(this.origin).addScaledVector(this.direction,d),r&&r.copy(R5).addScaledVector(l0,p),m}intersectSphere(e,t){Ws.subVectors(e.center,this.origin);const i=Ws.dot(this.direction),r=Ws.dot(Ws)-i*i,s=e.radius*e.radius;if(r>s)return null;const o=Math.sqrt(s-r),a=i-o,l=i+o;return l<0?null:a<0?this.at(l,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){const i=this.distanceToPlane(e);return i===null?null:this.at(i,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,r,s,o,a,l;const c=1/this.direction.x,h=1/this.direction.y,d=1/this.direction.z,p=this.origin;return c>=0?(i=(e.min.x-p.x)*c,r=(e.max.x-p.x)*c):(i=(e.max.x-p.x)*c,r=(e.min.x-p.x)*c),h>=0?(s=(e.min.y-p.y)*h,o=(e.max.y-p.y)*h):(s=(e.max.y-p.y)*h,o=(e.min.y-p.y)*h),i>o||s>r||((s>i||isNaN(i))&&(i=s),(o<r||isNaN(r))&&(r=o),d>=0?(a=(e.min.z-p.z)*d,l=(e.max.z-p.z)*d):(a=(e.max.z-p.z)*d,l=(e.min.z-p.z)*d),i>l||a>r)||((a>i||i!==i)&&(i=a),(l<r||r!==r)&&(r=l),r<0)?null:this.at(i>=0?i:r,t)}intersectsBox(e){return this.intersectBox(e,Ws)!==null}intersectTriangle(e,t,i,r,s){B5.subVectors(t,e),c0.subVectors(i,e),I5.crossVectors(B5,c0);let o=this.direction.dot(I5),a;if(o>0){if(r)return null;a=1}else if(o<0)a=-1,o=-o;else return null;Bo.subVectors(this.origin,e);const l=a*this.direction.dot(c0.crossVectors(Bo,c0));if(l<0)return null;const c=a*this.direction.dot(B5.cross(Bo));if(c<0||l+c>o)return null;const h=-a*Bo.dot(I5);return h<0?null:this.at(h/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class ct{constructor(e,t,i,r,s,o,a,l,c,h,d,p,m,v,S,_){ct.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,i,r,s,o,a,l,c,h,d,p,m,v,S,_)}set(e,t,i,r,s,o,a,l,c,h,d,p,m,v,S,_){const g=this.elements;return g[0]=e,g[4]=t,g[8]=i,g[12]=r,g[1]=s,g[5]=o,g[9]=a,g[13]=l,g[2]=c,g[6]=h,g[10]=d,g[14]=p,g[3]=m,g[7]=v,g[11]=S,g[15]=_,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new ct().fromArray(this.elements)}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){const t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,i=e.elements,r=1/ac.setFromMatrixColumn(e,0).length(),s=1/ac.setFromMatrixColumn(e,1).length(),o=1/ac.setFromMatrixColumn(e,2).length();return t[0]=i[0]*r,t[1]=i[1]*r,t[2]=i[2]*r,t[3]=0,t[4]=i[4]*s,t[5]=i[5]*s,t[6]=i[6]*s,t[7]=0,t[8]=i[8]*o,t[9]=i[9]*o,t[10]=i[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,i=e.x,r=e.y,s=e.z,o=Math.cos(i),a=Math.sin(i),l=Math.cos(r),c=Math.sin(r),h=Math.cos(s),d=Math.sin(s);if(e.order==="XYZ"){const p=o*h,m=o*d,v=a*h,S=a*d;t[0]=l*h,t[4]=-l*d,t[8]=c,t[1]=m+v*c,t[5]=p-S*c,t[9]=-a*l,t[2]=S-p*c,t[6]=v+m*c,t[10]=o*l}else if(e.order==="YXZ"){const p=l*h,m=l*d,v=c*h,S=c*d;t[0]=p+S*a,t[4]=v*a-m,t[8]=o*c,t[1]=o*d,t[5]=o*h,t[9]=-a,t[2]=m*a-v,t[6]=S+p*a,t[10]=o*l}else if(e.order==="ZXY"){const p=l*h,m=l*d,v=c*h,S=c*d;t[0]=p-S*a,t[4]=-o*d,t[8]=v+m*a,t[1]=m+v*a,t[5]=o*h,t[9]=S-p*a,t[2]=-o*c,t[6]=a,t[10]=o*l}else if(e.order==="ZYX"){const p=o*h,m=o*d,v=a*h,S=a*d;t[0]=l*h,t[4]=v*c-m,t[8]=p*c+S,t[1]=l*d,t[5]=S*c+p,t[9]=m*c-v,t[2]=-c,t[6]=a*l,t[10]=o*l}else if(e.order==="YZX"){const p=o*l,m=o*c,v=a*l,S=a*c;t[0]=l*h,t[4]=S-p*d,t[8]=v*d+m,t[1]=d,t[5]=o*h,t[9]=-a*h,t[2]=-c*h,t[6]=m*d+v,t[10]=p-S*d}else if(e.order==="XZY"){const p=o*l,m=o*c,v=a*l,S=a*c;t[0]=l*h,t[4]=-d,t[8]=c*h,t[1]=p*d+S,t[5]=o*h,t[9]=m*d-v,t[2]=v*d-m,t[6]=a*h,t[10]=S*d+p}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(nz,e,iz)}lookAt(e,t,i){const r=this.elements;return Yi.subVectors(e,t),Yi.lengthSq()===0&&(Yi.z=1),Yi.normalize(),Io.crossVectors(i,Yi),Io.lengthSq()===0&&(Math.abs(i.z)===1?Yi.x+=1e-4:Yi.z+=1e-4,Yi.normalize(),Io.crossVectors(i,Yi)),Io.normalize(),u0.crossVectors(Yi,Io),r[0]=Io.x,r[4]=u0.x,r[8]=Yi.x,r[1]=Io.y,r[5]=u0.y,r[9]=Yi.y,r[2]=Io.z,r[6]=u0.z,r[10]=Yi.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,o=i[0],a=i[4],l=i[8],c=i[12],h=i[1],d=i[5],p=i[9],m=i[13],v=i[2],S=i[6],_=i[10],g=i[14],x=i[3],A=i[7],E=i[11],T=i[15],C=r[0],R=r[4],I=r[8],P=r[12],B=r[1],U=r[5],Y=r[9],ee=r[13],V=r[2],Q=r[6],ne=r[10],te=r[14],D=r[3],W=r[7],j=r[11],N=r[15];return s[0]=o*C+a*B+l*V+c*D,s[4]=o*R+a*U+l*Q+c*W,s[8]=o*I+a*Y+l*ne+c*j,s[12]=o*P+a*ee+l*te+c*N,s[1]=h*C+d*B+p*V+m*D,s[5]=h*R+d*U+p*Q+m*W,s[9]=h*I+d*Y+p*ne+m*j,s[13]=h*P+d*ee+p*te+m*N,s[2]=v*C+S*B+_*V+g*D,s[6]=v*R+S*U+_*Q+g*W,s[10]=v*I+S*Y+_*ne+g*j,s[14]=v*P+S*ee+_*te+g*N,s[3]=x*C+A*B+E*V+T*D,s[7]=x*R+A*U+E*Q+T*W,s[11]=x*I+A*Y+E*ne+T*j,s[15]=x*P+A*ee+E*te+T*N,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[4],r=e[8],s=e[12],o=e[1],a=e[5],l=e[9],c=e[13],h=e[2],d=e[6],p=e[10],m=e[14],v=e[3],S=e[7],_=e[11],g=e[15];return v*(+s*l*d-r*c*d-s*a*p+i*c*p+r*a*m-i*l*m)+S*(+t*l*m-t*c*p+s*o*p-r*o*m+r*c*h-s*l*h)+_*(+t*c*d-t*a*m-s*o*d+i*o*m+s*a*h-i*c*h)+g*(-r*a*h-t*l*d+t*a*p+r*o*d-i*o*p+i*l*h)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=i),this}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],h=e[8],d=e[9],p=e[10],m=e[11],v=e[12],S=e[13],_=e[14],g=e[15],x=d*_*c-S*p*c+S*l*m-a*_*m-d*l*g+a*p*g,A=v*p*c-h*_*c-v*l*m+o*_*m+h*l*g-o*p*g,E=h*S*c-v*d*c+v*a*m-o*S*m-h*a*g+o*d*g,T=v*d*l-h*S*l-v*a*p+o*S*p+h*a*_-o*d*_,C=t*x+i*A+r*E+s*T;if(C===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const R=1/C;return e[0]=x*R,e[1]=(S*p*s-d*_*s-S*r*m+i*_*m+d*r*g-i*p*g)*R,e[2]=(a*_*s-S*l*s+S*r*c-i*_*c-a*r*g+i*l*g)*R,e[3]=(d*l*s-a*p*s-d*r*c+i*p*c+a*r*m-i*l*m)*R,e[4]=A*R,e[5]=(h*_*s-v*p*s+v*r*m-t*_*m-h*r*g+t*p*g)*R,e[6]=(v*l*s-o*_*s-v*r*c+t*_*c+o*r*g-t*l*g)*R,e[7]=(o*p*s-h*l*s+h*r*c-t*p*c-o*r*m+t*l*m)*R,e[8]=E*R,e[9]=(v*d*s-h*S*s-v*i*m+t*S*m+h*i*g-t*d*g)*R,e[10]=(o*S*s-v*a*s+v*i*c-t*S*c-o*i*g+t*a*g)*R,e[11]=(h*a*s-o*d*s-h*i*c+t*d*c+o*i*m-t*a*m)*R,e[12]=T*R,e[13]=(h*S*r-v*d*r+v*i*p-t*S*p-h*i*_+t*d*_)*R,e[14]=(v*a*r-o*S*r-v*i*l+t*S*l+o*i*_-t*a*_)*R,e[15]=(o*d*r-h*a*r+h*i*l-t*d*l-o*i*p+t*a*p)*R,this}scale(e){const t=this.elements,i=e.x,r=e.y,s=e.z;return t[0]*=i,t[4]*=r,t[8]*=s,t[1]*=i,t[5]*=r,t[9]*=s,t[2]*=i,t[6]*=r,t[10]*=s,t[3]*=i,t[7]*=r,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,i,r))}makeTranslation(e,t,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const i=Math.cos(t),r=Math.sin(t),s=1-i,o=e.x,a=e.y,l=e.z,c=s*o,h=s*a;return this.set(c*o+i,c*a-r*l,c*l+r*a,0,c*a+r*l,h*a+i,h*l-r*o,0,c*l-r*a,h*l+r*o,s*l*l+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,r,s,o){return this.set(1,i,s,0,e,1,o,0,t,r,1,0,0,0,0,1),this}compose(e,t,i){const r=this.elements,s=t._x,o=t._y,a=t._z,l=t._w,c=s+s,h=o+o,d=a+a,p=s*c,m=s*h,v=s*d,S=o*h,_=o*d,g=a*d,x=l*c,A=l*h,E=l*d,T=i.x,C=i.y,R=i.z;return r[0]=(1-(S+g))*T,r[1]=(m+E)*T,r[2]=(v-A)*T,r[3]=0,r[4]=(m-E)*C,r[5]=(1-(p+g))*C,r[6]=(_+x)*C,r[7]=0,r[8]=(v+A)*R,r[9]=(_-x)*R,r[10]=(1-(p+S))*R,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,i){const r=this.elements;let s=ac.set(r[0],r[1],r[2]).length();const o=ac.set(r[4],r[5],r[6]).length(),a=ac.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),e.x=r[12],e.y=r[13],e.z=r[14],zr.copy(this);const c=1/s,h=1/o,d=1/a;return zr.elements[0]*=c,zr.elements[1]*=c,zr.elements[2]*=c,zr.elements[4]*=h,zr.elements[5]*=h,zr.elements[6]*=h,zr.elements[8]*=d,zr.elements[9]*=d,zr.elements[10]*=d,t.setFromRotationMatrix(zr),i.x=s,i.y=o,i.z=a,this}makePerspective(e,t,i,r,s,o,a=Ss){const l=this.elements,c=2*s/(t-e),h=2*s/(i-r),d=(t+e)/(t-e),p=(i+r)/(i-r);let m,v;if(a===Ss)m=-(o+s)/(o-s),v=-2*o*s/(o-s);else if(a===Kh)m=-o/(o-s),v=-o*s/(o-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);return l[0]=c,l[4]=0,l[8]=d,l[12]=0,l[1]=0,l[5]=h,l[9]=p,l[13]=0,l[2]=0,l[6]=0,l[10]=m,l[14]=v,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,t,i,r,s,o,a=Ss){const l=this.elements,c=1/(t-e),h=1/(i-r),d=1/(o-s),p=(t+e)*c,m=(i+r)*h;let v,S;if(a===Ss)v=(o+s)*d,S=-2*d;else if(a===Kh)v=s*d,S=-1*d;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-p,l[1]=0,l[5]=2*h,l[9]=0,l[13]=-m,l[2]=0,l[6]=0,l[10]=S,l[14]=-v,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<16;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}const ac=new F,zr=new ct,nz=new F(0,0,0),iz=new F(1,1,1),Io=new F,u0=new F,Yi=new F,B_=new ct,I_=new ti;class _d{constructor(e=0,t=0,i=0,r=_d.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=i,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,i,r=this._order){return this._x=e,this._y=t,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,i=!0){const r=e.elements,s=r[0],o=r[4],a=r[8],l=r[1],c=r[5],h=r[9],d=r[2],p=r[6],m=r[10];switch(t){case"XYZ":this._y=Math.asin(En(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-h,m),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(p,c),this._z=0);break;case"YXZ":this._x=Math.asin(-En(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(a,m),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-d,s),this._z=0);break;case"ZXY":this._x=Math.asin(En(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-d,m),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-En(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(p,m),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(En(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-h,c),this._y=Math.atan2(-d,s)):(this._x=0,this._y=Math.atan2(a,m));break;case"XZY":this._z=Math.asin(-En(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(p,c),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-h,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,i){return B_.makeRotationFromQuaternion(e),this.setFromRotationMatrix(B_,t,i)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return I_.setFromEuler(this),this.setFromQuaternion(I_,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}_d.DEFAULT_ORDER="XYZ";class gl{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let rz=0;const L_=new F,lc=new ti,js=new ct,f0=new F,Ef=new F,sz=new F,oz=new ti,D_=new F(1,0,0),F_=new F(0,1,0),N_=new F(0,0,1),az={type:"added"},lz={type:"removed"};class Lt extends Ds{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:rz++}),this.uuid=ir(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Lt.DEFAULT_UP.clone();const e=new F,t=new _d,i=new ti,r=new F(1,1,1);function s(){i.setFromEuler(t,!1)}function o(){t.setFromQuaternion(i,void 0,!1)}t._onChange(s),i._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new ct},normalMatrix:{value:new Et}}),this.matrix=new ct,this.matrixWorld=new ct,this.matrixAutoUpdate=Lt.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=Lt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new gl,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return lc.setFromAxisAngle(e,t),this.quaternion.multiply(lc),this}rotateOnWorldAxis(e,t){return lc.setFromAxisAngle(e,t),this.quaternion.premultiply(lc),this}rotateX(e){return this.rotateOnAxis(D_,e)}rotateY(e){return this.rotateOnAxis(F_,e)}rotateZ(e){return this.rotateOnAxis(N_,e)}translateOnAxis(e,t){return L_.copy(e).applyQuaternion(this.quaternion),this.position.add(L_.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(D_,e)}translateY(e){return this.translateOnAxis(F_,e)}translateZ(e){return this.translateOnAxis(N_,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(js.copy(this.matrixWorld).invert())}lookAt(e,t,i){e.isVector3?f0.copy(e):f0.set(e,t,i);const r=this.parent;this.updateWorldMatrix(!0,!1),Ef.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?js.lookAt(Ef,f0,this.up):js.lookAt(f0,Ef,this.up),this.quaternion.setFromRotationMatrix(js),r&&(js.extractRotation(r.matrixWorld),lc.setFromRotationMatrix(js),this.quaternion.premultiply(lc.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(az)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(lz)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),js.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),js.multiply(e.parent.matrixWorld)),e.applyMatrix4(js),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let i=0,r=this.children.length;i<r;i++){const o=this.children[i].getObjectByProperty(e,t);if(o!==void 0)return o}}getObjectsByProperty(e,t){let i=[];this[e]===t&&i.push(this);for(let r=0,s=this.children.length;r<s;r++){const o=this.children[r].getObjectsByProperty(e,t);o.length>0&&(i=i.concat(o))}return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Ef,e,sz),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Ef,oz,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let i=0,r=t.length;i<r;i++){const s=t[i];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const i=this.parent;if(e===!0&&i!==null&&i.matrixWorldAutoUpdate===!0&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const r=this.children;for(let s=0,o=r.length;s<o;s++){const a=r[s];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=e===void 0||typeof e=="string",i={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON()));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let c=0,h=l.length;c<h;c++){const d=l[c];s(e.shapes,d)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(s(e.materials,this.material[l]));r.material=a}else r.material=s(e.materials,this.material);if(this.children.length>0){r.children=[];for(let a=0;a<this.children.length;a++)r.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];r.animations.push(s(e.animations,l))}}if(t){const a=o(e.geometries),l=o(e.materials),c=o(e.textures),h=o(e.images),d=o(e.shapes),p=o(e.skeletons),m=o(e.animations),v=o(e.nodes);a.length>0&&(i.geometries=a),l.length>0&&(i.materials=l),c.length>0&&(i.textures=c),h.length>0&&(i.images=h),d.length>0&&(i.shapes=d),p.length>0&&(i.skeletons=p),m.length>0&&(i.animations=m),v.length>0&&(i.nodes=v)}return i.object=r,i;function o(a){const l=[];for(const c in a){const h=a[c];delete h.metadata,l.push(h)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let i=0;i<e.children.length;i++){const r=e.children[i];this.add(r.clone())}return this}}Lt.DEFAULT_UP=new F(0,1,0);Lt.DEFAULT_MATRIX_AUTO_UPDATE=!0;Lt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Gr=new F,qs=new F,L5=new F,Xs=new F,cc=new F,uc=new F,O_=new F,D5=new F,F5=new F,N5=new F;let h0=!1;class Oi{constructor(e=new F,t=new F,i=new F){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,r){r.subVectors(i,t),Gr.subVectors(e,t),r.cross(Gr);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(e,t,i,r,s){Gr.subVectors(r,t),qs.subVectors(i,t),L5.subVectors(e,t);const o=Gr.dot(Gr),a=Gr.dot(qs),l=Gr.dot(L5),c=qs.dot(qs),h=qs.dot(L5),d=o*c-a*a;if(d===0)return s.set(-2,-1,-1);const p=1/d,m=(c*l-a*h)*p,v=(o*h-a*l)*p;return s.set(1-m-v,v,m)}static containsPoint(e,t,i,r){return this.getBarycoord(e,t,i,r,Xs),Xs.x>=0&&Xs.y>=0&&Xs.x+Xs.y<=1}static getUV(e,t,i,r,s,o,a,l){return h0===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),h0=!0),this.getInterpolation(e,t,i,r,s,o,a,l)}static getInterpolation(e,t,i,r,s,o,a,l){return this.getBarycoord(e,t,i,r,Xs),l.setScalar(0),l.addScaledVector(s,Xs.x),l.addScaledVector(o,Xs.y),l.addScaledVector(a,Xs.z),l}static isFrontFacing(e,t,i,r){return Gr.subVectors(i,t),qs.subVectors(e,t),Gr.cross(qs).dot(r)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,r){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,i,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Gr.subVectors(this.c,this.b),qs.subVectors(this.a,this.b),Gr.cross(qs).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Oi.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Oi.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,i,r,s){return h0===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),h0=!0),Oi.getInterpolation(e,this.a,this.b,this.c,t,i,r,s)}getInterpolation(e,t,i,r,s){return Oi.getInterpolation(e,this.a,this.b,this.c,t,i,r,s)}containsPoint(e){return Oi.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Oi.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const i=this.a,r=this.b,s=this.c;let o,a;cc.subVectors(r,i),uc.subVectors(s,i),D5.subVectors(e,i);const l=cc.dot(D5),c=uc.dot(D5);if(l<=0&&c<=0)return t.copy(i);F5.subVectors(e,r);const h=cc.dot(F5),d=uc.dot(F5);if(h>=0&&d<=h)return t.copy(r);const p=l*d-h*c;if(p<=0&&l>=0&&h<=0)return o=l/(l-h),t.copy(i).addScaledVector(cc,o);N5.subVectors(e,s);const m=cc.dot(N5),v=uc.dot(N5);if(v>=0&&m<=v)return t.copy(s);const S=m*c-l*v;if(S<=0&&c>=0&&v<=0)return a=c/(c-v),t.copy(i).addScaledVector(uc,a);const _=h*v-m*d;if(_<=0&&d-h>=0&&m-v>=0)return O_.subVectors(s,r),a=(d-h)/(d-h+(m-v)),t.copy(r).addScaledVector(O_,a);const g=1/(_+S+p);return o=S*g,a=p*g,t.copy(i).addScaledVector(cc,o).addScaledVector(uc,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let cz=0;class On extends Ds{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:cz++}),this.uuid=ir(),this.name="",this.type="Material",this.blending=dl,this.side=Rs,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=l9,this.blendDst=c9,this.blendEquation=$a,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=s2,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=ob,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Mp,this.stencilZFail=Mp,this.stencilZPass=Mp,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const i=e[t];if(i===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const r=this[t];if(r===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const i={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==dl&&(i.blending=this.blending),this.side!==Rs&&(i.side=this.side),this.vertexColors===!0&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=!0),i.depthFunc=this.depthFunc,i.depthTest=this.depthTest,i.depthWrite=this.depthWrite,i.colorWrite=this.colorWrite,i.stencilWrite=this.stencilWrite,i.stencilWriteMask=this.stencilWriteMask,i.stencilFunc=this.stencilFunc,i.stencilRef=this.stencilRef,i.stencilFuncMask=this.stencilFuncMask,i.stencilFail=this.stencilFail,i.stencilZFail=this.stencilZFail,i.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=!0),this.alphaToCoverage===!0&&(i.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=!0),this.forceSinglePass===!0&&(i.forceSinglePass=!0),this.wireframe===!0&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=!0),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function r(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(t){const s=r(e.textures),o=r(e.images);s.length>0&&(i.textures=s),o.length>0&&(i.images=o)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let i=null;if(t!==null){const r=t.length;i=new Array(r);for(let s=0;s!==r;++s)i[s]=t[s].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}const xb={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Lo={h:0,s:0,l:0},d0={h:0,s:0,l:0};function O5(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}class ze{constructor(e,t,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,i)}set(e,t,i){if(t===void 0&&i===void 0){const r=e;r&&r.isColor?this.copy(r):typeof r=="number"?this.setHex(r):typeof r=="string"&&this.setStyle(r)}else this.setRGB(e,t,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Vn){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Vt.toWorkingColorSpace(this,t),this}setRGB(e,t,i,r=Vt.workingColorSpace){return this.r=e,this.g=t,this.b=i,Vt.toWorkingColorSpace(this,r),this}setHSL(e,t,i,r=Vt.workingColorSpace){if(e=_9(e,1),t=En(t,0,1),i=En(i,0,1),t===0)this.r=this.g=this.b=i;else{const s=i<=.5?i*(1+t):i+t-i*t,o=2*i-s;this.r=O5(o,s,e+1/3),this.g=O5(o,s,e),this.b=O5(o,s,e-1/3)}return Vt.toWorkingColorSpace(this,r),this}setStyle(e,t=Vn){function i(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const o=r[1],a=r[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,t);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,t);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=r[1],o=s.length;if(o===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,t);if(o===6)return this.setHex(parseInt(s,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=Vn){const i=xb[e.toLowerCase()];return i!==void 0?this.setHex(i,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=au(e.r),this.g=au(e.g),this.b=au(e.b),this}copyLinearToSRGB(e){return this.r=w5(e.r),this.g=w5(e.g),this.b=w5(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Vn){return Vt.fromWorkingColorSpace(vi.copy(this),e),Math.round(En(vi.r*255,0,255))*65536+Math.round(En(vi.g*255,0,255))*256+Math.round(En(vi.b*255,0,255))}getHexString(e=Vn){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Vt.workingColorSpace){Vt.fromWorkingColorSpace(vi.copy(this),t);const i=vi.r,r=vi.g,s=vi.b,o=Math.max(i,r,s),a=Math.min(i,r,s);let l,c;const h=(a+o)/2;if(a===o)l=0,c=0;else{const d=o-a;switch(c=h<=.5?d/(o+a):d/(2-o-a),o){case i:l=(r-s)/d+(r<s?6:0);break;case r:l=(s-i)/d+2;break;case s:l=(i-r)/d+4;break}l/=6}return e.h=l,e.s=c,e.l=h,e}getRGB(e,t=Vt.workingColorSpace){return Vt.fromWorkingColorSpace(vi.copy(this),t),e.r=vi.r,e.g=vi.g,e.b=vi.b,e}getStyle(e=Vn){Vt.fromWorkingColorSpace(vi.copy(this),e);const t=vi.r,i=vi.g,r=vi.b;return e!==Vn?`color(${e} ${t.toFixed(3)} ${i.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(i*255)},${Math.round(r*255)})`}offsetHSL(e,t,i){return this.getHSL(Lo),this.setHSL(Lo.h+e,Lo.s+t,Lo.l+i)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL(Lo),e.getHSL(d0);const i=fh(Lo.h,d0.h,t),r=fh(Lo.s,d0.s,t),s=fh(Lo.l,d0.l,t);return this.setHSL(i,r,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,i=this.g,r=this.b,s=e.elements;return this.r=s[0]*t+s[3]*i+s[6]*r,this.g=s[1]*t+s[4]*i+s[7]*r,this.b=s[2]*t+s[5]*i+s[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const vi=new ze;ze.NAMES=xb;class tr extends On{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new ze(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=yd,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const $s=uz();function uz(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),i=new Uint32Array(512),r=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(i[l]=0,i[l|256]=32768,r[l]=24,r[l|256]=24):c<-14?(i[l]=1024>>-c-14,i[l|256]=1024>>-c-14|32768,r[l]=-c-1,r[l|256]=-c-1):c<=15?(i[l]=c+15<<10,i[l|256]=c+15<<10|32768,r[l]=13,r[l|256]=13):c<128?(i[l]=31744,i[l|256]=64512,r[l]=24,r[l|256]=24):(i[l]=31744,i[l|256]=64512,r[l]=13,r[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,h=0;for(;!(c&8388608);)c<<=1,h-=8388608;c&=-8388609,h+=947912704,s[l]=c|h}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:t,baseTable:i,shiftTable:r,mantissaTable:s,exponentTable:o,offsetTable:a}}function Fi(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=En(n,-65504,65504),$s.floatView[0]=n;const e=$s.uint32View[0],t=e>>23&511;return $s.baseTable[t]+((e&8388607)>>$s.shiftTable[t])}function jf(n){const e=n>>10;return $s.uint32View[0]=$s.mantissaTable[$s.offsetTable[e]+(n&1023)]+$s.exponentTable[e],$s.floatView[0]}const fz={toHalfFloat:Fi,fromHalfFloat:jf},Ln=new F,p0=new de;class Dt{constructor(e,t,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=i,this.usage=Jh,this.updateRange={offset:0,count:-1},this.gpuType=As,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[e+r]=t.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,i=this.count;t<i;t++)p0.fromBufferAttribute(this,t),p0.applyMatrix3(e),this.setXY(t,p0.x,p0.y);else if(this.itemSize===3)for(let t=0,i=this.count;t<i;t++)Ln.fromBufferAttribute(this,t),Ln.applyMatrix3(e),this.setXYZ(t,Ln.x,Ln.y,Ln.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)Ln.fromBufferAttribute(this,t),Ln.applyMatrix4(e),this.setXYZ(t,Ln.x,Ln.y,Ln.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)Ln.fromBufferAttribute(this,t),Ln.applyNormalMatrix(e),this.setXYZ(t,Ln.x,Ln.y,Ln.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)Ln.fromBufferAttribute(this,t),Ln.transformDirection(e),this.setXYZ(t,Ln.x,Ln.y,Ln.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let i=this.array[e*this.itemSize+t];return this.normalized&&(i=ki(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=St(i,this.array)),this.array[e*this.itemSize+t]=i,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=ki(t,this.array)),t}setX(e,t){return this.normalized&&(t=St(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=ki(t,this.array)),t}setY(e,t){return this.normalized&&(t=St(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=ki(t,this.array)),t}setZ(e,t){return this.normalized&&(t=St(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=ki(t,this.array)),t}setW(e,t){return this.normalized&&(t=St(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=St(t,this.array),i=St(i,this.array)),this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=St(t,this.array),i=St(i,this.array),r=St(r,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e*=this.itemSize,this.normalized&&(t=St(t,this.array),i=St(i,this.array),r=St(r,this.array),s=St(s,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Jh&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}}class hz extends Dt{constructor(e,t,i){super(new Int8Array(e),t,i)}}class dz extends Dt{constructor(e,t,i){super(new Uint8Array(e),t,i)}}class pz extends Dt{constructor(e,t,i){super(new Uint8ClampedArray(e),t,i)}}class mz extends Dt{constructor(e,t,i){super(new Int16Array(e),t,i)}}class M9 extends Dt{constructor(e,t,i){super(new Uint16Array(e),t,i)}}class gz extends Dt{constructor(e,t,i){super(new Int32Array(e),t,i)}}class E9 extends Dt{constructor(e,t,i){super(new Uint32Array(e),t,i)}}class vz extends Dt{constructor(e,t,i){super(new Uint16Array(e),t,i),this.isFloat16BufferAttribute=!0}getX(e){let t=jf(this.array[e*this.itemSize]);return this.normalized&&(t=ki(t,this.array)),t}setX(e,t){return this.normalized&&(t=St(t,this.array)),this.array[e*this.itemSize]=Fi(t),this}getY(e){let t=jf(this.array[e*this.itemSize+1]);return this.normalized&&(t=ki(t,this.array)),t}setY(e,t){return this.normalized&&(t=St(t,this.array)),this.array[e*this.itemSize+1]=Fi(t),this}getZ(e){let t=jf(this.array[e*this.itemSize+2]);return this.normalized&&(t=ki(t,this.array)),t}setZ(e,t){return this.normalized&&(t=St(t,this.array)),this.array[e*this.itemSize+2]=Fi(t),this}getW(e){let t=jf(this.array[e*this.itemSize+3]);return this.normalized&&(t=ki(t,this.array)),t}setW(e,t){return this.normalized&&(t=St(t,this.array)),this.array[e*this.itemSize+3]=Fi(t),this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=St(t,this.array),i=St(i,this.array)),this.array[e+0]=Fi(t),this.array[e+1]=Fi(i),this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=St(t,this.array),i=St(i,this.array),r=St(r,this.array)),this.array[e+0]=Fi(t),this.array[e+1]=Fi(i),this.array[e+2]=Fi(r),this}setXYZW(e,t,i,r,s){return e*=this.itemSize,this.normalized&&(t=St(t,this.array),i=St(i,this.array),r=St(r,this.array),s=St(s,this.array)),this.array[e+0]=Fi(t),this.array[e+1]=Fi(i),this.array[e+2]=Fi(r),this.array[e+3]=Fi(s),this}}class Qe extends Dt{constructor(e,t,i){super(new Float32Array(e),t,i)}}class yz extends Dt{constructor(e,t,i){super(new Float64Array(e),t,i)}}let xz=0;const yr=new ct,U5=new Lt,fc=new F,Qi=new is,wf=new is,Yn=new F;class _t extends Ds{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:xz++}),this.uuid=ir(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(gb(e)?E9:M9)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const s=new Et().getNormalMatrix(e);i.applyNormalMatrix(s),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return yr.makeRotationFromQuaternion(e),this.applyMatrix4(yr),this}rotateX(e){return yr.makeRotationX(e),this.applyMatrix4(yr),this}rotateY(e){return yr.makeRotationY(e),this.applyMatrix4(yr),this}rotateZ(e){return yr.makeRotationZ(e),this.applyMatrix4(yr),this}translate(e,t,i){return yr.makeTranslation(e,t,i),this.applyMatrix4(yr),this}scale(e,t,i){return yr.makeScale(e,t,i),this.applyMatrix4(yr),this}lookAt(e){return U5.lookAt(e),U5.updateMatrix(),this.applyMatrix4(U5.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(fc).negate(),this.translate(fc.x,fc.y,fc.z),this}setFromPoints(e){const t=[];for(let i=0,r=e.length;i<r;i++){const s=e[i];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new Qe(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new is);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new F(-1/0,-1/0,-1/0),new F(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,r=t.length;i<r;i++){const s=t[i];Qi.setFromBufferAttribute(s),this.morphTargetsRelative?(Yn.addVectors(this.boundingBox.min,Qi.min),this.boundingBox.expandByPoint(Yn),Yn.addVectors(this.boundingBox.max,Qi.max),this.boundingBox.expandByPoint(Yn)):(this.boundingBox.expandByPoint(Qi.min),this.boundingBox.expandByPoint(Qi.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Fr);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new F,1/0);return}if(e){const i=this.boundingSphere.center;if(Qi.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++){const a=t[s];wf.setFromBufferAttribute(a),this.morphTargetsRelative?(Yn.addVectors(Qi.min,wf.min),Qi.expandByPoint(Yn),Yn.addVectors(Qi.max,wf.max),Qi.expandByPoint(Yn)):(Qi.expandByPoint(wf.min),Qi.expandByPoint(wf.max))}Qi.getCenter(i);let r=0;for(let s=0,o=e.count;s<o;s++)Yn.fromBufferAttribute(e,s),r=Math.max(r,i.distanceToSquared(Yn));if(t)for(let s=0,o=t.length;s<o;s++){const a=t[s],l=this.morphTargetsRelative;for(let c=0,h=a.count;c<h;c++)Yn.fromBufferAttribute(a,c),l&&(fc.fromBufferAttribute(e,c),Yn.add(fc)),r=Math.max(r,i.distanceToSquared(Yn))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=e.array,r=t.position.array,s=t.normal.array,o=t.uv.array,a=r.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Dt(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,c=[],h=[];for(let B=0;B<a;B++)c[B]=new F,h[B]=new F;const d=new F,p=new F,m=new F,v=new de,S=new de,_=new de,g=new F,x=new F;function A(B,U,Y){d.fromArray(r,B*3),p.fromArray(r,U*3),m.fromArray(r,Y*3),v.fromArray(o,B*2),S.fromArray(o,U*2),_.fromArray(o,Y*2),p.sub(d),m.sub(d),S.sub(v),_.sub(v);const ee=1/(S.x*_.y-_.x*S.y);isFinite(ee)&&(g.copy(p).multiplyScalar(_.y).addScaledVector(m,-S.y).multiplyScalar(ee),x.copy(m).multiplyScalar(S.x).addScaledVector(p,-_.x).multiplyScalar(ee),c[B].add(g),c[U].add(g),c[Y].add(g),h[B].add(x),h[U].add(x),h[Y].add(x))}let E=this.groups;E.length===0&&(E=[{start:0,count:i.length}]);for(let B=0,U=E.length;B<U;++B){const Y=E[B],ee=Y.start,V=Y.count;for(let Q=ee,ne=ee+V;Q<ne;Q+=3)A(i[Q+0],i[Q+1],i[Q+2])}const T=new F,C=new F,R=new F,I=new F;function P(B){R.fromArray(s,B*3),I.copy(R);const U=c[B];T.copy(U),T.sub(R.multiplyScalar(R.dot(U))).normalize(),C.crossVectors(I,U);const ee=C.dot(h[B])<0?-1:1;l[B*4]=T.x,l[B*4+1]=T.y,l[B*4+2]=T.z,l[B*4+3]=ee}for(let B=0,U=E.length;B<U;++B){const Y=E[B],ee=Y.start,V=Y.count;for(let Q=ee,ne=ee+V;Q<ne;Q+=3)P(i[Q+0]),P(i[Q+1]),P(i[Q+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new Dt(new Float32Array(t.count*3),3),this.setAttribute("normal",i);else for(let p=0,m=i.count;p<m;p++)i.setXYZ(p,0,0,0);const r=new F,s=new F,o=new F,a=new F,l=new F,c=new F,h=new F,d=new F;if(e)for(let p=0,m=e.count;p<m;p+=3){const v=e.getX(p+0),S=e.getX(p+1),_=e.getX(p+2);r.fromBufferAttribute(t,v),s.fromBufferAttribute(t,S),o.fromBufferAttribute(t,_),h.subVectors(o,s),d.subVectors(r,s),h.cross(d),a.fromBufferAttribute(i,v),l.fromBufferAttribute(i,S),c.fromBufferAttribute(i,_),a.add(h),l.add(h),c.add(h),i.setXYZ(v,a.x,a.y,a.z),i.setXYZ(S,l.x,l.y,l.z),i.setXYZ(_,c.x,c.y,c.z)}else for(let p=0,m=t.count;p<m;p+=3)r.fromBufferAttribute(t,p+0),s.fromBufferAttribute(t,p+1),o.fromBufferAttribute(t,p+2),h.subVectors(o,s),d.subVectors(r,s),h.cross(d),i.setXYZ(p+0,h.x,h.y,h.z),i.setXYZ(p+1,h.x,h.y,h.z),i.setXYZ(p+2,h.x,h.y,h.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)Yn.fromBufferAttribute(e,t),Yn.normalize(),e.setXYZ(t,Yn.x,Yn.y,Yn.z)}toNonIndexed(){function e(a,l){const c=a.array,h=a.itemSize,d=a.normalized,p=new c.constructor(l.length*h);let m=0,v=0;for(let S=0,_=l.length;S<_;S++){a.isInterleavedBufferAttribute?m=l[S]*a.data.stride+a.offset:m=l[S]*h;for(let g=0;g<h;g++)p[v++]=c[m++]}return new Dt(p,h,d)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new _t,i=this.index.array,r=this.attributes;for(const a in r){const l=r[a],c=e(l,i);t.setAttribute(a,c)}const s=this.morphAttributes;for(const a in s){const l=[],c=s[a];for(let h=0,d=c.length;h<d;h++){const p=c[h],m=e(p,i);l.push(m)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const l in i){const c=i[l];e.data.attributes[l]=c.toJSON(e.data)}const r={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],h=[];for(let d=0,p=c.length;d<p;d++){const m=c[d];h.push(m.toJSON(e.data))}h.length>0&&(r[l]=h,s=!0)}s&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone(t));const r=e.attributes;for(const c in r){const h=r[c];this.setAttribute(c,h.clone(t))}const s=e.morphAttributes;for(const c in s){const h=[],d=s[c];for(let p=0,m=d.length;p<m;p++)h.push(d[p].clone(t));this.morphAttributes[c]=h}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,h=o.length;c<h;c++){const d=o[c];this.addGroup(d.start,d.count,d.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const U_=new ct,Na=new Dl,m0=new Fr,k_=new F,hc=new F,dc=new F,pc=new F,k5=new F,g0=new F,v0=new de,y0=new de,x0=new de,H_=new F,z_=new F,G_=new F,_0=new F,A0=new F;class Zn extends Lt{constructor(e=new _t,t=new tr){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,t){const i=this.geometry,r=i.attributes.position,s=i.morphAttributes.position,o=i.morphTargetsRelative;t.fromBufferAttribute(r,e);const a=this.morphTargetInfluences;if(s&&a){g0.set(0,0,0);for(let l=0,c=s.length;l<c;l++){const h=a[l],d=s[l];h!==0&&(k5.fromBufferAttribute(d,e),o?g0.addScaledVector(k5,h):g0.addScaledVector(k5.sub(t),h))}t.add(g0)}return t}raycast(e,t){const i=this.geometry,r=this.material,s=this.matrixWorld;r!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),m0.copy(i.boundingSphere),m0.applyMatrix4(s),Na.copy(e.ray).recast(e.near),!(m0.containsPoint(Na.origin)===!1&&(Na.intersectSphere(m0,k_)===null||Na.origin.distanceToSquared(k_)>(e.far-e.near)**2))&&(U_.copy(s).invert(),Na.copy(e.ray).applyMatrix4(U_),!(i.boundingBox!==null&&Na.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(e,t,Na)))}_computeIntersections(e,t,i){let r;const s=this.geometry,o=this.material,a=s.index,l=s.attributes.position,c=s.attributes.uv,h=s.attributes.uv1,d=s.attributes.normal,p=s.groups,m=s.drawRange;if(a!==null)if(Array.isArray(o))for(let v=0,S=p.length;v<S;v++){const _=p[v],g=o[_.materialIndex],x=Math.max(_.start,m.start),A=Math.min(a.count,Math.min(_.start+_.count,m.start+m.count));for(let E=x,T=A;E<T;E+=3){const C=a.getX(E),R=a.getX(E+1),I=a.getX(E+2);r=S0(this,g,e,i,c,h,d,C,R,I),r&&(r.faceIndex=Math.floor(E/3),r.face.materialIndex=_.materialIndex,t.push(r))}}else{const v=Math.max(0,m.start),S=Math.min(a.count,m.start+m.count);for(let _=v,g=S;_<g;_+=3){const x=a.getX(_),A=a.getX(_+1),E=a.getX(_+2);r=S0(this,o,e,i,c,h,d,x,A,E),r&&(r.faceIndex=Math.floor(_/3),t.push(r))}}else if(l!==void 0)if(Array.isArray(o))for(let v=0,S=p.length;v<S;v++){const _=p[v],g=o[_.materialIndex],x=Math.max(_.start,m.start),A=Math.min(l.count,Math.min(_.start+_.count,m.start+m.count));for(let E=x,T=A;E<T;E+=3){const C=E,R=E+1,I=E+2;r=S0(this,g,e,i,c,h,d,C,R,I),r&&(r.faceIndex=Math.floor(E/3),r.face.materialIndex=_.materialIndex,t.push(r))}}else{const v=Math.max(0,m.start),S=Math.min(l.count,m.start+m.count);for(let _=v,g=S;_<g;_+=3){const x=_,A=_+1,E=_+2;r=S0(this,o,e,i,c,h,d,x,A,E),r&&(r.faceIndex=Math.floor(_/3),t.push(r))}}}}function _z(n,e,t,i,r,s,o,a){let l;if(e.side===xi?l=i.intersectTriangle(o,s,r,!0,a):l=i.intersectTriangle(r,s,o,e.side===Rs,a),l===null)return null;A0.copy(a),A0.applyMatrix4(n.matrixWorld);const c=t.ray.origin.distanceTo(A0);return c<t.near||c>t.far?null:{distance:c,point:A0.clone(),object:n}}function S0(n,e,t,i,r,s,o,a,l,c){n.getVertexPosition(a,hc),n.getVertexPosition(l,dc),n.getVertexPosition(c,pc);const h=_z(n,e,t,i,hc,dc,pc,_0);if(h){r&&(v0.fromBufferAttribute(r,a),y0.fromBufferAttribute(r,l),x0.fromBufferAttribute(r,c),h.uv=Oi.getInterpolation(_0,hc,dc,pc,v0,y0,x0,new de)),s&&(v0.fromBufferAttribute(s,a),y0.fromBufferAttribute(s,l),x0.fromBufferAttribute(s,c),h.uv1=Oi.getInterpolation(_0,hc,dc,pc,v0,y0,x0,new de),h.uv2=h.uv1),o&&(H_.fromBufferAttribute(o,a),z_.fromBufferAttribute(o,l),G_.fromBufferAttribute(o,c),h.normal=Oi.getInterpolation(_0,hc,dc,pc,H_,z_,G_,new F),h.normal.dot(i.direction)>0&&h.normal.multiplyScalar(-1));const d={a,b:l,c,normal:new F,materialIndex:0};Oi.getNormal(hc,dc,pc,d.normal),h.face=d}return h}class Fl extends _t{constructor(e=1,t=1,i=1,r=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:r,heightSegments:s,depthSegments:o};const a=this;r=Math.floor(r),s=Math.floor(s),o=Math.floor(o);const l=[],c=[],h=[],d=[];let p=0,m=0;v("z","y","x",-1,-1,i,t,e,o,s,0),v("z","y","x",1,-1,i,t,-e,o,s,1),v("x","z","y",1,1,e,i,t,r,o,2),v("x","z","y",1,-1,e,i,-t,r,o,3),v("x","y","z",1,-1,e,t,i,r,s,4),v("x","y","z",-1,-1,e,t,-i,r,s,5),this.setIndex(l),this.setAttribute("position",new Qe(c,3)),this.setAttribute("normal",new Qe(h,3)),this.setAttribute("uv",new Qe(d,2));function v(S,_,g,x,A,E,T,C,R,I,P){const B=E/R,U=T/I,Y=E/2,ee=T/2,V=C/2,Q=R+1,ne=I+1;let te=0,D=0;const W=new F;for(let j=0;j<ne;j++){const N=j*U-ee;for(let X=0;X<Q;X++){const ce=X*B-Y;W[S]=ce*x,W[_]=N*A,W[g]=V,c.push(W.x,W.y,W.z),W[S]=0,W[_]=0,W[g]=C>0?1:-1,h.push(W.x,W.y,W.z),d.push(X/R),d.push(1-j/I),te+=1}}for(let j=0;j<I;j++)for(let N=0;N<R;N++){const X=p+N+Q*j,ce=p+N+Q*(j+1),me=p+(N+1)+Q*(j+1),ve=p+(N+1)+Q*j;l.push(X,ce,ve),l.push(ce,me,ve),D+=6}a.addGroup(m,D,P),m+=D,p+=te}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Fl(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function wu(n){const e={};for(const t in n){e[t]={};for(const i in n[t]){const r=n[t][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][i]=null):e[t][i]=r.clone():Array.isArray(r)?e[t][i]=r.slice():e[t][i]=r}}return e}function wi(n){const e={};for(let t=0;t<n.length;t++){const i=wu(n[t]);for(const r in i)e[r]=i[r]}return e}function Az(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function _b(n){return n.getRenderTarget()===null?n.outputColorSpace:Vt.workingColorSpace}const w9={clone:wu,merge:wi};var Sz=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,Mz=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class ns extends On{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=Sz,this.fragmentShader=Mz,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=wu(e.uniforms),this.uniformsGroups=Az(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const o=this.uniforms[r].value;o&&o.isTexture?t.uniforms[r]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[r]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[r]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[r]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[r]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[r]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[r]={type:"m4",value:o.toArray()}:t.uniforms[r]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}class Ad extends Lt{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new ct,this.projectionMatrix=new ct,this.projectionMatrixInverse=new ct,this.coordinateSystem=Ss}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class tn extends Ad{constructor(e=50,t=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=Eu*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(ml*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Eu*2*Math.atan(Math.tan(ml*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,i,r,s,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(ml*.5*this.fov)/this.zoom,i=2*t,r=this.aspect*i,s=-.5*r;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;s+=o.offsetX*r/l,t-=o.offsetY*i/c,r*=o.width/l,i*=o.height/c}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,t,t-i,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const mc=-90,gc=1;class Ab extends Lt{constructor(e,t,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new tn(mc,gc,e,t);r.layers=this.layers,this.add(r);const s=new tn(mc,gc,e,t);s.layers=this.layers,this.add(s);const o=new tn(mc,gc,e,t);o.layers=this.layers,this.add(o);const a=new tn(mc,gc,e,t);a.layers=this.layers,this.add(a);const l=new tn(mc,gc,e,t);l.layers=this.layers,this.add(l);const c=new tn(mc,gc,e,t);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[i,r,s,o,a,l]=t;for(const c of t)this.remove(c);if(e===Ss)i.up.set(0,1,0),i.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===Kh)i.up.set(0,-1,0),i.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of t)this.add(c),c.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:r}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,o,a,l,c,h]=this.children,d=e.getRenderTarget(),p=e.getActiveCubeFace(),m=e.getActiveMipmapLevel(),v=e.xr.enabled;e.xr.enabled=!1;const S=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0,r),e.render(t,s),e.setRenderTarget(i,1,r),e.render(t,o),e.setRenderTarget(i,2,r),e.render(t,a),e.setRenderTarget(i,3,r),e.render(t,l),e.setRenderTarget(i,4,r),e.render(t,c),i.texture.generateMipmaps=S,e.setRenderTarget(i,5,r),e.render(t,h),e.setRenderTarget(d,p,m),e.xr.enabled=v,i.texture.needsPMREMUpdate=!0}}class Sd extends ln{constructor(e,t,i,r,s,o,a,l,c,h){e=e!==void 0?e:[],t=t!==void 0?t:po,super(e,t,i,r,s,o,a,l,c,h),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class Sb extends ts{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];t.encoding!==void 0&&(hh("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),t.colorSpace=t.encoding===oa?Vn:$i),this.texture=new Sd(r,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:hn}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new Fl(5,5,5),s=new ns({name:"CubemapFromEquirect",uniforms:wu(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:xi,blending:lo});s.uniforms.tEquirect.value=t;const o=new Zn(r,s),a=t.minFilter;return t.minFilter===Bs&&(t.minFilter=hn),new Ab(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,i,r){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,i,r);e.setRenderTarget(s)}}const H5=new F,Ez=new F,wz=new Et;class Zs{constructor(e=new F(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,r){return this.normal.set(e,t,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){const r=H5.subVectors(i,t).cross(Ez.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const i=e.delta(H5),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:t.copy(e.start).addScaledVector(i,s)}intersectsLine(e){const t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const i=t||wz.getNormalMatrix(e),r=this.coplanarPoint(H5).applyMatrix4(e),s=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Oa=new Fr,M0=new F;class im{constructor(e=new Zs,t=new Zs,i=new Zs,r=new Zs,s=new Zs,o=new Zs){this.planes=[e,t,i,r,s,o]}set(e,t,i,r,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(i),a[3].copy(r),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,t=Ss){const i=this.planes,r=e.elements,s=r[0],o=r[1],a=r[2],l=r[3],c=r[4],h=r[5],d=r[6],p=r[7],m=r[8],v=r[9],S=r[10],_=r[11],g=r[12],x=r[13],A=r[14],E=r[15];if(i[0].setComponents(l-s,p-c,_-m,E-g).normalize(),i[1].setComponents(l+s,p+c,_+m,E+g).normalize(),i[2].setComponents(l+o,p+h,_+v,E+x).normalize(),i[3].setComponents(l-o,p-h,_-v,E-x).normalize(),i[4].setComponents(l-a,p-d,_-S,E-A).normalize(),t===Ss)i[5].setComponents(l+a,p+d,_+S,E+A).normalize();else if(t===Kh)i[5].setComponents(a,d,S,A).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Oa.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),Oa.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Oa)}intersectsSprite(e){return Oa.center.set(0,0,0),Oa.radius=.7071067811865476,Oa.applyMatrix4(e.matrixWorld),this.intersectsSphere(Oa)}intersectsSphere(e){const t=this.planes,i=e.center,r=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let i=0;i<6;i++){const r=t[i];if(M0.x=r.normal.x>0?e.max.x:e.min.x,M0.y=r.normal.y>0?e.max.y:e.min.y,M0.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(M0)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function Mb(){let n=null,e=!1,t=null,i=null;function r(s,o){t(s,o),i=n.requestAnimationFrame(r)}return{start:function(){e!==!0&&t!==null&&(i=n.requestAnimationFrame(r),e=!0)},stop:function(){n.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function Tz(n,e){const t=e.isWebGL2,i=new WeakMap;function r(c,h){const d=c.array,p=c.usage,m=n.createBuffer();n.bindBuffer(h,m),n.bufferData(h,d,p),c.onUploadCallback();let v;if(d instanceof Float32Array)v=n.FLOAT;else if(d instanceof Uint16Array)if(c.isFloat16BufferAttribute)if(t)v=n.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else v=n.UNSIGNED_SHORT;else if(d instanceof Int16Array)v=n.SHORT;else if(d instanceof Uint32Array)v=n.UNSIGNED_INT;else if(d instanceof Int32Array)v=n.INT;else if(d instanceof Int8Array)v=n.BYTE;else if(d instanceof Uint8Array)v=n.UNSIGNED_BYTE;else if(d instanceof Uint8ClampedArray)v=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+d);return{buffer:m,type:v,bytesPerElement:d.BYTES_PER_ELEMENT,version:c.version}}function s(c,h,d){const p=h.array,m=h.updateRange;n.bindBuffer(d,c),m.count===-1?n.bufferSubData(d,0,p):(t?n.bufferSubData(d,m.offset*p.BYTES_PER_ELEMENT,p,m.offset,m.count):n.bufferSubData(d,m.offset*p.BYTES_PER_ELEMENT,p.subarray(m.offset,m.offset+m.count)),m.count=-1),h.onUploadCallback()}function o(c){return c.isInterleavedBufferAttribute&&(c=c.data),i.get(c)}function a(c){c.isInterleavedBufferAttribute&&(c=c.data);const h=i.get(c);h&&(n.deleteBuffer(h.buffer),i.delete(c))}function l(c,h){if(c.isGLBufferAttribute){const p=i.get(c);(!p||p.version<c.version)&&i.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);const d=i.get(c);d===void 0?i.set(c,r(c,h)):d.version<c.version&&(s(d.buffer,c,h),d.version=c.version)}return{get:o,remove:a,update:l}}class Md extends _t{constructor(e=1,t=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:r};const s=e/2,o=t/2,a=Math.floor(i),l=Math.floor(r),c=a+1,h=l+1,d=e/a,p=t/l,m=[],v=[],S=[],_=[];for(let g=0;g<h;g++){const x=g*p-o;for(let A=0;A<c;A++){const E=A*d-s;v.push(E,-x,0),S.push(0,0,1),_.push(A/a),_.push(1-g/l)}}for(let g=0;g<l;g++)for(let x=0;x<a;x++){const A=x+c*g,E=x+c*(g+1),T=x+1+c*(g+1),C=x+1+c*g;m.push(A,E,C),m.push(E,T,C)}this.setIndex(m),this.setAttribute("position",new Qe(v,3)),this.setAttribute("normal",new Qe(S,3)),this.setAttribute("uv",new Qe(_,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Md(e.width,e.height,e.widthSegments,e.heightSegments)}}var Cz=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,bz=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,Pz=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,Rz=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Bz=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,Iz=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,Lz=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,Dz=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,Fz=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,Nz=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,Oz=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,Uz=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,kz=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,Hz=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,zz=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,Gz=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,Vz=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,Wz=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,jz=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,qz=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,Xz=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,Jz=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,Kz=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,Yz=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,Qz=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,Zz=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,$z=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,eG=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,tG="gl_FragColor = linearToOutputTexel( gl_FragColor );",nG=`
const mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(
	vec3( 0.8224621, 0.177538, 0.0 ),
	vec3( 0.0331941, 0.9668058, 0.0 ),
	vec3( 0.0170827, 0.0723974, 0.9105199 )
);
const mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(
	vec3( 1.2249401, - 0.2249404, 0.0 ),
	vec3( - 0.0420569, 1.0420571, 0.0 ),
	vec3( - 0.0196376, - 0.0786361, 1.0982735 )
);
vec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {
	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );
}
vec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {
	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );
}
vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return sRGBTransferOETF( value );
}`,iG=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,rG=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,sG=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,oG=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,aG=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,lG=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,cG=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,uG=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,fG=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,hG=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,dG=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,pG=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,mG=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,gG=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,vG=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,yG=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,xG=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,_G=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,AG=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,SG=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,MG=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	anisotropyV /= material.anisotropy;
	material.anisotropy = saturate( material.anisotropy );
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x - tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x + tbn[ 0 ] * anisotropyV.y;
#endif`,EG=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,wG=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal;
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,TG=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,CG=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,bG=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,PG=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,RG=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,BG=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,IG=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,LG=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,DG=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,FG=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,NG=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,OG=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,UG=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,kG=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,HG=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,zG=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,GG=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,VG=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,WG=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,jG=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,qG=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,XG=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,JG=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,KG=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,YG=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,QG=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,ZG=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,$G=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,eV=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,tV=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,nV=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,iV=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,rV=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,sV=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,oV=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,aV=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,lV=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,cV=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,uV=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,fV=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,hV=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,dV=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,pV=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,mV=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,gV=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,vV=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,yV=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,xV=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,_V=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,AV=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,SV=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,MV=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const EV=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,wV=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,TV=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,CV=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,bV=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,PV=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,RV=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,BV=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,IV=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,LV=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,DV=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,FV=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,NV=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,OV=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,UV=`#include <common>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,kV=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,HV=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,zV=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,GV=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,VV=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,WV=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,jV=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,qV=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,XV=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,JV=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,KV=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,YV=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,QV=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,ZV=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,$V=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,eW=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,tW=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,nW=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,iW=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,At={alphahash_fragment:Cz,alphahash_pars_fragment:bz,alphamap_fragment:Pz,alphamap_pars_fragment:Rz,alphatest_fragment:Bz,alphatest_pars_fragment:Iz,aomap_fragment:Lz,aomap_pars_fragment:Dz,begin_vertex:Fz,beginnormal_vertex:Nz,bsdfs:Oz,iridescence_fragment:Uz,bumpmap_pars_fragment:kz,clipping_planes_fragment:Hz,clipping_planes_pars_fragment:zz,clipping_planes_pars_vertex:Gz,clipping_planes_vertex:Vz,color_fragment:Wz,color_pars_fragment:jz,color_pars_vertex:qz,color_vertex:Xz,common:Jz,cube_uv_reflection_fragment:Kz,defaultnormal_vertex:Yz,displacementmap_pars_vertex:Qz,displacementmap_vertex:Zz,emissivemap_fragment:$z,emissivemap_pars_fragment:eG,colorspace_fragment:tG,colorspace_pars_fragment:nG,envmap_fragment:iG,envmap_common_pars_fragment:rG,envmap_pars_fragment:sG,envmap_pars_vertex:oG,envmap_physical_pars_fragment:yG,envmap_vertex:aG,fog_vertex:lG,fog_pars_vertex:cG,fog_fragment:uG,fog_pars_fragment:fG,gradientmap_pars_fragment:hG,lightmap_fragment:dG,lightmap_pars_fragment:pG,lights_lambert_fragment:mG,lights_lambert_pars_fragment:gG,lights_pars_begin:vG,lights_toon_fragment:xG,lights_toon_pars_fragment:_G,lights_phong_fragment:AG,lights_phong_pars_fragment:SG,lights_physical_fragment:MG,lights_physical_pars_fragment:EG,lights_fragment_begin:wG,lights_fragment_maps:TG,lights_fragment_end:CG,logdepthbuf_fragment:bG,logdepthbuf_pars_fragment:PG,logdepthbuf_pars_vertex:RG,logdepthbuf_vertex:BG,map_fragment:IG,map_pars_fragment:LG,map_particle_fragment:DG,map_particle_pars_fragment:FG,metalnessmap_fragment:NG,metalnessmap_pars_fragment:OG,morphcolor_vertex:UG,morphnormal_vertex:kG,morphtarget_pars_vertex:HG,morphtarget_vertex:zG,normal_fragment_begin:GG,normal_fragment_maps:VG,normal_pars_fragment:WG,normal_pars_vertex:jG,normal_vertex:qG,normalmap_pars_fragment:XG,clearcoat_normal_fragment_begin:JG,clearcoat_normal_fragment_maps:KG,clearcoat_pars_fragment:YG,iridescence_pars_fragment:QG,opaque_fragment:ZG,packing:$G,premultiplied_alpha_fragment:eV,project_vertex:tV,dithering_fragment:nV,dithering_pars_fragment:iV,roughnessmap_fragment:rV,roughnessmap_pars_fragment:sV,shadowmap_pars_fragment:oV,shadowmap_pars_vertex:aV,shadowmap_vertex:lV,shadowmask_pars_fragment:cV,skinbase_vertex:uV,skinning_pars_vertex:fV,skinning_vertex:hV,skinnormal_vertex:dV,specularmap_fragment:pV,specularmap_pars_fragment:mV,tonemapping_fragment:gV,tonemapping_pars_fragment:vV,transmission_fragment:yV,transmission_pars_fragment:xV,uv_pars_fragment:_V,uv_pars_vertex:AV,uv_vertex:SV,worldpos_vertex:MV,background_vert:EV,background_frag:wV,backgroundCube_vert:TV,backgroundCube_frag:CV,cube_vert:bV,cube_frag:PV,depth_vert:RV,depth_frag:BV,distanceRGBA_vert:IV,distanceRGBA_frag:LV,equirect_vert:DV,equirect_frag:FV,linedashed_vert:NV,linedashed_frag:OV,meshbasic_vert:UV,meshbasic_frag:kV,meshlambert_vert:HV,meshlambert_frag:zV,meshmatcap_vert:GV,meshmatcap_frag:VV,meshnormal_vert:WV,meshnormal_frag:jV,meshphong_vert:qV,meshphong_frag:XV,meshphysical_vert:JV,meshphysical_frag:KV,meshtoon_vert:YV,meshtoon_frag:QV,points_vert:ZV,points_frag:$V,shadow_vert:eW,shadow_frag:tW,sprite_vert:nW,sprite_frag:iW},Fe={common:{diffuse:{value:new ze(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Et},alphaMap:{value:null},alphaMapTransform:{value:new Et},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Et}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Et}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Et}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Et},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Et},normalScale:{value:new de(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Et},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Et}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Et}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Et}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new ze(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new ze(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Et},alphaTest:{value:0},uvTransform:{value:new Et}},sprite:{diffuse:{value:new ze(16777215)},opacity:{value:1},center:{value:new de(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Et},alphaMap:{value:null},alphaMapTransform:{value:new Et},alphaTest:{value:0}}},Xr={basic:{uniforms:wi([Fe.common,Fe.specularmap,Fe.envmap,Fe.aomap,Fe.lightmap,Fe.fog]),vertexShader:At.meshbasic_vert,fragmentShader:At.meshbasic_frag},lambert:{uniforms:wi([Fe.common,Fe.specularmap,Fe.envmap,Fe.aomap,Fe.lightmap,Fe.emissivemap,Fe.bumpmap,Fe.normalmap,Fe.displacementmap,Fe.fog,Fe.lights,{emissive:{value:new ze(0)}}]),vertexShader:At.meshlambert_vert,fragmentShader:At.meshlambert_frag},phong:{uniforms:wi([Fe.common,Fe.specularmap,Fe.envmap,Fe.aomap,Fe.lightmap,Fe.emissivemap,Fe.bumpmap,Fe.normalmap,Fe.displacementmap,Fe.fog,Fe.lights,{emissive:{value:new ze(0)},specular:{value:new ze(1118481)},shininess:{value:30}}]),vertexShader:At.meshphong_vert,fragmentShader:At.meshphong_frag},standard:{uniforms:wi([Fe.common,Fe.envmap,Fe.aomap,Fe.lightmap,Fe.emissivemap,Fe.bumpmap,Fe.normalmap,Fe.displacementmap,Fe.roughnessmap,Fe.metalnessmap,Fe.fog,Fe.lights,{emissive:{value:new ze(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:At.meshphysical_vert,fragmentShader:At.meshphysical_frag},toon:{uniforms:wi([Fe.common,Fe.aomap,Fe.lightmap,Fe.emissivemap,Fe.bumpmap,Fe.normalmap,Fe.displacementmap,Fe.gradientmap,Fe.fog,Fe.lights,{emissive:{value:new ze(0)}}]),vertexShader:At.meshtoon_vert,fragmentShader:At.meshtoon_frag},matcap:{uniforms:wi([Fe.common,Fe.bumpmap,Fe.normalmap,Fe.displacementmap,Fe.fog,{matcap:{value:null}}]),vertexShader:At.meshmatcap_vert,fragmentShader:At.meshmatcap_frag},points:{uniforms:wi([Fe.points,Fe.fog]),vertexShader:At.points_vert,fragmentShader:At.points_frag},dashed:{uniforms:wi([Fe.common,Fe.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:At.linedashed_vert,fragmentShader:At.linedashed_frag},depth:{uniforms:wi([Fe.common,Fe.displacementmap]),vertexShader:At.depth_vert,fragmentShader:At.depth_frag},normal:{uniforms:wi([Fe.common,Fe.bumpmap,Fe.normalmap,Fe.displacementmap,{opacity:{value:1}}]),vertexShader:At.meshnormal_vert,fragmentShader:At.meshnormal_frag},sprite:{uniforms:wi([Fe.sprite,Fe.fog]),vertexShader:At.sprite_vert,fragmentShader:At.sprite_frag},background:{uniforms:{uvTransform:{value:new Et},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:At.background_vert,fragmentShader:At.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:At.backgroundCube_vert,fragmentShader:At.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:At.cube_vert,fragmentShader:At.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:At.equirect_vert,fragmentShader:At.equirect_frag},distanceRGBA:{uniforms:wi([Fe.common,Fe.displacementmap,{referencePosition:{value:new F},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:At.distanceRGBA_vert,fragmentShader:At.distanceRGBA_frag},shadow:{uniforms:wi([Fe.lights,Fe.fog,{color:{value:new ze(0)},opacity:{value:1}}]),vertexShader:At.shadow_vert,fragmentShader:At.shadow_frag}};Xr.physical={uniforms:wi([Xr.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Et},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Et},clearcoatNormalScale:{value:new de(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Et},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Et},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Et},sheen:{value:0},sheenColor:{value:new ze(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Et},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Et},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Et},transmissionSamplerSize:{value:new de},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Et},attenuationDistance:{value:0},attenuationColor:{value:new ze(0)},specularColor:{value:new ze(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Et},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Et},anisotropyVector:{value:new de},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Et}}]),vertexShader:At.meshphysical_vert,fragmentShader:At.meshphysical_frag};const E0={r:0,b:0,g:0};function rW(n,e,t,i,r,s,o){const a=new ze(0);let l=s===!0?0:1,c,h,d=null,p=0,m=null;function v(_,g){let x=!1,A=g.isScene===!0?g.background:null;A&&A.isTexture&&(A=(g.backgroundBlurriness>0?t:e).get(A)),A===null?S(a,l):A&&A.isColor&&(S(A,1),x=!0);const E=n.xr.getEnvironmentBlendMode();E==="additive"?i.buffers.color.setClear(0,0,0,1,o):E==="alpha-blend"&&i.buffers.color.setClear(0,0,0,0,o),(n.autoClear||x)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),A&&(A.isCubeTexture||A.mapping===ku)?(h===void 0&&(h=new Zn(new Fl(1,1,1),new ns({name:"BackgroundCubeMaterial",uniforms:wu(Xr.backgroundCube.uniforms),vertexShader:Xr.backgroundCube.vertexShader,fragmentShader:Xr.backgroundCube.fragmentShader,side:xi,depthTest:!1,depthWrite:!1,fog:!1})),h.geometry.deleteAttribute("normal"),h.geometry.deleteAttribute("uv"),h.onBeforeRender=function(T,C,R){this.matrixWorld.copyPosition(R.matrixWorld)},Object.defineProperty(h.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(h)),h.material.uniforms.envMap.value=A,h.material.uniforms.flipEnvMap.value=A.isCubeTexture&&A.isRenderTargetTexture===!1?-1:1,h.material.uniforms.backgroundBlurriness.value=g.backgroundBlurriness,h.material.uniforms.backgroundIntensity.value=g.backgroundIntensity,h.material.toneMapped=Vt.getTransfer(A.colorSpace)!==Kt,(d!==A||p!==A.version||m!==n.toneMapping)&&(h.material.needsUpdate=!0,d=A,p=A.version,m=n.toneMapping),h.layers.enableAll(),_.unshift(h,h.geometry,h.material,0,0,null)):A&&A.isTexture&&(c===void 0&&(c=new Zn(new Md(2,2),new ns({name:"BackgroundMaterial",uniforms:wu(Xr.background.uniforms),vertexShader:Xr.background.vertexShader,fragmentShader:Xr.background.fragmentShader,side:Rs,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(c)),c.material.uniforms.t2D.value=A,c.material.uniforms.backgroundIntensity.value=g.backgroundIntensity,c.material.toneMapped=Vt.getTransfer(A.colorSpace)!==Kt,A.matrixAutoUpdate===!0&&A.updateMatrix(),c.material.uniforms.uvTransform.value.copy(A.matrix),(d!==A||p!==A.version||m!==n.toneMapping)&&(c.material.needsUpdate=!0,d=A,p=A.version,m=n.toneMapping),c.layers.enableAll(),_.unshift(c,c.geometry,c.material,0,0,null))}function S(_,g){_.getRGB(E0,_b(n)),i.buffers.color.setClear(E0.r,E0.g,E0.b,g,o)}return{getClearColor:function(){return a},setClearColor:function(_,g=1){a.set(_),l=g,S(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(_){l=_,S(a,l)},render:v}}function sW(n,e,t,i){const r=n.getParameter(n.MAX_VERTEX_ATTRIBS),s=i.isWebGL2?null:e.get("OES_vertex_array_object"),o=i.isWebGL2||s!==null,a={},l=_(null);let c=l,h=!1;function d(V,Q,ne,te,D){let W=!1;if(o){const j=S(te,ne,Q);c!==j&&(c=j,m(c.object)),W=g(V,te,ne,D),W&&x(V,te,ne,D)}else{const j=Q.wireframe===!0;(c.geometry!==te.id||c.program!==ne.id||c.wireframe!==j)&&(c.geometry=te.id,c.program=ne.id,c.wireframe=j,W=!0)}D!==null&&t.update(D,n.ELEMENT_ARRAY_BUFFER),(W||h)&&(h=!1,I(V,Q,ne,te),D!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,t.get(D).buffer))}function p(){return i.isWebGL2?n.createVertexArray():s.createVertexArrayOES()}function m(V){return i.isWebGL2?n.bindVertexArray(V):s.bindVertexArrayOES(V)}function v(V){return i.isWebGL2?n.deleteVertexArray(V):s.deleteVertexArrayOES(V)}function S(V,Q,ne){const te=ne.wireframe===!0;let D=a[V.id];D===void 0&&(D={},a[V.id]=D);let W=D[Q.id];W===void 0&&(W={},D[Q.id]=W);let j=W[te];return j===void 0&&(j=_(p()),W[te]=j),j}function _(V){const Q=[],ne=[],te=[];for(let D=0;D<r;D++)Q[D]=0,ne[D]=0,te[D]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:Q,enabledAttributes:ne,attributeDivisors:te,object:V,attributes:{},index:null}}function g(V,Q,ne,te){const D=c.attributes,W=Q.attributes;let j=0;const N=ne.getAttributes();for(const X in N)if(N[X].location>=0){const me=D[X];let ve=W[X];if(ve===void 0&&(X==="instanceMatrix"&&V.instanceMatrix&&(ve=V.instanceMatrix),X==="instanceColor"&&V.instanceColor&&(ve=V.instanceColor)),me===void 0||me.attribute!==ve||ve&&me.data!==ve.data)return!0;j++}return c.attributesNum!==j||c.index!==te}function x(V,Q,ne,te){const D={},W=Q.attributes;let j=0;const N=ne.getAttributes();for(const X in N)if(N[X].location>=0){let me=W[X];me===void 0&&(X==="instanceMatrix"&&V.instanceMatrix&&(me=V.instanceMatrix),X==="instanceColor"&&V.instanceColor&&(me=V.instanceColor));const ve={};ve.attribute=me,me&&me.data&&(ve.data=me.data),D[X]=ve,j++}c.attributes=D,c.attributesNum=j,c.index=te}function A(){const V=c.newAttributes;for(let Q=0,ne=V.length;Q<ne;Q++)V[Q]=0}function E(V){T(V,0)}function T(V,Q){const ne=c.newAttributes,te=c.enabledAttributes,D=c.attributeDivisors;ne[V]=1,te[V]===0&&(n.enableVertexAttribArray(V),te[V]=1),D[V]!==Q&&((i.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](V,Q),D[V]=Q)}function C(){const V=c.newAttributes,Q=c.enabledAttributes;for(let ne=0,te=Q.length;ne<te;ne++)Q[ne]!==V[ne]&&(n.disableVertexAttribArray(ne),Q[ne]=0)}function R(V,Q,ne,te,D,W,j){j===!0?n.vertexAttribIPointer(V,Q,ne,D,W):n.vertexAttribPointer(V,Q,ne,te,D,W)}function I(V,Q,ne,te){if(i.isWebGL2===!1&&(V.isInstancedMesh||te.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;A();const D=te.attributes,W=ne.getAttributes(),j=Q.defaultAttributeValues;for(const N in W){const X=W[N];if(X.location>=0){let ce=D[N];if(ce===void 0&&(N==="instanceMatrix"&&V.instanceMatrix&&(ce=V.instanceMatrix),N==="instanceColor"&&V.instanceColor&&(ce=V.instanceColor)),ce!==void 0){const me=ce.normalized,ve=ce.itemSize,Pe=t.get(ce);if(Pe===void 0)continue;const Le=Pe.buffer,Xe=Pe.type,pt=Pe.bytesPerElement,rt=i.isWebGL2===!0&&(Xe===n.INT||Xe===n.UNSIGNED_INT||ce.gpuType===f9);if(ce.isInterleavedBufferAttribute){const Me=ce.data,q=Me.stride,ge=ce.offset;if(Me.isInstancedInterleavedBuffer){for(let pe=0;pe<X.locationSize;pe++)T(X.location+pe,Me.meshPerAttribute);V.isInstancedMesh!==!0&&te._maxInstanceCount===void 0&&(te._maxInstanceCount=Me.meshPerAttribute*Me.count)}else for(let pe=0;pe<X.locationSize;pe++)E(X.location+pe);n.bindBuffer(n.ARRAY_BUFFER,Le);for(let pe=0;pe<X.locationSize;pe++)R(X.location+pe,ve/X.locationSize,Xe,me,q*pt,(ge+ve/X.locationSize*pe)*pt,rt)}else{if(ce.isInstancedBufferAttribute){for(let Me=0;Me<X.locationSize;Me++)T(X.location+Me,ce.meshPerAttribute);V.isInstancedMesh!==!0&&te._maxInstanceCount===void 0&&(te._maxInstanceCount=ce.meshPerAttribute*ce.count)}else for(let Me=0;Me<X.locationSize;Me++)E(X.location+Me);n.bindBuffer(n.ARRAY_BUFFER,Le);for(let Me=0;Me<X.locationSize;Me++)R(X.location+Me,ve/X.locationSize,Xe,me,ve*pt,ve/X.locationSize*Me*pt,rt)}}else if(j!==void 0){const me=j[N];if(me!==void 0)switch(me.length){case 2:n.vertexAttrib2fv(X.location,me);break;case 3:n.vertexAttrib3fv(X.location,me);break;case 4:n.vertexAttrib4fv(X.location,me);break;default:n.vertexAttrib1fv(X.location,me)}}}}C()}function P(){Y();for(const V in a){const Q=a[V];for(const ne in Q){const te=Q[ne];for(const D in te)v(te[D].object),delete te[D];delete Q[ne]}delete a[V]}}function B(V){if(a[V.id]===void 0)return;const Q=a[V.id];for(const ne in Q){const te=Q[ne];for(const D in te)v(te[D].object),delete te[D];delete Q[ne]}delete a[V.id]}function U(V){for(const Q in a){const ne=a[Q];if(ne[V.id]===void 0)continue;const te=ne[V.id];for(const D in te)v(te[D].object),delete te[D];delete ne[V.id]}}function Y(){ee(),h=!0,c!==l&&(c=l,m(c.object))}function ee(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:d,reset:Y,resetDefaultState:ee,dispose:P,releaseStatesOfGeometry:B,releaseStatesOfProgram:U,initAttributes:A,enableAttribute:E,disableUnusedAttributes:C}}function oW(n,e,t,i){const r=i.isWebGL2;let s;function o(c){s=c}function a(c,h){n.drawArrays(s,c,h),t.update(h,s,1)}function l(c,h,d){if(d===0)return;let p,m;if(r)p=n,m="drawArraysInstanced";else if(p=e.get("ANGLE_instanced_arrays"),m="drawArraysInstancedANGLE",p===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}p[m](s,c,h,d),t.update(h,s,d)}this.setMode=o,this.render=a,this.renderInstances=l}function aW(n,e,t){let i;function r(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const R=e.get("EXT_texture_filter_anisotropic");i=n.getParameter(R.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function s(R){if(R==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";R="mediump"}return R==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&n.constructor.name==="WebGL2RenderingContext";let a=t.precision!==void 0?t.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const c=o||e.has("WEBGL_draw_buffers"),h=t.logarithmicDepthBuffer===!0,d=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),p=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),m=n.getParameter(n.MAX_TEXTURE_SIZE),v=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),S=n.getParameter(n.MAX_VERTEX_ATTRIBS),_=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),g=n.getParameter(n.MAX_VARYING_VECTORS),x=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),A=p>0,E=o||e.has("OES_texture_float"),T=A&&E,C=o?n.getParameter(n.MAX_SAMPLES):0;return{isWebGL2:o,drawBuffers:c,getMaxAnisotropy:r,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:h,maxTextures:d,maxVertexTextures:p,maxTextureSize:m,maxCubemapSize:v,maxAttributes:S,maxVertexUniforms:_,maxVaryings:g,maxFragmentUniforms:x,vertexTextures:A,floatFragmentTextures:E,floatVertexTextures:T,maxSamples:C}}function lW(n){const e=this;let t=null,i=0,r=!1,s=!1;const o=new Zs,a=new Et,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(d,p){const m=d.length!==0||p||i!==0||r;return r=p,i=d.length,m},this.beginShadows=function(){s=!0,h(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(d,p){t=h(d,p,0)},this.setState=function(d,p,m){const v=d.clippingPlanes,S=d.clipIntersection,_=d.clipShadows,g=n.get(d);if(!r||v===null||v.length===0||s&&!_)s?h(null):c();else{const x=s?0:i,A=x*4;let E=g.clippingState||null;l.value=E,E=h(v,p,A,m);for(let T=0;T!==A;++T)E[T]=t[T];g.clippingState=E,this.numIntersection=S?this.numPlanes:0,this.numPlanes+=x}};function c(){l.value!==t&&(l.value=t,l.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function h(d,p,m,v){const S=d!==null?d.length:0;let _=null;if(S!==0){if(_=l.value,v!==!0||_===null){const g=m+S*4,x=p.matrixWorldInverse;a.getNormalMatrix(x),(_===null||_.length<g)&&(_=new Float32Array(g));for(let A=0,E=m;A!==S;++A,E+=4)o.copy(d[A]).applyMatrix4(x,a),o.normal.toArray(_,E),_[E+3]=o.constant}l.value=_,l.needsUpdate=!0}return e.numPlanes=S,e.numIntersection=0,_}}function cW(n){let e=new WeakMap;function t(o,a){return a===zh?o.mapping=po:a===Gh&&(o.mapping=da),o}function i(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){const a=o.mapping;if(a===zh||a===Gh)if(e.has(o)){const l=e.get(o).texture;return t(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const c=new Sb(l.height/2);return c.fromEquirectangularTexture(n,o),e.set(o,c),o.addEventListener("dispose",r),t(c.texture,o.mapping)}else return null}}return o}function r(o){const a=o.target;a.removeEventListener("dispose",r);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:i,dispose:s}}class Pr extends Ad{constructor(e=-1,t=1,i=1,r=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=r,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,i,r,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=i-e,o=i+e,a=r+t,l=r-t;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,h=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,o=s+c*this.view.width,a-=h*this.view.offsetY,l=a-h*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}const Kc=4,V_=[.125,.215,.35,.446,.526,.582],el=20,z5=new Pr,W_=new ze;let G5=null;const Qa=(1+Math.sqrt(5))/2,vc=1/Qa,j_=[new F(1,1,1),new F(-1,1,1),new F(1,1,-1),new F(-1,1,-1),new F(0,Qa,vc),new F(0,Qa,-vc),new F(vc,0,Qa),new F(-vc,0,Qa),new F(Qa,vc,0),new F(-Qa,vc,0)];class p8{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,i=.1,r=100){G5=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,i,r,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=J_(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=X_(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(G5),e.scissorTest=!1,w0(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===po||e.mapping===da?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),G5=this._renderer.getRenderTarget();const i=t||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,i={magFilter:hn,minFilter:hn,generateMipmaps:!1,type:Su,format:Ui,colorSpace:Is,depthBuffer:!1},r=q_(e,t,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=q_(e,t,i);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=uW(s)),this._blurMaterial=fW(s,e,t)}return r}_compileMaterial(e){const t=new Zn(this._lodPlanes[0],e);this._renderer.compile(t,z5)}_sceneToCubeUV(e,t,i,r){const a=new tn(90,1,t,i),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],h=this._renderer,d=h.autoClear,p=h.toneMapping;h.getClearColor(W_),h.toneMapping=Ts,h.autoClear=!1;const m=new tr({name:"PMREM.Background",side:xi,depthWrite:!1,depthTest:!1}),v=new Zn(new Fl,m);let S=!1;const _=e.background;_?_.isColor&&(m.color.copy(_),e.background=null,S=!0):(m.color.copy(W_),S=!0);for(let g=0;g<6;g++){const x=g%3;x===0?(a.up.set(0,l[g],0),a.lookAt(c[g],0,0)):x===1?(a.up.set(0,0,l[g]),a.lookAt(0,c[g],0)):(a.up.set(0,l[g],0),a.lookAt(0,0,c[g]));const A=this._cubeSize;w0(r,x*A,g>2?A:0,A,A),h.setRenderTarget(r),S&&h.render(v,a),h.render(e,a)}v.geometry.dispose(),v.material.dispose(),h.toneMapping=p,h.autoClear=d,e.background=_}_textureToCubeUV(e,t){const i=this._renderer,r=e.mapping===po||e.mapping===da;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=J_()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=X_());const s=r?this._cubemapMaterial:this._equirectMaterial,o=new Zn(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;w0(t,0,0,3*l,2*l),i.setRenderTarget(t),i.render(o,z5)}_applyPMREM(e){const t=this._renderer,i=t.autoClear;t.autoClear=!1;for(let r=1;r<this._lodPlanes.length;r++){const s=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),o=j_[(r-1)%j_.length];this._blur(e,r-1,r,s,o)}t.autoClear=i}_blur(e,t,i,r,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,i,r,"latitudinal",s),this._halfBlur(o,e,i,i,r,"longitudinal",s)}_halfBlur(e,t,i,r,s,o,a){const l=this._renderer,c=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const h=3,d=new Zn(this._lodPlanes[r],c),p=c.uniforms,m=this._sizeLods[i]-1,v=isFinite(s)?Math.PI/(2*m):2*Math.PI/(2*el-1),S=s/v,_=isFinite(s)?1+Math.floor(h*S):el;_>el&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${_} samples when the maximum is set to ${el}`);const g=[];let x=0;for(let R=0;R<el;++R){const I=R/S,P=Math.exp(-I*I/2);g.push(P),R===0?x+=P:R<_&&(x+=2*P)}for(let R=0;R<g.length;R++)g[R]=g[R]/x;p.envMap.value=e.texture,p.samples.value=_,p.weights.value=g,p.latitudinal.value=o==="latitudinal",a&&(p.poleAxis.value=a);const{_lodMax:A}=this;p.dTheta.value=v,p.mipInt.value=A-i;const E=this._sizeLods[r],T=3*E*(r>A-Kc?r-A+Kc:0),C=4*(this._cubeSize-E);w0(t,T,C,3*E,2*E),l.setRenderTarget(t),l.render(d,z5)}}function uW(n){const e=[],t=[],i=[];let r=n;const s=n-Kc+1+V_.length;for(let o=0;o<s;o++){const a=Math.pow(2,r);t.push(a);let l=1/a;o>n-Kc?l=V_[o-n+Kc-1]:o===0&&(l=0),i.push(l);const c=1/(a-2),h=-c,d=1+c,p=[h,h,d,h,d,d,h,h,d,d,h,d],m=6,v=6,S=3,_=2,g=1,x=new Float32Array(S*v*m),A=new Float32Array(_*v*m),E=new Float32Array(g*v*m);for(let C=0;C<m;C++){const R=C%3*2/3-1,I=C>2?0:-1,P=[R,I,0,R+2/3,I,0,R+2/3,I+1,0,R,I,0,R+2/3,I+1,0,R,I+1,0];x.set(P,S*v*C),A.set(p,_*v*C);const B=[C,C,C,C,C,C];E.set(B,g*v*C)}const T=new _t;T.setAttribute("position",new Dt(x,S)),T.setAttribute("uv",new Dt(A,_)),T.setAttribute("faceIndex",new Dt(E,g)),e.push(T),r>Kc&&r--}return{lodPlanes:e,sizeLods:t,sigmas:i}}function q_(n,e,t){const i=new ts(n,e,t);return i.texture.mapping=ku,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function w0(n,e,t,i,r){n.viewport.set(e,t,i,r),n.scissor.set(e,t,i,r)}function fW(n,e,t){const i=new Float32Array(el),r=new F(0,1,0);return new ns({name:"SphericalGaussianBlur",defines:{n:el,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:T9(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:lo,depthTest:!1,depthWrite:!1})}function X_(){return new ns({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:T9(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:lo,depthTest:!1,depthWrite:!1})}function J_(){return new ns({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:T9(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:lo,depthTest:!1,depthWrite:!1})}function T9(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function hW(n){let e=new WeakMap,t=null;function i(a){if(a&&a.isTexture){const l=a.mapping,c=l===zh||l===Gh,h=l===po||l===da;if(c||h)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let d=e.get(a);return t===null&&(t=new p8(n)),d=c?t.fromEquirectangular(a,d):t.fromCubemap(a,d),e.set(a,d),d.texture}else{if(e.has(a))return e.get(a).texture;{const d=a.image;if(c&&d&&d.height>0||h&&d&&r(d)){t===null&&(t=new p8(n));const p=c?t.fromEquirectangular(a):t.fromCubemap(a);return e.set(a,p),a.addEventListener("dispose",s),p.texture}else return null}}}return a}function r(a){let l=0;const c=6;for(let h=0;h<c;h++)a[h]!==void 0&&l++;return l===c}function s(a){const l=a.target;l.removeEventListener("dispose",s);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:i,dispose:o}}function dW(n){const e={};function t(i){if(e[i]!==void 0)return e[i];let r;switch(i){case"WEBGL_depth_texture":r=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=n.getExtension(i)}return e[i]=r,r}return{has:function(i){return t(i)!==null},init:function(i){i.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(i){const r=t(i);return r===null&&console.warn("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function pW(n,e,t,i){const r={},s=new WeakMap;function o(d){const p=d.target;p.index!==null&&e.remove(p.index);for(const v in p.attributes)e.remove(p.attributes[v]);for(const v in p.morphAttributes){const S=p.morphAttributes[v];for(let _=0,g=S.length;_<g;_++)e.remove(S[_])}p.removeEventListener("dispose",o),delete r[p.id];const m=s.get(p);m&&(e.remove(m),s.delete(p)),i.releaseStatesOfGeometry(p),p.isInstancedBufferGeometry===!0&&delete p._maxInstanceCount,t.memory.geometries--}function a(d,p){return r[p.id]===!0||(p.addEventListener("dispose",o),r[p.id]=!0,t.memory.geometries++),p}function l(d){const p=d.attributes;for(const v in p)e.update(p[v],n.ARRAY_BUFFER);const m=d.morphAttributes;for(const v in m){const S=m[v];for(let _=0,g=S.length;_<g;_++)e.update(S[_],n.ARRAY_BUFFER)}}function c(d){const p=[],m=d.index,v=d.attributes.position;let S=0;if(m!==null){const x=m.array;S=m.version;for(let A=0,E=x.length;A<E;A+=3){const T=x[A+0],C=x[A+1],R=x[A+2];p.push(T,C,C,R,R,T)}}else if(v!==void 0){const x=v.array;S=v.version;for(let A=0,E=x.length/3-1;A<E;A+=3){const T=A+0,C=A+1,R=A+2;p.push(T,C,C,R,R,T)}}else return;const _=new(gb(p)?E9:M9)(p,1);_.version=S;const g=s.get(d);g&&e.remove(g),s.set(d,_)}function h(d){const p=s.get(d);if(p){const m=d.index;m!==null&&p.version<m.version&&c(d)}else c(d);return s.get(d)}return{get:a,update:l,getWireframeAttribute:h}}function mW(n,e,t,i){const r=i.isWebGL2;let s;function o(p){s=p}let a,l;function c(p){a=p.type,l=p.bytesPerElement}function h(p,m){n.drawElements(s,m,a,p*l),t.update(m,s,1)}function d(p,m,v){if(v===0)return;let S,_;if(r)S=n,_="drawElementsInstanced";else if(S=e.get("ANGLE_instanced_arrays"),_="drawElementsInstancedANGLE",S===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}S[_](s,m,a,p*l,v),t.update(m,s,v)}this.setMode=o,this.setIndex=c,this.render=h,this.renderInstances=d}function gW(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function i(s,o,a){switch(t.calls++,o){case n.TRIANGLES:t.triangles+=a*(s/3);break;case n.LINES:t.lines+=a*(s/2);break;case n.LINE_STRIP:t.lines+=a*(s-1);break;case n.LINE_LOOP:t.lines+=a*s;break;case n.POINTS:t.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function r(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:r,update:i}}function vW(n,e){return n[0]-e[0]}function yW(n,e){return Math.abs(e[1])-Math.abs(n[1])}function xW(n,e,t){const i={},r=new Float32Array(8),s=new WeakMap,o=new Wt,a=[];for(let c=0;c<8;c++)a[c]=[c,0];function l(c,h,d){const p=c.morphTargetInfluences;if(e.isWebGL2===!0){const v=h.morphAttributes.position||h.morphAttributes.normal||h.morphAttributes.color,S=v!==void 0?v.length:0;let _=s.get(h);if(_===void 0||_.count!==S){let Q=function(){ee.dispose(),s.delete(h),h.removeEventListener("dispose",Q)};var m=Q;_!==void 0&&_.texture.dispose();const A=h.morphAttributes.position!==void 0,E=h.morphAttributes.normal!==void 0,T=h.morphAttributes.color!==void 0,C=h.morphAttributes.position||[],R=h.morphAttributes.normal||[],I=h.morphAttributes.color||[];let P=0;A===!0&&(P=1),E===!0&&(P=2),T===!0&&(P=3);let B=h.attributes.position.count*P,U=1;B>e.maxTextureSize&&(U=Math.ceil(B/e.maxTextureSize),B=e.maxTextureSize);const Y=new Float32Array(B*U*4*S),ee=new nm(Y,B,U,S);ee.type=As,ee.needsUpdate=!0;const V=P*4;for(let ne=0;ne<S;ne++){const te=C[ne],D=R[ne],W=I[ne],j=B*U*4*ne;for(let N=0;N<te.count;N++){const X=N*V;A===!0&&(o.fromBufferAttribute(te,N),Y[j+X+0]=o.x,Y[j+X+1]=o.y,Y[j+X+2]=o.z,Y[j+X+3]=0),E===!0&&(o.fromBufferAttribute(D,N),Y[j+X+4]=o.x,Y[j+X+5]=o.y,Y[j+X+6]=o.z,Y[j+X+7]=0),T===!0&&(o.fromBufferAttribute(W,N),Y[j+X+8]=o.x,Y[j+X+9]=o.y,Y[j+X+10]=o.z,Y[j+X+11]=W.itemSize===4?o.w:1)}}_={count:S,texture:ee,size:new de(B,U)},s.set(h,_),h.addEventListener("dispose",Q)}let g=0;for(let A=0;A<p.length;A++)g+=p[A];const x=h.morphTargetsRelative?1:1-g;d.getUniforms().setValue(n,"morphTargetBaseInfluence",x),d.getUniforms().setValue(n,"morphTargetInfluences",p),d.getUniforms().setValue(n,"morphTargetsTexture",_.texture,t),d.getUniforms().setValue(n,"morphTargetsTextureSize",_.size)}else{const v=p===void 0?0:p.length;let S=i[h.id];if(S===void 0||S.length!==v){S=[];for(let E=0;E<v;E++)S[E]=[E,0];i[h.id]=S}for(let E=0;E<v;E++){const T=S[E];T[0]=E,T[1]=p[E]}S.sort(yW);for(let E=0;E<8;E++)E<v&&S[E][1]?(a[E][0]=S[E][0],a[E][1]=S[E][1]):(a[E][0]=Number.MAX_SAFE_INTEGER,a[E][1]=0);a.sort(vW);const _=h.morphAttributes.position,g=h.morphAttributes.normal;let x=0;for(let E=0;E<8;E++){const T=a[E],C=T[0],R=T[1];C!==Number.MAX_SAFE_INTEGER&&R?(_&&h.getAttribute("morphTarget"+E)!==_[C]&&h.setAttribute("morphTarget"+E,_[C]),g&&h.getAttribute("morphNormal"+E)!==g[C]&&h.setAttribute("morphNormal"+E,g[C]),r[E]=R,x+=R):(_&&h.hasAttribute("morphTarget"+E)===!0&&h.deleteAttribute("morphTarget"+E),g&&h.hasAttribute("morphNormal"+E)===!0&&h.deleteAttribute("morphNormal"+E),r[E]=0)}const A=h.morphTargetsRelative?1:1-x;d.getUniforms().setValue(n,"morphTargetBaseInfluence",A),d.getUniforms().setValue(n,"morphTargetInfluences",r)}}return{update:l}}function _W(n,e,t,i){let r=new WeakMap;function s(l){const c=i.render.frame,h=l.geometry,d=e.get(l,h);if(r.get(d)!==c&&(e.update(d),r.set(d,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),r.get(l)!==c&&(t.update(l.instanceMatrix,n.ARRAY_BUFFER),l.instanceColor!==null&&t.update(l.instanceColor,n.ARRAY_BUFFER),r.set(l,c))),l.isSkinnedMesh){const p=l.skeleton;r.get(p)!==c&&(p.update(),r.set(p,c))}return d}function o(){r=new WeakMap}function a(l){const c=l.target;c.removeEventListener("dispose",a),t.remove(c.instanceMatrix),c.instanceColor!==null&&t.remove(c.instanceColor)}return{update:s,dispose:o}}const Eb=new ln,wb=new nm,Tb=new S9,Cb=new Sd,K_=[],Y_=[],Q_=new Float32Array(16),Z_=new Float32Array(9),$_=new Float32Array(4);function Hu(n,e,t){const i=n[0];if(i<=0||i>0)return n;const r=e*t;let s=K_[r];if(s===void 0&&(s=new Float32Array(r),K_[r]=s),e!==0){i.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=t,n[o].toArray(s,a)}return s}function jn(n,e){if(n.length!==e.length)return!1;for(let t=0,i=n.length;t<i;t++)if(n[t]!==e[t])return!1;return!0}function qn(n,e){for(let t=0,i=e.length;t<i;t++)n[t]=e[t]}function rm(n,e){let t=Y_[e];t===void 0&&(t=new Int32Array(e),Y_[e]=t);for(let i=0;i!==e;++i)t[i]=n.allocateTextureUnit();return t}function AW(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function SW(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(jn(t,e))return;n.uniform2fv(this.addr,e),qn(t,e)}}function MW(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(jn(t,e))return;n.uniform3fv(this.addr,e),qn(t,e)}}function EW(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(jn(t,e))return;n.uniform4fv(this.addr,e),qn(t,e)}}function wW(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(jn(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),qn(t,e)}else{if(jn(t,i))return;$_.set(i),n.uniformMatrix2fv(this.addr,!1,$_),qn(t,i)}}function TW(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(jn(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),qn(t,e)}else{if(jn(t,i))return;Z_.set(i),n.uniformMatrix3fv(this.addr,!1,Z_),qn(t,i)}}function CW(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(jn(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),qn(t,e)}else{if(jn(t,i))return;Q_.set(i),n.uniformMatrix4fv(this.addr,!1,Q_),qn(t,i)}}function bW(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function PW(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(jn(t,e))return;n.uniform2iv(this.addr,e),qn(t,e)}}function RW(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(jn(t,e))return;n.uniform3iv(this.addr,e),qn(t,e)}}function BW(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(jn(t,e))return;n.uniform4iv(this.addr,e),qn(t,e)}}function IW(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function LW(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(jn(t,e))return;n.uniform2uiv(this.addr,e),qn(t,e)}}function DW(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(jn(t,e))return;n.uniform3uiv(this.addr,e),qn(t,e)}}function FW(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(jn(t,e))return;n.uniform4uiv(this.addr,e),qn(t,e)}}function NW(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2D(e||Eb,r)}function OW(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture3D(e||Tb,r)}function UW(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTextureCube(e||Cb,r)}function kW(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2DArray(e||wb,r)}function HW(n){switch(n){case 5126:return AW;case 35664:return SW;case 35665:return MW;case 35666:return EW;case 35674:return wW;case 35675:return TW;case 35676:return CW;case 5124:case 35670:return bW;case 35667:case 35671:return PW;case 35668:case 35672:return RW;case 35669:case 35673:return BW;case 5125:return IW;case 36294:return LW;case 36295:return DW;case 36296:return FW;case 35678:case 36198:case 36298:case 36306:case 35682:return NW;case 35679:case 36299:case 36307:return OW;case 35680:case 36300:case 36308:case 36293:return UW;case 36289:case 36303:case 36311:case 36292:return kW}}function zW(n,e){n.uniform1fv(this.addr,e)}function GW(n,e){const t=Hu(e,this.size,2);n.uniform2fv(this.addr,t)}function VW(n,e){const t=Hu(e,this.size,3);n.uniform3fv(this.addr,t)}function WW(n,e){const t=Hu(e,this.size,4);n.uniform4fv(this.addr,t)}function jW(n,e){const t=Hu(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function qW(n,e){const t=Hu(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function XW(n,e){const t=Hu(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function JW(n,e){n.uniform1iv(this.addr,e)}function KW(n,e){n.uniform2iv(this.addr,e)}function YW(n,e){n.uniform3iv(this.addr,e)}function QW(n,e){n.uniform4iv(this.addr,e)}function ZW(n,e){n.uniform1uiv(this.addr,e)}function $W(n,e){n.uniform2uiv(this.addr,e)}function ej(n,e){n.uniform3uiv(this.addr,e)}function tj(n,e){n.uniform4uiv(this.addr,e)}function nj(n,e,t){const i=this.cache,r=e.length,s=rm(t,r);jn(i,s)||(n.uniform1iv(this.addr,s),qn(i,s));for(let o=0;o!==r;++o)t.setTexture2D(e[o]||Eb,s[o])}function ij(n,e,t){const i=this.cache,r=e.length,s=rm(t,r);jn(i,s)||(n.uniform1iv(this.addr,s),qn(i,s));for(let o=0;o!==r;++o)t.setTexture3D(e[o]||Tb,s[o])}function rj(n,e,t){const i=this.cache,r=e.length,s=rm(t,r);jn(i,s)||(n.uniform1iv(this.addr,s),qn(i,s));for(let o=0;o!==r;++o)t.setTextureCube(e[o]||Cb,s[o])}function sj(n,e,t){const i=this.cache,r=e.length,s=rm(t,r);jn(i,s)||(n.uniform1iv(this.addr,s),qn(i,s));for(let o=0;o!==r;++o)t.setTexture2DArray(e[o]||wb,s[o])}function oj(n){switch(n){case 5126:return zW;case 35664:return GW;case 35665:return VW;case 35666:return WW;case 35674:return jW;case 35675:return qW;case 35676:return XW;case 5124:case 35670:return JW;case 35667:case 35671:return KW;case 35668:case 35672:return YW;case 35669:case 35673:return QW;case 5125:return ZW;case 36294:return $W;case 36295:return ej;case 36296:return tj;case 35678:case 36198:case 36298:case 36306:case 35682:return nj;case 35679:case 36299:case 36307:return ij;case 35680:case 36300:case 36308:case 36293:return rj;case 36289:case 36303:case 36311:case 36292:return sj}}class aj{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.setValue=HW(t.type)}}class lj{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.size=t.size,this.setValue=oj(t.type)}}class cj{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,i){const r=this.seq;for(let s=0,o=r.length;s!==o;++s){const a=r[s];a.setValue(e,t[a.id],i)}}}const V5=/(\w+)(\])?(\[|\.)?/g;function eA(n,e){n.seq.push(e),n.map[e.id]=e}function uj(n,e,t){const i=n.name,r=i.length;for(V5.lastIndex=0;;){const s=V5.exec(i),o=V5.lastIndex;let a=s[1];const l=s[2]==="]",c=s[3];if(l&&(a=a|0),c===void 0||c==="["&&o+2===r){eA(t,c===void 0?new aj(a,n,e):new lj(a,n,e));break}else{let d=t.map[a];d===void 0&&(d=new cj(a),eA(t,d)),t=d}}}class Ep{constructor(e,t){this.seq=[],this.map={};const i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let r=0;r<i;++r){const s=e.getActiveUniform(t,r),o=e.getUniformLocation(t,s.name);uj(s,o,this)}}setValue(e,t,i,r){const s=this.map[t];s!==void 0&&s.setValue(e,i,r)}setOptional(e,t,i){const r=t[i];r!==void 0&&this.setValue(e,i,r)}static upload(e,t,i,r){for(let s=0,o=t.length;s!==o;++s){const a=t[s],l=i[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,r)}}static seqWithValue(e,t){const i=[];for(let r=0,s=e.length;r!==s;++r){const o=e[r];o.id in t&&i.push(o)}return i}}function tA(n,e,t){const i=n.createShader(e);return n.shaderSource(i,t),n.compileShader(i),i}let fj=0;function hj(n,e){const t=n.split(`
`),i=[],r=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let o=r;o<s;o++){const a=o+1;i.push(`${a===e?">":" "} ${a}: ${t[o]}`)}return i.join(`
`)}function dj(n){const e=Vt.getPrimaries(Vt.workingColorSpace),t=Vt.getPrimaries(n);let i;switch(e===t?i="":e===Xh&&t===qh?i="LinearDisplayP3ToLinearSRGB":e===qh&&t===Xh&&(i="LinearSRGBToLinearDisplayP3"),n){case Is:case xd:return[i,"LinearTransferOETF"];case Vn:case tm:return[i,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",n),[i,"LinearTransferOETF"]}}function nA(n,e,t){const i=n.getShaderParameter(e,n.COMPILE_STATUS),r=n.getShaderInfoLog(e).trim();if(i&&r==="")return"";const s=/ERROR: 0:(\d+)/.exec(r);if(s){const o=parseInt(s[1]);return t.toUpperCase()+`

`+r+`

`+hj(n.getShaderSource(e),o)}else return r}function pj(n,e){const t=dj(e);return`vec4 ${n}( vec4 value ) { return ${t[0]}( ${t[1]}( value ) ); }`}function mj(n,e){let t;switch(e){case HC:t="Linear";break;case zC:t="Reinhard";break;case GC:t="OptimizedCineon";break;case u9:t="ACESFilmic";break;case VC:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function gj(n){return[n.extensionDerivatives||n.envMapCubeUVHeight||n.bumpMap||n.normalMapTangentSpace||n.clearcoatNormalMap||n.flatShading||n.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(qf).join(`
`)}function vj(n){const e=[];for(const t in n){const i=n[t];i!==!1&&e.push("#define "+t+" "+i)}return e.join(`
`)}function yj(n,e){const t={},i=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){const s=n.getActiveAttrib(e,r),o=s.name;let a=1;s.type===n.FLOAT_MAT2&&(a=2),s.type===n.FLOAT_MAT3&&(a=3),s.type===n.FLOAT_MAT4&&(a=4),t[o]={type:s.type,location:n.getAttribLocation(e,o),locationSize:a}}return t}function qf(n){return n!==""}function iA(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function rA(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const xj=/^[ \t]*#include +<([\w\d./]+)>/gm;function m8(n){return n.replace(xj,Aj)}const _j=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function Aj(n,e){let t=At[e];if(t===void 0){const i=_j.get(e);if(i!==void 0)t=At[i],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,i);else throw new Error("Can not resolve #include <"+e+">")}return m8(t)}const Sj=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function sA(n){return n.replace(Sj,Mj)}function Mj(n,e,t,i){let r="";for(let s=parseInt(e);s<parseInt(t);s++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function oA(n){let e="precision "+n.precision+` float;
precision `+n.precision+" int;";return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function Ej(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===Y2?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===uh?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===Wr&&(e="SHADOWMAP_TYPE_VSM"),e}function wj(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case po:case da:e="ENVMAP_TYPE_CUBE";break;case ku:e="ENVMAP_TYPE_CUBE_UV";break}return e}function Tj(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case da:e="ENVMAP_MODE_REFRACTION";break}return e}function Cj(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case yd:e="ENVMAP_BLENDING_MULTIPLY";break;case UC:e="ENVMAP_BLENDING_MIX";break;case kC:e="ENVMAP_BLENDING_ADD";break}return e}function bj(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:i,maxMip:t}}function Pj(n,e,t,i){const r=n.getContext(),s=t.defines;let o=t.vertexShader,a=t.fragmentShader;const l=Ej(t),c=wj(t),h=Tj(t),d=Cj(t),p=bj(t),m=t.isWebGL2?"":gj(t),v=vj(s),S=r.createProgram();let _,g,x=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(_=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,v].filter(qf).join(`
`),_.length>0&&(_+=`
`),g=[m,"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,v].filter(qf).join(`
`),g.length>0&&(g+=`
`)):(_=[oA(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,v,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+h:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(qf).join(`
`),g=[m,oA(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,v,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+h:"",t.envMap?"#define "+d:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Ts?"#define TONE_MAPPING":"",t.toneMapping!==Ts?At.tonemapping_pars_fragment:"",t.toneMapping!==Ts?mj("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",At.colorspace_pars_fragment,pj("linearToOutputTexel",t.outputColorSpace),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(qf).join(`
`)),o=m8(o),o=iA(o,t),o=rA(o,t),a=m8(a),a=iA(a,t),a=rA(a,t),o=sA(o),a=sA(a),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(x=`#version 300 es
`,_=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+_,g=["#define varying in",t.glslVersion===h8?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===h8?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+g);const A=x+_+o,E=x+g+a,T=tA(r,r.VERTEX_SHADER,A),C=tA(r,r.FRAGMENT_SHADER,E);if(r.attachShader(S,T),r.attachShader(S,C),t.index0AttributeName!==void 0?r.bindAttribLocation(S,0,t.index0AttributeName):t.morphTargets===!0&&r.bindAttribLocation(S,0,"position"),r.linkProgram(S),n.debug.checkShaderErrors){const P=r.getProgramInfoLog(S).trim(),B=r.getShaderInfoLog(T).trim(),U=r.getShaderInfoLog(C).trim();let Y=!0,ee=!0;if(r.getProgramParameter(S,r.LINK_STATUS)===!1)if(Y=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(r,S,T,C);else{const V=nA(r,T,"vertex"),Q=nA(r,C,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(S,r.VALIDATE_STATUS)+`

Program Info Log: `+P+`
`+V+`
`+Q)}else P!==""?console.warn("THREE.WebGLProgram: Program Info Log:",P):(B===""||U==="")&&(ee=!1);ee&&(this.diagnostics={runnable:Y,programLog:P,vertexShader:{log:B,prefix:_},fragmentShader:{log:U,prefix:g}})}r.deleteShader(T),r.deleteShader(C);let R;this.getUniforms=function(){return R===void 0&&(R=new Ep(r,S)),R};let I;return this.getAttributes=function(){return I===void 0&&(I=yj(r,S)),I},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(S),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=fj++,this.cacheKey=e,this.usedTimes=1,this.program=S,this.vertexShader=T,this.fragmentShader=C,this}let Rj=0;class Bj{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,i=e.fragmentShader,r=this._getShaderStage(t),s=this._getShaderStage(i),o=this._getShaderCacheForMaterial(e);return o.has(r)===!1&&(o.add(r),r.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const i of t)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let i=t.get(e);return i===void 0&&(i=new Set,t.set(e,i)),i}_getShaderStage(e){const t=this.shaderCache;let i=t.get(e);return i===void 0&&(i=new Ij(e),t.set(e,i)),i}}class Ij{constructor(e){this.id=Rj++,this.code=e,this.usedTimes=0}}function Lj(n,e,t,i,r,s,o){const a=new gl,l=new Bj,c=[],h=r.isWebGL2,d=r.logarithmicDepthBuffer,p=r.vertexTextures;let m=r.precision;const v={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function S(P){return P===0?"uv":`uv${P}`}function _(P,B,U,Y,ee){const V=Y.fog,Q=ee.geometry,ne=P.isMeshStandardMaterial?Y.environment:null,te=(P.isMeshStandardMaterial?t:e).get(P.envMap||ne),D=te&&te.mapping===ku?te.image.height:null,W=v[P.type];P.precision!==null&&(m=r.getMaxPrecision(P.precision),m!==P.precision&&console.warn("THREE.WebGLProgram.getParameters:",P.precision,"not supported, using",m,"instead."));const j=Q.morphAttributes.position||Q.morphAttributes.normal||Q.morphAttributes.color,N=j!==void 0?j.length:0;let X=0;Q.morphAttributes.position!==void 0&&(X=1),Q.morphAttributes.normal!==void 0&&(X=2),Q.morphAttributes.color!==void 0&&(X=3);let ce,me,ve,Pe;if(W){const Bt=Xr[W];ce=Bt.vertexShader,me=Bt.fragmentShader}else ce=P.vertexShader,me=P.fragmentShader,l.update(P),ve=l.getVertexShaderID(P),Pe=l.getFragmentShaderID(P);const Le=n.getRenderTarget(),Xe=ee.isInstancedMesh===!0,pt=!!P.map,rt=!!P.matcap,Me=!!te,q=!!P.aoMap,ge=!!P.lightMap,pe=!!P.bumpMap,Ee=!!P.normalMap,ye=!!P.displacementMap,We=!!P.emissiveMap,He=!!P.metalnessMap,Ve=!!P.roughnessMap,et=P.anisotropy>0,xt=P.clearcoat>0,Ht=P.iridescence>0,G=P.sheen>0,L=P.transmission>0,oe=et&&!!P.anisotropyMap,Te=xt&&!!P.clearcoatMap,xe=xt&&!!P.clearcoatNormalMap,be=xt&&!!P.clearcoatRoughnessMap,Ye=Ht&&!!P.iridescenceMap,Ie=Ht&&!!P.iridescenceThicknessMap,Oe=G&&!!P.sheenColorMap,ot=G&&!!P.sheenRoughnessMap,Ct=!!P.specularMap,Re=!!P.specularColorMap,Rt=!!P.specularIntensityMap,K=L&&!!P.transmissionMap,ue=L&&!!P.thicknessMap,Se=!!P.gradientMap,z=!!P.alphaMap,Ae=P.alphaTest>0,we=!!P.alphaHash,Ne=!!P.extensions,Ue=!!Q.attributes.uv1,_e=!!Q.attributes.uv2,je=!!Q.attributes.uv3;let tt=Ts;return P.toneMapped&&(Le===null||Le.isXRRenderTarget===!0)&&(tt=n.toneMapping),{isWebGL2:h,shaderID:W,shaderType:P.type,shaderName:P.name,vertexShader:ce,fragmentShader:me,defines:P.defines,customVertexShaderID:ve,customFragmentShaderID:Pe,isRawShaderMaterial:P.isRawShaderMaterial===!0,glslVersion:P.glslVersion,precision:m,instancing:Xe,instancingColor:Xe&&ee.instanceColor!==null,supportsVertexTextures:p,outputColorSpace:Le===null?n.outputColorSpace:Le.isXRRenderTarget===!0?Le.texture.colorSpace:Is,map:pt,matcap:rt,envMap:Me,envMapMode:Me&&te.mapping,envMapCubeUVHeight:D,aoMap:q,lightMap:ge,bumpMap:pe,normalMap:Ee,displacementMap:p&&ye,emissiveMap:We,normalMapObjectSpace:Ee&&P.normalMapType===sb,normalMapTangentSpace:Ee&&P.normalMapType===Aa,metalnessMap:He,roughnessMap:Ve,anisotropy:et,anisotropyMap:oe,clearcoat:xt,clearcoatMap:Te,clearcoatNormalMap:xe,clearcoatRoughnessMap:be,iridescence:Ht,iridescenceMap:Ye,iridescenceThicknessMap:Ie,sheen:G,sheenColorMap:Oe,sheenRoughnessMap:ot,specularMap:Ct,specularColorMap:Re,specularIntensityMap:Rt,transmission:L,transmissionMap:K,thicknessMap:ue,gradientMap:Se,opaque:P.transparent===!1&&P.blending===dl,alphaMap:z,alphaTest:Ae,alphaHash:we,combine:P.combine,mapUv:pt&&S(P.map.channel),aoMapUv:q&&S(P.aoMap.channel),lightMapUv:ge&&S(P.lightMap.channel),bumpMapUv:pe&&S(P.bumpMap.channel),normalMapUv:Ee&&S(P.normalMap.channel),displacementMapUv:ye&&S(P.displacementMap.channel),emissiveMapUv:We&&S(P.emissiveMap.channel),metalnessMapUv:He&&S(P.metalnessMap.channel),roughnessMapUv:Ve&&S(P.roughnessMap.channel),anisotropyMapUv:oe&&S(P.anisotropyMap.channel),clearcoatMapUv:Te&&S(P.clearcoatMap.channel),clearcoatNormalMapUv:xe&&S(P.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:be&&S(P.clearcoatRoughnessMap.channel),iridescenceMapUv:Ye&&S(P.iridescenceMap.channel),iridescenceThicknessMapUv:Ie&&S(P.iridescenceThicknessMap.channel),sheenColorMapUv:Oe&&S(P.sheenColorMap.channel),sheenRoughnessMapUv:ot&&S(P.sheenRoughnessMap.channel),specularMapUv:Ct&&S(P.specularMap.channel),specularColorMapUv:Re&&S(P.specularColorMap.channel),specularIntensityMapUv:Rt&&S(P.specularIntensityMap.channel),transmissionMapUv:K&&S(P.transmissionMap.channel),thicknessMapUv:ue&&S(P.thicknessMap.channel),alphaMapUv:z&&S(P.alphaMap.channel),vertexTangents:!!Q.attributes.tangent&&(Ee||et),vertexColors:P.vertexColors,vertexAlphas:P.vertexColors===!0&&!!Q.attributes.color&&Q.attributes.color.itemSize===4,vertexUv1s:Ue,vertexUv2s:_e,vertexUv3s:je,pointsUvs:ee.isPoints===!0&&!!Q.attributes.uv&&(pt||z),fog:!!V,useFog:P.fog===!0,fogExp2:V&&V.isFogExp2,flatShading:P.flatShading===!0,sizeAttenuation:P.sizeAttenuation===!0,logarithmicDepthBuffer:d,skinning:ee.isSkinnedMesh===!0,morphTargets:Q.morphAttributes.position!==void 0,morphNormals:Q.morphAttributes.normal!==void 0,morphColors:Q.morphAttributes.color!==void 0,morphTargetsCount:N,morphTextureStride:X,numDirLights:B.directional.length,numPointLights:B.point.length,numSpotLights:B.spot.length,numSpotLightMaps:B.spotLightMap.length,numRectAreaLights:B.rectArea.length,numHemiLights:B.hemi.length,numDirLightShadows:B.directionalShadowMap.length,numPointLightShadows:B.pointShadowMap.length,numSpotLightShadows:B.spotShadowMap.length,numSpotLightShadowsWithMaps:B.numSpotLightShadowsWithMaps,numLightProbes:B.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:P.dithering,shadowMapEnabled:n.shadowMap.enabled&&U.length>0,shadowMapType:n.shadowMap.type,toneMapping:tt,useLegacyLights:n._useLegacyLights,decodeVideoTexture:pt&&P.map.isVideoTexture===!0&&Vt.getTransfer(P.map.colorSpace)===Kt,premultipliedAlpha:P.premultipliedAlpha,doubleSided:P.side===Tr,flipSided:P.side===xi,useDepthPacking:P.depthPacking>=0,depthPacking:P.depthPacking||0,index0AttributeName:P.index0AttributeName,extensionDerivatives:Ne&&P.extensions.derivatives===!0,extensionFragDepth:Ne&&P.extensions.fragDepth===!0,extensionDrawBuffers:Ne&&P.extensions.drawBuffers===!0,extensionShaderTextureLOD:Ne&&P.extensions.shaderTextureLOD===!0,rendererExtensionFragDepth:h||i.has("EXT_frag_depth"),rendererExtensionDrawBuffers:h||i.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:h||i.has("EXT_shader_texture_lod"),customProgramCacheKey:P.customProgramCacheKey()}}function g(P){const B=[];if(P.shaderID?B.push(P.shaderID):(B.push(P.customVertexShaderID),B.push(P.customFragmentShaderID)),P.defines!==void 0)for(const U in P.defines)B.push(U),B.push(P.defines[U]);return P.isRawShaderMaterial===!1&&(x(B,P),A(B,P),B.push(n.outputColorSpace)),B.push(P.customProgramCacheKey),B.join()}function x(P,B){P.push(B.precision),P.push(B.outputColorSpace),P.push(B.envMapMode),P.push(B.envMapCubeUVHeight),P.push(B.mapUv),P.push(B.alphaMapUv),P.push(B.lightMapUv),P.push(B.aoMapUv),P.push(B.bumpMapUv),P.push(B.normalMapUv),P.push(B.displacementMapUv),P.push(B.emissiveMapUv),P.push(B.metalnessMapUv),P.push(B.roughnessMapUv),P.push(B.anisotropyMapUv),P.push(B.clearcoatMapUv),P.push(B.clearcoatNormalMapUv),P.push(B.clearcoatRoughnessMapUv),P.push(B.iridescenceMapUv),P.push(B.iridescenceThicknessMapUv),P.push(B.sheenColorMapUv),P.push(B.sheenRoughnessMapUv),P.push(B.specularMapUv),P.push(B.specularColorMapUv),P.push(B.specularIntensityMapUv),P.push(B.transmissionMapUv),P.push(B.thicknessMapUv),P.push(B.combine),P.push(B.fogExp2),P.push(B.sizeAttenuation),P.push(B.morphTargetsCount),P.push(B.morphAttributeCount),P.push(B.numDirLights),P.push(B.numPointLights),P.push(B.numSpotLights),P.push(B.numSpotLightMaps),P.push(B.numHemiLights),P.push(B.numRectAreaLights),P.push(B.numDirLightShadows),P.push(B.numPointLightShadows),P.push(B.numSpotLightShadows),P.push(B.numSpotLightShadowsWithMaps),P.push(B.numLightProbes),P.push(B.shadowMapType),P.push(B.toneMapping),P.push(B.numClippingPlanes),P.push(B.numClipIntersection),P.push(B.depthPacking)}function A(P,B){a.disableAll(),B.isWebGL2&&a.enable(0),B.supportsVertexTextures&&a.enable(1),B.instancing&&a.enable(2),B.instancingColor&&a.enable(3),B.matcap&&a.enable(4),B.envMap&&a.enable(5),B.normalMapObjectSpace&&a.enable(6),B.normalMapTangentSpace&&a.enable(7),B.clearcoat&&a.enable(8),B.iridescence&&a.enable(9),B.alphaTest&&a.enable(10),B.vertexColors&&a.enable(11),B.vertexAlphas&&a.enable(12),B.vertexUv1s&&a.enable(13),B.vertexUv2s&&a.enable(14),B.vertexUv3s&&a.enable(15),B.vertexTangents&&a.enable(16),B.anisotropy&&a.enable(17),P.push(a.mask),a.disableAll(),B.fog&&a.enable(0),B.useFog&&a.enable(1),B.flatShading&&a.enable(2),B.logarithmicDepthBuffer&&a.enable(3),B.skinning&&a.enable(4),B.morphTargets&&a.enable(5),B.morphNormals&&a.enable(6),B.morphColors&&a.enable(7),B.premultipliedAlpha&&a.enable(8),B.shadowMapEnabled&&a.enable(9),B.useLegacyLights&&a.enable(10),B.doubleSided&&a.enable(11),B.flipSided&&a.enable(12),B.useDepthPacking&&a.enable(13),B.dithering&&a.enable(14),B.transmission&&a.enable(15),B.sheen&&a.enable(16),B.opaque&&a.enable(17),B.pointsUvs&&a.enable(18),B.decodeVideoTexture&&a.enable(19),P.push(a.mask)}function E(P){const B=v[P.type];let U;if(B){const Y=Xr[B];U=w9.clone(Y.uniforms)}else U=P.uniforms;return U}function T(P,B){let U;for(let Y=0,ee=c.length;Y<ee;Y++){const V=c[Y];if(V.cacheKey===B){U=V,++U.usedTimes;break}}return U===void 0&&(U=new Pj(n,B,P,s),c.push(U)),U}function C(P){if(--P.usedTimes===0){const B=c.indexOf(P);c[B]=c[c.length-1],c.pop(),P.destroy()}}function R(P){l.remove(P)}function I(){l.dispose()}return{getParameters:_,getProgramCacheKey:g,getUniforms:E,acquireProgram:T,releaseProgram:C,releaseShaderCache:R,programs:c,dispose:I}}function Dj(){let n=new WeakMap;function e(s){let o=n.get(s);return o===void 0&&(o={},n.set(s,o)),o}function t(s){n.delete(s)}function i(s,o,a){n.get(s)[o]=a}function r(){n=new WeakMap}return{get:e,remove:t,update:i,dispose:r}}function Fj(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function aA(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function lA(){const n=[];let e=0;const t=[],i=[],r=[];function s(){e=0,t.length=0,i.length=0,r.length=0}function o(d,p,m,v,S,_){let g=n[e];return g===void 0?(g={id:d.id,object:d,geometry:p,material:m,groupOrder:v,renderOrder:d.renderOrder,z:S,group:_},n[e]=g):(g.id=d.id,g.object=d,g.geometry=p,g.material=m,g.groupOrder=v,g.renderOrder=d.renderOrder,g.z=S,g.group=_),e++,g}function a(d,p,m,v,S,_){const g=o(d,p,m,v,S,_);m.transmission>0?i.push(g):m.transparent===!0?r.push(g):t.push(g)}function l(d,p,m,v,S,_){const g=o(d,p,m,v,S,_);m.transmission>0?i.unshift(g):m.transparent===!0?r.unshift(g):t.unshift(g)}function c(d,p){t.length>1&&t.sort(d||Fj),i.length>1&&i.sort(p||aA),r.length>1&&r.sort(p||aA)}function h(){for(let d=e,p=n.length;d<p;d++){const m=n[d];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:t,transmissive:i,transparent:r,init:s,push:a,unshift:l,finish:h,sort:c}}function Nj(){let n=new WeakMap;function e(i,r){const s=n.get(i);let o;return s===void 0?(o=new lA,n.set(i,[o])):r>=s.length?(o=new lA,s.push(o)):o=s[r],o}function t(){n=new WeakMap}return{get:e,dispose:t}}function Oj(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new F,color:new ze};break;case"SpotLight":t={position:new F,direction:new F,color:new ze,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new F,color:new ze,distance:0,decay:0};break;case"HemisphereLight":t={direction:new F,skyColor:new ze,groundColor:new ze};break;case"RectAreaLight":t={color:new ze,position:new F,halfWidth:new F,halfHeight:new F};break}return n[e.id]=t,t}}}function Uj(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new de};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new de};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new de,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let kj=0;function Hj(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function zj(n,e){const t=new Oj,i=Uj(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let h=0;h<9;h++)r.probe.push(new F);const s=new F,o=new ct,a=new ct;function l(h,d){let p=0,m=0,v=0;for(let Y=0;Y<9;Y++)r.probe[Y].set(0,0,0);let S=0,_=0,g=0,x=0,A=0,E=0,T=0,C=0,R=0,I=0,P=0;h.sort(Hj);const B=d===!0?Math.PI:1;for(let Y=0,ee=h.length;Y<ee;Y++){const V=h[Y],Q=V.color,ne=V.intensity,te=V.distance,D=V.shadow&&V.shadow.map?V.shadow.map.texture:null;if(V.isAmbientLight)p+=Q.r*ne*B,m+=Q.g*ne*B,v+=Q.b*ne*B;else if(V.isLightProbe){for(let W=0;W<9;W++)r.probe[W].addScaledVector(V.sh.coefficients[W],ne);P++}else if(V.isDirectionalLight){const W=t.get(V);if(W.color.copy(V.color).multiplyScalar(V.intensity*B),V.castShadow){const j=V.shadow,N=i.get(V);N.shadowBias=j.bias,N.shadowNormalBias=j.normalBias,N.shadowRadius=j.radius,N.shadowMapSize=j.mapSize,r.directionalShadow[S]=N,r.directionalShadowMap[S]=D,r.directionalShadowMatrix[S]=V.shadow.matrix,E++}r.directional[S]=W,S++}else if(V.isSpotLight){const W=t.get(V);W.position.setFromMatrixPosition(V.matrixWorld),W.color.copy(Q).multiplyScalar(ne*B),W.distance=te,W.coneCos=Math.cos(V.angle),W.penumbraCos=Math.cos(V.angle*(1-V.penumbra)),W.decay=V.decay,r.spot[g]=W;const j=V.shadow;if(V.map&&(r.spotLightMap[R]=V.map,R++,j.updateMatrices(V),V.castShadow&&I++),r.spotLightMatrix[g]=j.matrix,V.castShadow){const N=i.get(V);N.shadowBias=j.bias,N.shadowNormalBias=j.normalBias,N.shadowRadius=j.radius,N.shadowMapSize=j.mapSize,r.spotShadow[g]=N,r.spotShadowMap[g]=D,C++}g++}else if(V.isRectAreaLight){const W=t.get(V);W.color.copy(Q).multiplyScalar(ne),W.halfWidth.set(V.width*.5,0,0),W.halfHeight.set(0,V.height*.5,0),r.rectArea[x]=W,x++}else if(V.isPointLight){const W=t.get(V);if(W.color.copy(V.color).multiplyScalar(V.intensity*B),W.distance=V.distance,W.decay=V.decay,V.castShadow){const j=V.shadow,N=i.get(V);N.shadowBias=j.bias,N.shadowNormalBias=j.normalBias,N.shadowRadius=j.radius,N.shadowMapSize=j.mapSize,N.shadowCameraNear=j.camera.near,N.shadowCameraFar=j.camera.far,r.pointShadow[_]=N,r.pointShadowMap[_]=D,r.pointShadowMatrix[_]=V.shadow.matrix,T++}r.point[_]=W,_++}else if(V.isHemisphereLight){const W=t.get(V);W.skyColor.copy(V.color).multiplyScalar(ne*B),W.groundColor.copy(V.groundColor).multiplyScalar(ne*B),r.hemi[A]=W,A++}}x>0&&(e.isWebGL2||n.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=Fe.LTC_FLOAT_1,r.rectAreaLTC2=Fe.LTC_FLOAT_2):n.has("OES_texture_half_float_linear")===!0?(r.rectAreaLTC1=Fe.LTC_HALF_1,r.rectAreaLTC2=Fe.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=p,r.ambient[1]=m,r.ambient[2]=v;const U=r.hash;(U.directionalLength!==S||U.pointLength!==_||U.spotLength!==g||U.rectAreaLength!==x||U.hemiLength!==A||U.numDirectionalShadows!==E||U.numPointShadows!==T||U.numSpotShadows!==C||U.numSpotMaps!==R||U.numLightProbes!==P)&&(r.directional.length=S,r.spot.length=g,r.rectArea.length=x,r.point.length=_,r.hemi.length=A,r.directionalShadow.length=E,r.directionalShadowMap.length=E,r.pointShadow.length=T,r.pointShadowMap.length=T,r.spotShadow.length=C,r.spotShadowMap.length=C,r.directionalShadowMatrix.length=E,r.pointShadowMatrix.length=T,r.spotLightMatrix.length=C+R-I,r.spotLightMap.length=R,r.numSpotLightShadowsWithMaps=I,r.numLightProbes=P,U.directionalLength=S,U.pointLength=_,U.spotLength=g,U.rectAreaLength=x,U.hemiLength=A,U.numDirectionalShadows=E,U.numPointShadows=T,U.numSpotShadows=C,U.numSpotMaps=R,U.numLightProbes=P,r.version=kj++)}function c(h,d){let p=0,m=0,v=0,S=0,_=0;const g=d.matrixWorldInverse;for(let x=0,A=h.length;x<A;x++){const E=h[x];if(E.isDirectionalLight){const T=r.directional[p];T.direction.setFromMatrixPosition(E.matrixWorld),s.setFromMatrixPosition(E.target.matrixWorld),T.direction.sub(s),T.direction.transformDirection(g),p++}else if(E.isSpotLight){const T=r.spot[v];T.position.setFromMatrixPosition(E.matrixWorld),T.position.applyMatrix4(g),T.direction.setFromMatrixPosition(E.matrixWorld),s.setFromMatrixPosition(E.target.matrixWorld),T.direction.sub(s),T.direction.transformDirection(g),v++}else if(E.isRectAreaLight){const T=r.rectArea[S];T.position.setFromMatrixPosition(E.matrixWorld),T.position.applyMatrix4(g),a.identity(),o.copy(E.matrixWorld),o.premultiply(g),a.extractRotation(o),T.halfWidth.set(E.width*.5,0,0),T.halfHeight.set(0,E.height*.5,0),T.halfWidth.applyMatrix4(a),T.halfHeight.applyMatrix4(a),S++}else if(E.isPointLight){const T=r.point[m];T.position.setFromMatrixPosition(E.matrixWorld),T.position.applyMatrix4(g),m++}else if(E.isHemisphereLight){const T=r.hemi[_];T.direction.setFromMatrixPosition(E.matrixWorld),T.direction.transformDirection(g),_++}}}return{setup:l,setupView:c,state:r}}function cA(n,e){const t=new zj(n,e),i=[],r=[];function s(){i.length=0,r.length=0}function o(d){i.push(d)}function a(d){r.push(d)}function l(d){t.setup(i,d)}function c(d){t.setupView(i,d)}return{init:s,state:{lightsArray:i,shadowsArray:r,lights:t},setupLights:l,setupLightsView:c,pushLight:o,pushShadow:a}}function Gj(n,e){let t=new WeakMap;function i(s,o=0){const a=t.get(s);let l;return a===void 0?(l=new cA(n,e),t.set(s,[l])):o>=a.length?(l=new cA(n,e),a.push(l)):l=a[o],l}function r(){t=new WeakMap}return{get:i,dispose:r}}class C9 extends On{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=ib,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class b9 extends On{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const Vj=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,Wj=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function jj(n,e,t){let i=new im;const r=new de,s=new de,o=new Wt,a=new C9({depthPacking:rb}),l=new b9,c={},h=t.maxTextureSize,d={[Rs]:xi,[xi]:Rs,[Tr]:Tr},p=new ns({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new de},radius:{value:4}},vertexShader:Vj,fragmentShader:Wj}),m=p.clone();m.defines.HORIZONTAL_PASS=1;const v=new _t;v.setAttribute("position",new Dt(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const S=new Zn(v,p),_=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Y2;let g=this.type;this.render=function(T,C,R){if(_.enabled===!1||_.autoUpdate===!1&&_.needsUpdate===!1||T.length===0)return;const I=n.getRenderTarget(),P=n.getActiveCubeFace(),B=n.getActiveMipmapLevel(),U=n.state;U.setBlending(lo),U.buffers.color.setClear(1,1,1,1),U.buffers.depth.setTest(!0),U.setScissorTest(!1);const Y=g!==Wr&&this.type===Wr,ee=g===Wr&&this.type!==Wr;for(let V=0,Q=T.length;V<Q;V++){const ne=T[V],te=ne.shadow;if(te===void 0){console.warn("THREE.WebGLShadowMap:",ne,"has no shadow.");continue}if(te.autoUpdate===!1&&te.needsUpdate===!1)continue;r.copy(te.mapSize);const D=te.getFrameExtents();if(r.multiply(D),s.copy(te.mapSize),(r.x>h||r.y>h)&&(r.x>h&&(s.x=Math.floor(h/D.x),r.x=s.x*D.x,te.mapSize.x=s.x),r.y>h&&(s.y=Math.floor(h/D.y),r.y=s.y*D.y,te.mapSize.y=s.y)),te.map===null||Y===!0||ee===!0){const j=this.type!==Wr?{minFilter:Mn,magFilter:Mn}:{};te.map!==null&&te.map.dispose(),te.map=new ts(r.x,r.y,j),te.map.texture.name=ne.name+".shadowMap",te.camera.updateProjectionMatrix()}n.setRenderTarget(te.map),n.clear();const W=te.getViewportCount();for(let j=0;j<W;j++){const N=te.getViewport(j);o.set(s.x*N.x,s.y*N.y,s.x*N.z,s.y*N.w),U.viewport(o),te.updateMatrices(ne,j),i=te.getFrustum(),E(C,R,te.camera,ne,this.type)}te.isPointLightShadow!==!0&&this.type===Wr&&x(te,R),te.needsUpdate=!1}g=this.type,_.needsUpdate=!1,n.setRenderTarget(I,P,B)};function x(T,C){const R=e.update(S);p.defines.VSM_SAMPLES!==T.blurSamples&&(p.defines.VSM_SAMPLES=T.blurSamples,m.defines.VSM_SAMPLES=T.blurSamples,p.needsUpdate=!0,m.needsUpdate=!0),T.mapPass===null&&(T.mapPass=new ts(r.x,r.y)),p.uniforms.shadow_pass.value=T.map.texture,p.uniforms.resolution.value=T.mapSize,p.uniforms.radius.value=T.radius,n.setRenderTarget(T.mapPass),n.clear(),n.renderBufferDirect(C,null,R,p,S,null),m.uniforms.shadow_pass.value=T.mapPass.texture,m.uniforms.resolution.value=T.mapSize,m.uniforms.radius.value=T.radius,n.setRenderTarget(T.map),n.clear(),n.renderBufferDirect(C,null,R,m,S,null)}function A(T,C,R,I){let P=null;const B=R.isPointLight===!0?T.customDistanceMaterial:T.customDepthMaterial;if(B!==void 0)P=B;else if(P=R.isPointLight===!0?l:a,n.localClippingEnabled&&C.clipShadows===!0&&Array.isArray(C.clippingPlanes)&&C.clippingPlanes.length!==0||C.displacementMap&&C.displacementScale!==0||C.alphaMap&&C.alphaTest>0||C.map&&C.alphaTest>0){const U=P.uuid,Y=C.uuid;let ee=c[U];ee===void 0&&(ee={},c[U]=ee);let V=ee[Y];V===void 0&&(V=P.clone(),ee[Y]=V),P=V}if(P.visible=C.visible,P.wireframe=C.wireframe,I===Wr?P.side=C.shadowSide!==null?C.shadowSide:C.side:P.side=C.shadowSide!==null?C.shadowSide:d[C.side],P.alphaMap=C.alphaMap,P.alphaTest=C.alphaTest,P.map=C.map,P.clipShadows=C.clipShadows,P.clippingPlanes=C.clippingPlanes,P.clipIntersection=C.clipIntersection,P.displacementMap=C.displacementMap,P.displacementScale=C.displacementScale,P.displacementBias=C.displacementBias,P.wireframeLinewidth=C.wireframeLinewidth,P.linewidth=C.linewidth,R.isPointLight===!0&&P.isMeshDistanceMaterial===!0){const U=n.properties.get(P);U.light=R}return P}function E(T,C,R,I,P){if(T.visible===!1)return;if(T.layers.test(C.layers)&&(T.isMesh||T.isLine||T.isPoints)&&(T.castShadow||T.receiveShadow&&P===Wr)&&(!T.frustumCulled||i.intersectsObject(T))){T.modelViewMatrix.multiplyMatrices(R.matrixWorldInverse,T.matrixWorld);const Y=e.update(T),ee=T.material;if(Array.isArray(ee)){const V=Y.groups;for(let Q=0,ne=V.length;Q<ne;Q++){const te=V[Q],D=ee[te.materialIndex];if(D&&D.visible){const W=A(T,D,I,P);n.renderBufferDirect(R,null,Y,W,T,te)}}}else if(ee.visible){const V=A(T,ee,I,P);n.renderBufferDirect(R,null,Y,V,T,null)}}const U=T.children;for(let Y=0,ee=U.length;Y<ee;Y++)E(U[Y],C,R,I,P)}}function qj(n,e,t){const i=t.isWebGL2;function r(){let z=!1;const Ae=new Wt;let we=null;const Ne=new Wt(0,0,0,0);return{setMask:function(Ue){we!==Ue&&!z&&(n.colorMask(Ue,Ue,Ue,Ue),we=Ue)},setLocked:function(Ue){z=Ue},setClear:function(Ue,_e,je,tt,cn){cn===!0&&(Ue*=tt,_e*=tt,je*=tt),Ae.set(Ue,_e,je,tt),Ne.equals(Ae)===!1&&(n.clearColor(Ue,_e,je,tt),Ne.copy(Ae))},reset:function(){z=!1,we=null,Ne.set(-1,0,0,0)}}}function s(){let z=!1,Ae=null,we=null,Ne=null;return{setTest:function(Ue){Ue?Le(n.DEPTH_TEST):Xe(n.DEPTH_TEST)},setMask:function(Ue){Ae!==Ue&&!z&&(n.depthMask(Ue),Ae=Ue)},setFunc:function(Ue){if(we!==Ue){switch(Ue){case BC:n.depthFunc(n.NEVER);break;case IC:n.depthFunc(n.ALWAYS);break;case LC:n.depthFunc(n.LESS);break;case s2:n.depthFunc(n.LEQUAL);break;case DC:n.depthFunc(n.EQUAL);break;case FC:n.depthFunc(n.GEQUAL);break;case NC:n.depthFunc(n.GREATER);break;case OC:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}we=Ue}},setLocked:function(Ue){z=Ue},setClear:function(Ue){Ne!==Ue&&(n.clearDepth(Ue),Ne=Ue)},reset:function(){z=!1,Ae=null,we=null,Ne=null}}}function o(){let z=!1,Ae=null,we=null,Ne=null,Ue=null,_e=null,je=null,tt=null,cn=null;return{setTest:function(Bt){z||(Bt?Le(n.STENCIL_TEST):Xe(n.STENCIL_TEST))},setMask:function(Bt){Ae!==Bt&&!z&&(n.stencilMask(Bt),Ae=Bt)},setFunc:function(Bt,kn,vn){(we!==Bt||Ne!==kn||Ue!==vn)&&(n.stencilFunc(Bt,kn,vn),we=Bt,Ne=kn,Ue=vn)},setOp:function(Bt,kn,vn){(_e!==Bt||je!==kn||tt!==vn)&&(n.stencilOp(Bt,kn,vn),_e=Bt,je=kn,tt=vn)},setLocked:function(Bt){z=Bt},setClear:function(Bt){cn!==Bt&&(n.clearStencil(Bt),cn=Bt)},reset:function(){z=!1,Ae=null,we=null,Ne=null,Ue=null,_e=null,je=null,tt=null,cn=null}}}const a=new r,l=new s,c=new o,h=new WeakMap,d=new WeakMap;let p={},m={},v=new WeakMap,S=[],_=null,g=!1,x=null,A=null,E=null,T=null,C=null,R=null,I=null,P=!1,B=null,U=null,Y=null,ee=null,V=null;const Q=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let ne=!1,te=0;const D=n.getParameter(n.VERSION);D.indexOf("WebGL")!==-1?(te=parseFloat(/^WebGL (\d)/.exec(D)[1]),ne=te>=1):D.indexOf("OpenGL ES")!==-1&&(te=parseFloat(/^OpenGL ES (\d)/.exec(D)[1]),ne=te>=2);let W=null,j={};const N=n.getParameter(n.SCISSOR_BOX),X=n.getParameter(n.VIEWPORT),ce=new Wt().fromArray(N),me=new Wt().fromArray(X);function ve(z,Ae,we,Ne){const Ue=new Uint8Array(4),_e=n.createTexture();n.bindTexture(z,_e),n.texParameteri(z,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(z,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let je=0;je<we;je++)i&&(z===n.TEXTURE_3D||z===n.TEXTURE_2D_ARRAY)?n.texImage3D(Ae,0,n.RGBA,1,1,Ne,0,n.RGBA,n.UNSIGNED_BYTE,Ue):n.texImage2D(Ae+je,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,Ue);return _e}const Pe={};Pe[n.TEXTURE_2D]=ve(n.TEXTURE_2D,n.TEXTURE_2D,1),Pe[n.TEXTURE_CUBE_MAP]=ve(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),i&&(Pe[n.TEXTURE_2D_ARRAY]=ve(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),Pe[n.TEXTURE_3D]=ve(n.TEXTURE_3D,n.TEXTURE_3D,1,1)),a.setClear(0,0,0,1),l.setClear(1),c.setClear(0),Le(n.DEPTH_TEST),l.setFunc(s2),ye(!1),We(Fg),Le(n.CULL_FACE),pe(lo);function Le(z){p[z]!==!0&&(n.enable(z),p[z]=!0)}function Xe(z){p[z]!==!1&&(n.disable(z),p[z]=!1)}function pt(z,Ae){return m[z]!==Ae?(n.bindFramebuffer(z,Ae),m[z]=Ae,i&&(z===n.DRAW_FRAMEBUFFER&&(m[n.FRAMEBUFFER]=Ae),z===n.FRAMEBUFFER&&(m[n.DRAW_FRAMEBUFFER]=Ae)),!0):!1}function rt(z,Ae){let we=S,Ne=!1;if(z)if(we=v.get(Ae),we===void 0&&(we=[],v.set(Ae,we)),z.isWebGLMultipleRenderTargets){const Ue=z.texture;if(we.length!==Ue.length||we[0]!==n.COLOR_ATTACHMENT0){for(let _e=0,je=Ue.length;_e<je;_e++)we[_e]=n.COLOR_ATTACHMENT0+_e;we.length=Ue.length,Ne=!0}}else we[0]!==n.COLOR_ATTACHMENT0&&(we[0]=n.COLOR_ATTACHMENT0,Ne=!0);else we[0]!==n.BACK&&(we[0]=n.BACK,Ne=!0);Ne&&(t.isWebGL2?n.drawBuffers(we):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(we))}function Me(z){return _!==z?(n.useProgram(z),_=z,!0):!1}const q={[$a]:n.FUNC_ADD,[_C]:n.FUNC_SUBTRACT,[AC]:n.FUNC_REVERSE_SUBTRACT};if(i)q[kg]=n.MIN,q[Hg]=n.MAX;else{const z=e.get("EXT_blend_minmax");z!==null&&(q[kg]=z.MIN_EXT,q[Hg]=z.MAX_EXT)}const ge={[SC]:n.ZERO,[MC]:n.ONE,[EC]:n.SRC_COLOR,[l9]:n.SRC_ALPHA,[RC]:n.SRC_ALPHA_SATURATE,[bC]:n.DST_COLOR,[TC]:n.DST_ALPHA,[wC]:n.ONE_MINUS_SRC_COLOR,[c9]:n.ONE_MINUS_SRC_ALPHA,[PC]:n.ONE_MINUS_DST_COLOR,[CC]:n.ONE_MINUS_DST_ALPHA};function pe(z,Ae,we,Ne,Ue,_e,je,tt){if(z===lo){g===!0&&(Xe(n.BLEND),g=!1);return}if(g===!1&&(Le(n.BLEND),g=!0),z!==xC){if(z!==x||tt!==P){if((A!==$a||C!==$a)&&(n.blendEquation(n.FUNC_ADD),A=$a,C=$a),tt)switch(z){case dl:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case Ng:n.blendFunc(n.ONE,n.ONE);break;case Og:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case Ug:n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ZERO,n.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",z);break}else switch(z){case dl:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case Ng:n.blendFunc(n.SRC_ALPHA,n.ONE);break;case Og:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case Ug:n.blendFunc(n.ZERO,n.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",z);break}E=null,T=null,R=null,I=null,x=z,P=tt}return}Ue=Ue||Ae,_e=_e||we,je=je||Ne,(Ae!==A||Ue!==C)&&(n.blendEquationSeparate(q[Ae],q[Ue]),A=Ae,C=Ue),(we!==E||Ne!==T||_e!==R||je!==I)&&(n.blendFuncSeparate(ge[we],ge[Ne],ge[_e],ge[je]),E=we,T=Ne,R=_e,I=je),x=z,P=!1}function Ee(z,Ae){z.side===Tr?Xe(n.CULL_FACE):Le(n.CULL_FACE);let we=z.side===xi;Ae&&(we=!we),ye(we),z.blending===dl&&z.transparent===!1?pe(lo):pe(z.blending,z.blendEquation,z.blendSrc,z.blendDst,z.blendEquationAlpha,z.blendSrcAlpha,z.blendDstAlpha,z.premultipliedAlpha),l.setFunc(z.depthFunc),l.setTest(z.depthTest),l.setMask(z.depthWrite),a.setMask(z.colorWrite);const Ne=z.stencilWrite;c.setTest(Ne),Ne&&(c.setMask(z.stencilWriteMask),c.setFunc(z.stencilFunc,z.stencilRef,z.stencilFuncMask),c.setOp(z.stencilFail,z.stencilZFail,z.stencilZPass)),Ve(z.polygonOffset,z.polygonOffsetFactor,z.polygonOffsetUnits),z.alphaToCoverage===!0?Le(n.SAMPLE_ALPHA_TO_COVERAGE):Xe(n.SAMPLE_ALPHA_TO_COVERAGE)}function ye(z){B!==z&&(z?n.frontFace(n.CW):n.frontFace(n.CCW),B=z)}function We(z){z!==gC?(Le(n.CULL_FACE),z!==U&&(z===Fg?n.cullFace(n.BACK):z===vC?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):Xe(n.CULL_FACE),U=z}function He(z){z!==Y&&(ne&&n.lineWidth(z),Y=z)}function Ve(z,Ae,we){z?(Le(n.POLYGON_OFFSET_FILL),(ee!==Ae||V!==we)&&(n.polygonOffset(Ae,we),ee=Ae,V=we)):Xe(n.POLYGON_OFFSET_FILL)}function et(z){z?Le(n.SCISSOR_TEST):Xe(n.SCISSOR_TEST)}function xt(z){z===void 0&&(z=n.TEXTURE0+Q-1),W!==z&&(n.activeTexture(z),W=z)}function Ht(z,Ae,we){we===void 0&&(W===null?we=n.TEXTURE0+Q-1:we=W);let Ne=j[we];Ne===void 0&&(Ne={type:void 0,texture:void 0},j[we]=Ne),(Ne.type!==z||Ne.texture!==Ae)&&(W!==we&&(n.activeTexture(we),W=we),n.bindTexture(z,Ae||Pe[z]),Ne.type=z,Ne.texture=Ae)}function G(){const z=j[W];z!==void 0&&z.type!==void 0&&(n.bindTexture(z.type,null),z.type=void 0,z.texture=void 0)}function L(){try{n.compressedTexImage2D.apply(n,arguments)}catch(z){console.error("THREE.WebGLState:",z)}}function oe(){try{n.compressedTexImage3D.apply(n,arguments)}catch(z){console.error("THREE.WebGLState:",z)}}function Te(){try{n.texSubImage2D.apply(n,arguments)}catch(z){console.error("THREE.WebGLState:",z)}}function xe(){try{n.texSubImage3D.apply(n,arguments)}catch(z){console.error("THREE.WebGLState:",z)}}function be(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(z){console.error("THREE.WebGLState:",z)}}function Ye(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(z){console.error("THREE.WebGLState:",z)}}function Ie(){try{n.texStorage2D.apply(n,arguments)}catch(z){console.error("THREE.WebGLState:",z)}}function Oe(){try{n.texStorage3D.apply(n,arguments)}catch(z){console.error("THREE.WebGLState:",z)}}function ot(){try{n.texImage2D.apply(n,arguments)}catch(z){console.error("THREE.WebGLState:",z)}}function Ct(){try{n.texImage3D.apply(n,arguments)}catch(z){console.error("THREE.WebGLState:",z)}}function Re(z){ce.equals(z)===!1&&(n.scissor(z.x,z.y,z.z,z.w),ce.copy(z))}function Rt(z){me.equals(z)===!1&&(n.viewport(z.x,z.y,z.z,z.w),me.copy(z))}function K(z,Ae){let we=d.get(Ae);we===void 0&&(we=new WeakMap,d.set(Ae,we));let Ne=we.get(z);Ne===void 0&&(Ne=n.getUniformBlockIndex(Ae,z.name),we.set(z,Ne))}function ue(z,Ae){const Ne=d.get(Ae).get(z);h.get(Ae)!==Ne&&(n.uniformBlockBinding(Ae,Ne,z.__bindingPointIndex),h.set(Ae,Ne))}function Se(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),i===!0&&(n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),p={},W=null,j={},m={},v=new WeakMap,S=[],_=null,g=!1,x=null,A=null,E=null,T=null,C=null,R=null,I=null,P=!1,B=null,U=null,Y=null,ee=null,V=null,ce.set(0,0,n.canvas.width,n.canvas.height),me.set(0,0,n.canvas.width,n.canvas.height),a.reset(),l.reset(),c.reset()}return{buffers:{color:a,depth:l,stencil:c},enable:Le,disable:Xe,bindFramebuffer:pt,drawBuffers:rt,useProgram:Me,setBlending:pe,setMaterial:Ee,setFlipSided:ye,setCullFace:We,setLineWidth:He,setPolygonOffset:Ve,setScissorTest:et,activeTexture:xt,bindTexture:Ht,unbindTexture:G,compressedTexImage2D:L,compressedTexImage3D:oe,texImage2D:ot,texImage3D:Ct,updateUBOMapping:K,uniformBlockBinding:ue,texStorage2D:Ie,texStorage3D:Oe,texSubImage2D:Te,texSubImage3D:xe,compressedTexSubImage2D:be,compressedTexSubImage3D:Ye,scissor:Re,viewport:Rt,reset:Se}}function Xj(n,e,t,i,r,s,o){const a=r.isWebGL2,l=r.maxTextures,c=r.maxCubemapSize,h=r.maxTextureSize,d=r.maxSamples,p=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,m=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),v=new WeakMap;let S;const _=new WeakMap;let g=!1;try{g=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function x(G,L){return g?new OffscreenCanvas(G,L):Yh("canvas")}function A(G,L,oe,Te){let xe=1;if((G.width>Te||G.height>Te)&&(xe=Te/Math.max(G.width,G.height)),xe<1||L===!0)if(typeof HTMLImageElement<"u"&&G instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&G instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&G instanceof ImageBitmap){const be=L?l2:Math.floor,Ye=be(xe*G.width),Ie=be(xe*G.height);S===void 0&&(S=x(Ye,Ie));const Oe=oe?x(Ye,Ie):S;return Oe.width=Ye,Oe.height=Ie,Oe.getContext("2d").drawImage(G,0,0,Ye,Ie),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+G.width+"x"+G.height+") to ("+Ye+"x"+Ie+")."),Oe}else return"data"in G&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+G.width+"x"+G.height+")."),G;return G}function E(G){return d8(G.width)&&d8(G.height)}function T(G){return a?!1:G.wrapS!==ri||G.wrapT!==ri||G.minFilter!==Mn&&G.minFilter!==hn}function C(G,L){return G.generateMipmaps&&L&&G.minFilter!==Mn&&G.minFilter!==hn}function R(G){n.generateMipmap(G)}function I(G,L,oe,Te,xe=!1){if(a===!1)return L;if(G!==null){if(n[G]!==void 0)return n[G];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+G+"'")}let be=L;if(L===n.RED&&(oe===n.FLOAT&&(be=n.R32F),oe===n.HALF_FLOAT&&(be=n.R16F),oe===n.UNSIGNED_BYTE&&(be=n.R8)),L===n.RED_INTEGER&&(oe===n.UNSIGNED_BYTE&&(be=n.R8UI),oe===n.UNSIGNED_SHORT&&(be=n.R16UI),oe===n.UNSIGNED_INT&&(be=n.R32UI),oe===n.BYTE&&(be=n.R8I),oe===n.SHORT&&(be=n.R16I),oe===n.INT&&(be=n.R32I)),L===n.RG&&(oe===n.FLOAT&&(be=n.RG32F),oe===n.HALF_FLOAT&&(be=n.RG16F),oe===n.UNSIGNED_BYTE&&(be=n.RG8)),L===n.RGBA){const Ye=xe?jh:Vt.getTransfer(Te);oe===n.FLOAT&&(be=n.RGBA32F),oe===n.HALF_FLOAT&&(be=n.RGBA16F),oe===n.UNSIGNED_BYTE&&(be=Ye===Kt?n.SRGB8_ALPHA8:n.RGBA8),oe===n.UNSIGNED_SHORT_4_4_4_4&&(be=n.RGBA4),oe===n.UNSIGNED_SHORT_5_5_5_1&&(be=n.RGB5_A1)}return(be===n.R16F||be===n.R32F||be===n.RG16F||be===n.RG32F||be===n.RGBA16F||be===n.RGBA32F)&&e.get("EXT_color_buffer_float"),be}function P(G,L,oe){return C(G,oe)===!0||G.isFramebufferTexture&&G.minFilter!==Mn&&G.minFilter!==hn?Math.log2(Math.max(L.width,L.height))+1:G.mipmaps!==void 0&&G.mipmaps.length>0?G.mipmaps.length:G.isCompressedTexture&&Array.isArray(G.image)?L.mipmaps.length:1}function B(G){return G===Mn||G===Vh||G===ou?n.NEAREST:n.LINEAR}function U(G){const L=G.target;L.removeEventListener("dispose",U),ee(L),L.isVideoTexture&&v.delete(L)}function Y(G){const L=G.target;L.removeEventListener("dispose",Y),Q(L)}function ee(G){const L=i.get(G);if(L.__webglInit===void 0)return;const oe=G.source,Te=_.get(oe);if(Te){const xe=Te[L.__cacheKey];xe.usedTimes--,xe.usedTimes===0&&V(G),Object.keys(Te).length===0&&_.delete(oe)}i.remove(G)}function V(G){const L=i.get(G);n.deleteTexture(L.__webglTexture);const oe=G.source,Te=_.get(oe);delete Te[L.__cacheKey],o.memory.textures--}function Q(G){const L=G.texture,oe=i.get(G),Te=i.get(L);if(Te.__webglTexture!==void 0&&(n.deleteTexture(Te.__webglTexture),o.memory.textures--),G.depthTexture&&G.depthTexture.dispose(),G.isWebGLCubeRenderTarget)for(let xe=0;xe<6;xe++){if(Array.isArray(oe.__webglFramebuffer[xe]))for(let be=0;be<oe.__webglFramebuffer[xe].length;be++)n.deleteFramebuffer(oe.__webglFramebuffer[xe][be]);else n.deleteFramebuffer(oe.__webglFramebuffer[xe]);oe.__webglDepthbuffer&&n.deleteRenderbuffer(oe.__webglDepthbuffer[xe])}else{if(Array.isArray(oe.__webglFramebuffer))for(let xe=0;xe<oe.__webglFramebuffer.length;xe++)n.deleteFramebuffer(oe.__webglFramebuffer[xe]);else n.deleteFramebuffer(oe.__webglFramebuffer);if(oe.__webglDepthbuffer&&n.deleteRenderbuffer(oe.__webglDepthbuffer),oe.__webglMultisampledFramebuffer&&n.deleteFramebuffer(oe.__webglMultisampledFramebuffer),oe.__webglColorRenderbuffer)for(let xe=0;xe<oe.__webglColorRenderbuffer.length;xe++)oe.__webglColorRenderbuffer[xe]&&n.deleteRenderbuffer(oe.__webglColorRenderbuffer[xe]);oe.__webglDepthRenderbuffer&&n.deleteRenderbuffer(oe.__webglDepthRenderbuffer)}if(G.isWebGLMultipleRenderTargets)for(let xe=0,be=L.length;xe<be;xe++){const Ye=i.get(L[xe]);Ye.__webglTexture&&(n.deleteTexture(Ye.__webglTexture),o.memory.textures--),i.remove(L[xe])}i.remove(L),i.remove(G)}let ne=0;function te(){ne=0}function D(){const G=ne;return G>=l&&console.warn("THREE.WebGLTextures: Trying to use "+G+" texture units while this GPU supports only "+l),ne+=1,G}function W(G){const L=[];return L.push(G.wrapS),L.push(G.wrapT),L.push(G.wrapR||0),L.push(G.magFilter),L.push(G.minFilter),L.push(G.anisotropy),L.push(G.internalFormat),L.push(G.format),L.push(G.type),L.push(G.generateMipmaps),L.push(G.premultiplyAlpha),L.push(G.flipY),L.push(G.unpackAlignment),L.push(G.colorSpace),L.join()}function j(G,L){const oe=i.get(G);if(G.isVideoTexture&&xt(G),G.isRenderTargetTexture===!1&&G.version>0&&oe.__version!==G.version){const Te=G.image;if(Te===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Te.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{pt(oe,G,L);return}}t.bindTexture(n.TEXTURE_2D,oe.__webglTexture,n.TEXTURE0+L)}function N(G,L){const oe=i.get(G);if(G.version>0&&oe.__version!==G.version){pt(oe,G,L);return}t.bindTexture(n.TEXTURE_2D_ARRAY,oe.__webglTexture,n.TEXTURE0+L)}function X(G,L){const oe=i.get(G);if(G.version>0&&oe.__version!==G.version){pt(oe,G,L);return}t.bindTexture(n.TEXTURE_3D,oe.__webglTexture,n.TEXTURE0+L)}function ce(G,L){const oe=i.get(G);if(G.version>0&&oe.__version!==G.version){rt(oe,G,L);return}t.bindTexture(n.TEXTURE_CUBE_MAP,oe.__webglTexture,n.TEXTURE0+L)}const me={[pa]:n.REPEAT,[ri]:n.CLAMP_TO_EDGE,[Au]:n.MIRRORED_REPEAT},ve={[Mn]:n.NEAREST,[Vh]:n.NEAREST_MIPMAP_NEAREST,[ou]:n.NEAREST_MIPMAP_LINEAR,[hn]:n.LINEAR,[Z2]:n.LINEAR_MIPMAP_NEAREST,[Bs]:n.LINEAR_MIPMAP_LINEAR},Pe={[ab]:n.NEVER,[pb]:n.ALWAYS,[lb]:n.LESS,[ub]:n.LEQUAL,[cb]:n.EQUAL,[db]:n.GEQUAL,[fb]:n.GREATER,[hb]:n.NOTEQUAL};function Le(G,L,oe){if(oe?(n.texParameteri(G,n.TEXTURE_WRAP_S,me[L.wrapS]),n.texParameteri(G,n.TEXTURE_WRAP_T,me[L.wrapT]),(G===n.TEXTURE_3D||G===n.TEXTURE_2D_ARRAY)&&n.texParameteri(G,n.TEXTURE_WRAP_R,me[L.wrapR]),n.texParameteri(G,n.TEXTURE_MAG_FILTER,ve[L.magFilter]),n.texParameteri(G,n.TEXTURE_MIN_FILTER,ve[L.minFilter])):(n.texParameteri(G,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(G,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),(G===n.TEXTURE_3D||G===n.TEXTURE_2D_ARRAY)&&n.texParameteri(G,n.TEXTURE_WRAP_R,n.CLAMP_TO_EDGE),(L.wrapS!==ri||L.wrapT!==ri)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(G,n.TEXTURE_MAG_FILTER,B(L.magFilter)),n.texParameteri(G,n.TEXTURE_MIN_FILTER,B(L.minFilter)),L.minFilter!==Mn&&L.minFilter!==hn&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),L.compareFunction&&(n.texParameteri(G,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(G,n.TEXTURE_COMPARE_FUNC,Pe[L.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){const Te=e.get("EXT_texture_filter_anisotropic");if(L.magFilter===Mn||L.minFilter!==ou&&L.minFilter!==Bs||L.type===As&&e.has("OES_texture_float_linear")===!1||a===!1&&L.type===Su&&e.has("OES_texture_half_float_linear")===!1)return;(L.anisotropy>1||i.get(L).__currentAnisotropy)&&(n.texParameterf(G,Te.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(L.anisotropy,r.getMaxAnisotropy())),i.get(L).__currentAnisotropy=L.anisotropy)}}function Xe(G,L){let oe=!1;G.__webglInit===void 0&&(G.__webglInit=!0,L.addEventListener("dispose",U));const Te=L.source;let xe=_.get(Te);xe===void 0&&(xe={},_.set(Te,xe));const be=W(L);if(be!==G.__cacheKey){xe[be]===void 0&&(xe[be]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,oe=!0),xe[be].usedTimes++;const Ye=xe[G.__cacheKey];Ye!==void 0&&(xe[G.__cacheKey].usedTimes--,Ye.usedTimes===0&&V(L)),G.__cacheKey=be,G.__webglTexture=xe[be].texture}return oe}function pt(G,L,oe){let Te=n.TEXTURE_2D;(L.isDataArrayTexture||L.isCompressedArrayTexture)&&(Te=n.TEXTURE_2D_ARRAY),L.isData3DTexture&&(Te=n.TEXTURE_3D);const xe=Xe(G,L),be=L.source;t.bindTexture(Te,G.__webglTexture,n.TEXTURE0+oe);const Ye=i.get(be);if(be.version!==Ye.__version||xe===!0){t.activeTexture(n.TEXTURE0+oe);const Ie=Vt.getPrimaries(Vt.workingColorSpace),Oe=L.colorSpace===$i?null:Vt.getPrimaries(L.colorSpace),ot=L.colorSpace===$i||Ie===Oe?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,L.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,L.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,L.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,ot);const Ct=T(L)&&E(L.image)===!1;let Re=A(L.image,Ct,!1,h);Re=Ht(L,Re);const Rt=E(Re)||a,K=s.convert(L.format,L.colorSpace);let ue=s.convert(L.type),Se=I(L.internalFormat,K,ue,L.colorSpace,L.isVideoTexture);Le(Te,L,Rt);let z;const Ae=L.mipmaps,we=a&&L.isVideoTexture!==!0,Ne=Ye.__version===void 0||xe===!0,Ue=P(L,Re,Rt);if(L.isDepthTexture)Se=n.DEPTH_COMPONENT,a?L.type===As?Se=n.DEPTH_COMPONENT32F:L.type===io?Se=n.DEPTH_COMPONENT24:L.type===ra?Se=n.DEPTH24_STENCIL8:Se=n.DEPTH_COMPONENT16:L.type===As&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),L.format===sa&&Se===n.DEPTH_COMPONENT&&L.type!==$2&&L.type!==io&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),L.type=io,ue=s.convert(L.type)),L.format===El&&Se===n.DEPTH_COMPONENT&&(Se=n.DEPTH_STENCIL,L.type!==ra&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),L.type=ra,ue=s.convert(L.type))),Ne&&(we?t.texStorage2D(n.TEXTURE_2D,1,Se,Re.width,Re.height):t.texImage2D(n.TEXTURE_2D,0,Se,Re.width,Re.height,0,K,ue,null));else if(L.isDataTexture)if(Ae.length>0&&Rt){we&&Ne&&t.texStorage2D(n.TEXTURE_2D,Ue,Se,Ae[0].width,Ae[0].height);for(let _e=0,je=Ae.length;_e<je;_e++)z=Ae[_e],we?t.texSubImage2D(n.TEXTURE_2D,_e,0,0,z.width,z.height,K,ue,z.data):t.texImage2D(n.TEXTURE_2D,_e,Se,z.width,z.height,0,K,ue,z.data);L.generateMipmaps=!1}else we?(Ne&&t.texStorage2D(n.TEXTURE_2D,Ue,Se,Re.width,Re.height),t.texSubImage2D(n.TEXTURE_2D,0,0,0,Re.width,Re.height,K,ue,Re.data)):t.texImage2D(n.TEXTURE_2D,0,Se,Re.width,Re.height,0,K,ue,Re.data);else if(L.isCompressedTexture)if(L.isCompressedArrayTexture){we&&Ne&&t.texStorage3D(n.TEXTURE_2D_ARRAY,Ue,Se,Ae[0].width,Ae[0].height,Re.depth);for(let _e=0,je=Ae.length;_e<je;_e++)z=Ae[_e],L.format!==Ui?K!==null?we?t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,_e,0,0,0,z.width,z.height,Re.depth,K,z.data,0,0):t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,_e,Se,z.width,z.height,Re.depth,0,z.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):we?t.texSubImage3D(n.TEXTURE_2D_ARRAY,_e,0,0,0,z.width,z.height,Re.depth,K,ue,z.data):t.texImage3D(n.TEXTURE_2D_ARRAY,_e,Se,z.width,z.height,Re.depth,0,K,ue,z.data)}else{we&&Ne&&t.texStorage2D(n.TEXTURE_2D,Ue,Se,Ae[0].width,Ae[0].height);for(let _e=0,je=Ae.length;_e<je;_e++)z=Ae[_e],L.format!==Ui?K!==null?we?t.compressedTexSubImage2D(n.TEXTURE_2D,_e,0,0,z.width,z.height,K,z.data):t.compressedTexImage2D(n.TEXTURE_2D,_e,Se,z.width,z.height,0,z.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):we?t.texSubImage2D(n.TEXTURE_2D,_e,0,0,z.width,z.height,K,ue,z.data):t.texImage2D(n.TEXTURE_2D,_e,Se,z.width,z.height,0,K,ue,z.data)}else if(L.isDataArrayTexture)we?(Ne&&t.texStorage3D(n.TEXTURE_2D_ARRAY,Ue,Se,Re.width,Re.height,Re.depth),t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,Re.width,Re.height,Re.depth,K,ue,Re.data)):t.texImage3D(n.TEXTURE_2D_ARRAY,0,Se,Re.width,Re.height,Re.depth,0,K,ue,Re.data);else if(L.isData3DTexture)we?(Ne&&t.texStorage3D(n.TEXTURE_3D,Ue,Se,Re.width,Re.height,Re.depth),t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,Re.width,Re.height,Re.depth,K,ue,Re.data)):t.texImage3D(n.TEXTURE_3D,0,Se,Re.width,Re.height,Re.depth,0,K,ue,Re.data);else if(L.isFramebufferTexture){if(Ne)if(we)t.texStorage2D(n.TEXTURE_2D,Ue,Se,Re.width,Re.height);else{let _e=Re.width,je=Re.height;for(let tt=0;tt<Ue;tt++)t.texImage2D(n.TEXTURE_2D,tt,Se,_e,je,0,K,ue,null),_e>>=1,je>>=1}}else if(Ae.length>0&&Rt){we&&Ne&&t.texStorage2D(n.TEXTURE_2D,Ue,Se,Ae[0].width,Ae[0].height);for(let _e=0,je=Ae.length;_e<je;_e++)z=Ae[_e],we?t.texSubImage2D(n.TEXTURE_2D,_e,0,0,K,ue,z):t.texImage2D(n.TEXTURE_2D,_e,Se,K,ue,z);L.generateMipmaps=!1}else we?(Ne&&t.texStorage2D(n.TEXTURE_2D,Ue,Se,Re.width,Re.height),t.texSubImage2D(n.TEXTURE_2D,0,0,0,K,ue,Re)):t.texImage2D(n.TEXTURE_2D,0,Se,K,ue,Re);C(L,Rt)&&R(Te),Ye.__version=be.version,L.onUpdate&&L.onUpdate(L)}G.__version=L.version}function rt(G,L,oe){if(L.image.length!==6)return;const Te=Xe(G,L),xe=L.source;t.bindTexture(n.TEXTURE_CUBE_MAP,G.__webglTexture,n.TEXTURE0+oe);const be=i.get(xe);if(xe.version!==be.__version||Te===!0){t.activeTexture(n.TEXTURE0+oe);const Ye=Vt.getPrimaries(Vt.workingColorSpace),Ie=L.colorSpace===$i?null:Vt.getPrimaries(L.colorSpace),Oe=L.colorSpace===$i||Ye===Ie?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,L.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,L.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,L.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,Oe);const ot=L.isCompressedTexture||L.image[0].isCompressedTexture,Ct=L.image[0]&&L.image[0].isDataTexture,Re=[];for(let _e=0;_e<6;_e++)!ot&&!Ct?Re[_e]=A(L.image[_e],!1,!0,c):Re[_e]=Ct?L.image[_e].image:L.image[_e],Re[_e]=Ht(L,Re[_e]);const Rt=Re[0],K=E(Rt)||a,ue=s.convert(L.format,L.colorSpace),Se=s.convert(L.type),z=I(L.internalFormat,ue,Se,L.colorSpace),Ae=a&&L.isVideoTexture!==!0,we=be.__version===void 0||Te===!0;let Ne=P(L,Rt,K);Le(n.TEXTURE_CUBE_MAP,L,K);let Ue;if(ot){Ae&&we&&t.texStorage2D(n.TEXTURE_CUBE_MAP,Ne,z,Rt.width,Rt.height);for(let _e=0;_e<6;_e++){Ue=Re[_e].mipmaps;for(let je=0;je<Ue.length;je++){const tt=Ue[je];L.format!==Ui?ue!==null?Ae?t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+_e,je,0,0,tt.width,tt.height,ue,tt.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+_e,je,z,tt.width,tt.height,0,tt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Ae?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+_e,je,0,0,tt.width,tt.height,ue,Se,tt.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+_e,je,z,tt.width,tt.height,0,ue,Se,tt.data)}}}else{Ue=L.mipmaps,Ae&&we&&(Ue.length>0&&Ne++,t.texStorage2D(n.TEXTURE_CUBE_MAP,Ne,z,Re[0].width,Re[0].height));for(let _e=0;_e<6;_e++)if(Ct){Ae?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+_e,0,0,0,Re[_e].width,Re[_e].height,ue,Se,Re[_e].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+_e,0,z,Re[_e].width,Re[_e].height,0,ue,Se,Re[_e].data);for(let je=0;je<Ue.length;je++){const cn=Ue[je].image[_e].image;Ae?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+_e,je+1,0,0,cn.width,cn.height,ue,Se,cn.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+_e,je+1,z,cn.width,cn.height,0,ue,Se,cn.data)}}else{Ae?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+_e,0,0,0,ue,Se,Re[_e]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+_e,0,z,ue,Se,Re[_e]);for(let je=0;je<Ue.length;je++){const tt=Ue[je];Ae?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+_e,je+1,0,0,ue,Se,tt.image[_e]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+_e,je+1,z,ue,Se,tt.image[_e])}}}C(L,K)&&R(n.TEXTURE_CUBE_MAP),be.__version=xe.version,L.onUpdate&&L.onUpdate(L)}G.__version=L.version}function Me(G,L,oe,Te,xe,be){const Ye=s.convert(oe.format,oe.colorSpace),Ie=s.convert(oe.type),Oe=I(oe.internalFormat,Ye,Ie,oe.colorSpace);if(!i.get(L).__hasExternalTextures){const Ct=Math.max(1,L.width>>be),Re=Math.max(1,L.height>>be);xe===n.TEXTURE_3D||xe===n.TEXTURE_2D_ARRAY?t.texImage3D(xe,be,Oe,Ct,Re,L.depth,0,Ye,Ie,null):t.texImage2D(xe,be,Oe,Ct,Re,0,Ye,Ie,null)}t.bindFramebuffer(n.FRAMEBUFFER,G),et(L)?p.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,Te,xe,i.get(oe).__webglTexture,0,Ve(L)):(xe===n.TEXTURE_2D||xe>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&xe<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,Te,xe,i.get(oe).__webglTexture,be),t.bindFramebuffer(n.FRAMEBUFFER,null)}function q(G,L,oe){if(n.bindRenderbuffer(n.RENDERBUFFER,G),L.depthBuffer&&!L.stencilBuffer){let Te=a===!0?n.DEPTH_COMPONENT24:n.DEPTH_COMPONENT16;if(oe||et(L)){const xe=L.depthTexture;xe&&xe.isDepthTexture&&(xe.type===As?Te=n.DEPTH_COMPONENT32F:xe.type===io&&(Te=n.DEPTH_COMPONENT24));const be=Ve(L);et(L)?p.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,be,Te,L.width,L.height):n.renderbufferStorageMultisample(n.RENDERBUFFER,be,Te,L.width,L.height)}else n.renderbufferStorage(n.RENDERBUFFER,Te,L.width,L.height);n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.RENDERBUFFER,G)}else if(L.depthBuffer&&L.stencilBuffer){const Te=Ve(L);oe&&et(L)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,Te,n.DEPTH24_STENCIL8,L.width,L.height):et(L)?p.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Te,n.DEPTH24_STENCIL8,L.width,L.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,L.width,L.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,G)}else{const Te=L.isWebGLMultipleRenderTargets===!0?L.texture:[L.texture];for(let xe=0;xe<Te.length;xe++){const be=Te[xe],Ye=s.convert(be.format,be.colorSpace),Ie=s.convert(be.type),Oe=I(be.internalFormat,Ye,Ie,be.colorSpace),ot=Ve(L);oe&&et(L)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,ot,Oe,L.width,L.height):et(L)?p.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,ot,Oe,L.width,L.height):n.renderbufferStorage(n.RENDERBUFFER,Oe,L.width,L.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function ge(G,L){if(L&&L.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,G),!(L.depthTexture&&L.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(L.depthTexture).__webglTexture||L.depthTexture.image.width!==L.width||L.depthTexture.image.height!==L.height)&&(L.depthTexture.image.width=L.width,L.depthTexture.image.height=L.height,L.depthTexture.needsUpdate=!0),j(L.depthTexture,0);const Te=i.get(L.depthTexture).__webglTexture,xe=Ve(L);if(L.depthTexture.format===sa)et(L)?p.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Te,0,xe):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Te,0);else if(L.depthTexture.format===El)et(L)?p.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Te,0,xe):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Te,0);else throw new Error("Unknown depthTexture format")}function pe(G){const L=i.get(G),oe=G.isWebGLCubeRenderTarget===!0;if(G.depthTexture&&!L.__autoAllocateDepthBuffer){if(oe)throw new Error("target.depthTexture not supported in Cube render targets");ge(L.__webglFramebuffer,G)}else if(oe){L.__webglDepthbuffer=[];for(let Te=0;Te<6;Te++)t.bindFramebuffer(n.FRAMEBUFFER,L.__webglFramebuffer[Te]),L.__webglDepthbuffer[Te]=n.createRenderbuffer(),q(L.__webglDepthbuffer[Te],G,!1)}else t.bindFramebuffer(n.FRAMEBUFFER,L.__webglFramebuffer),L.__webglDepthbuffer=n.createRenderbuffer(),q(L.__webglDepthbuffer,G,!1);t.bindFramebuffer(n.FRAMEBUFFER,null)}function Ee(G,L,oe){const Te=i.get(G);L!==void 0&&Me(Te.__webglFramebuffer,G,G.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),oe!==void 0&&pe(G)}function ye(G){const L=G.texture,oe=i.get(G),Te=i.get(L);G.addEventListener("dispose",Y),G.isWebGLMultipleRenderTargets!==!0&&(Te.__webglTexture===void 0&&(Te.__webglTexture=n.createTexture()),Te.__version=L.version,o.memory.textures++);const xe=G.isWebGLCubeRenderTarget===!0,be=G.isWebGLMultipleRenderTargets===!0,Ye=E(G)||a;if(xe){oe.__webglFramebuffer=[];for(let Ie=0;Ie<6;Ie++)if(a&&L.mipmaps&&L.mipmaps.length>0){oe.__webglFramebuffer[Ie]=[];for(let Oe=0;Oe<L.mipmaps.length;Oe++)oe.__webglFramebuffer[Ie][Oe]=n.createFramebuffer()}else oe.__webglFramebuffer[Ie]=n.createFramebuffer()}else{if(a&&L.mipmaps&&L.mipmaps.length>0){oe.__webglFramebuffer=[];for(let Ie=0;Ie<L.mipmaps.length;Ie++)oe.__webglFramebuffer[Ie]=n.createFramebuffer()}else oe.__webglFramebuffer=n.createFramebuffer();if(be)if(r.drawBuffers){const Ie=G.texture;for(let Oe=0,ot=Ie.length;Oe<ot;Oe++){const Ct=i.get(Ie[Oe]);Ct.__webglTexture===void 0&&(Ct.__webglTexture=n.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&G.samples>0&&et(G)===!1){const Ie=be?L:[L];oe.__webglMultisampledFramebuffer=n.createFramebuffer(),oe.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,oe.__webglMultisampledFramebuffer);for(let Oe=0;Oe<Ie.length;Oe++){const ot=Ie[Oe];oe.__webglColorRenderbuffer[Oe]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,oe.__webglColorRenderbuffer[Oe]);const Ct=s.convert(ot.format,ot.colorSpace),Re=s.convert(ot.type),Rt=I(ot.internalFormat,Ct,Re,ot.colorSpace,G.isXRRenderTarget===!0),K=Ve(G);n.renderbufferStorageMultisample(n.RENDERBUFFER,K,Rt,G.width,G.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Oe,n.RENDERBUFFER,oe.__webglColorRenderbuffer[Oe])}n.bindRenderbuffer(n.RENDERBUFFER,null),G.depthBuffer&&(oe.__webglDepthRenderbuffer=n.createRenderbuffer(),q(oe.__webglDepthRenderbuffer,G,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(xe){t.bindTexture(n.TEXTURE_CUBE_MAP,Te.__webglTexture),Le(n.TEXTURE_CUBE_MAP,L,Ye);for(let Ie=0;Ie<6;Ie++)if(a&&L.mipmaps&&L.mipmaps.length>0)for(let Oe=0;Oe<L.mipmaps.length;Oe++)Me(oe.__webglFramebuffer[Ie][Oe],G,L,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,Oe);else Me(oe.__webglFramebuffer[Ie],G,L,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,0);C(L,Ye)&&R(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(be){const Ie=G.texture;for(let Oe=0,ot=Ie.length;Oe<ot;Oe++){const Ct=Ie[Oe],Re=i.get(Ct);t.bindTexture(n.TEXTURE_2D,Re.__webglTexture),Le(n.TEXTURE_2D,Ct,Ye),Me(oe.__webglFramebuffer,G,Ct,n.COLOR_ATTACHMENT0+Oe,n.TEXTURE_2D,0),C(Ct,Ye)&&R(n.TEXTURE_2D)}t.unbindTexture()}else{let Ie=n.TEXTURE_2D;if((G.isWebGL3DRenderTarget||G.isWebGLArrayRenderTarget)&&(a?Ie=G.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(Ie,Te.__webglTexture),Le(Ie,L,Ye),a&&L.mipmaps&&L.mipmaps.length>0)for(let Oe=0;Oe<L.mipmaps.length;Oe++)Me(oe.__webglFramebuffer[Oe],G,L,n.COLOR_ATTACHMENT0,Ie,Oe);else Me(oe.__webglFramebuffer,G,L,n.COLOR_ATTACHMENT0,Ie,0);C(L,Ye)&&R(Ie),t.unbindTexture()}G.depthBuffer&&pe(G)}function We(G){const L=E(G)||a,oe=G.isWebGLMultipleRenderTargets===!0?G.texture:[G.texture];for(let Te=0,xe=oe.length;Te<xe;Te++){const be=oe[Te];if(C(be,L)){const Ye=G.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:n.TEXTURE_2D,Ie=i.get(be).__webglTexture;t.bindTexture(Ye,Ie),R(Ye),t.unbindTexture()}}}function He(G){if(a&&G.samples>0&&et(G)===!1){const L=G.isWebGLMultipleRenderTargets?G.texture:[G.texture],oe=G.width,Te=G.height;let xe=n.COLOR_BUFFER_BIT;const be=[],Ye=G.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Ie=i.get(G),Oe=G.isWebGLMultipleRenderTargets===!0;if(Oe)for(let ot=0;ot<L.length;ot++)t.bindFramebuffer(n.FRAMEBUFFER,Ie.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+ot,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,Ie.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+ot,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,Ie.__webglMultisampledFramebuffer),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,Ie.__webglFramebuffer);for(let ot=0;ot<L.length;ot++){be.push(n.COLOR_ATTACHMENT0+ot),G.depthBuffer&&be.push(Ye);const Ct=Ie.__ignoreDepthValues!==void 0?Ie.__ignoreDepthValues:!1;if(Ct===!1&&(G.depthBuffer&&(xe|=n.DEPTH_BUFFER_BIT),G.stencilBuffer&&(xe|=n.STENCIL_BUFFER_BIT)),Oe&&n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,Ie.__webglColorRenderbuffer[ot]),Ct===!0&&(n.invalidateFramebuffer(n.READ_FRAMEBUFFER,[Ye]),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[Ye])),Oe){const Re=i.get(L[ot]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,Re,0)}n.blitFramebuffer(0,0,oe,Te,0,0,oe,Te,xe,n.NEAREST),m&&n.invalidateFramebuffer(n.READ_FRAMEBUFFER,be)}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),Oe)for(let ot=0;ot<L.length;ot++){t.bindFramebuffer(n.FRAMEBUFFER,Ie.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+ot,n.RENDERBUFFER,Ie.__webglColorRenderbuffer[ot]);const Ct=i.get(L[ot]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,Ie.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+ot,n.TEXTURE_2D,Ct,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,Ie.__webglMultisampledFramebuffer)}}function Ve(G){return Math.min(d,G.samples)}function et(G){const L=i.get(G);return a&&G.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&L.__useRenderToTexture!==!1}function xt(G){const L=o.render.frame;v.get(G)!==L&&(v.set(G,L),G.update())}function Ht(G,L){const oe=G.colorSpace,Te=G.format,xe=G.type;return G.isCompressedTexture===!0||G.isVideoTexture===!0||G.format===a2||oe!==Is&&oe!==$i&&(Vt.getTransfer(oe)===Kt?a===!1?e.has("EXT_sRGB")===!0&&Te===Ui?(G.format=a2,G.minFilter=hn,G.generateMipmaps=!1):L=A9.sRGBToLinear(L):(Te!==Ui||xe!==Cs)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",oe)),L}this.allocateTextureUnit=D,this.resetTextureUnits=te,this.setTexture2D=j,this.setTexture2DArray=N,this.setTexture3D=X,this.setTextureCube=ce,this.rebindTextures=Ee,this.setupRenderTarget=ye,this.updateRenderTargetMipmap=We,this.updateMultisampleRenderTarget=He,this.setupDepthRenderbuffer=pe,this.setupFrameBufferTexture=Me,this.useMultisampledRTT=et}function bb(n,e,t){const i=t.isWebGL2;function r(s,o=$i){let a;const l=Vt.getTransfer(o);if(s===Cs)return n.UNSIGNED_BYTE;if(s===h9)return n.UNSIGNED_SHORT_4_4_4_4;if(s===d9)return n.UNSIGNED_SHORT_5_5_5_1;if(s===WC)return n.BYTE;if(s===jC)return n.SHORT;if(s===$2)return n.UNSIGNED_SHORT;if(s===f9)return n.INT;if(s===io)return n.UNSIGNED_INT;if(s===As)return n.FLOAT;if(s===Su)return i?n.HALF_FLOAT:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===qC)return n.ALPHA;if(s===Ui)return n.RGBA;if(s===XC)return n.LUMINANCE;if(s===JC)return n.LUMINANCE_ALPHA;if(s===sa)return n.DEPTH_COMPONENT;if(s===El)return n.DEPTH_STENCIL;if(s===a2)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===KC)return n.RED;if(s===p9)return n.RED_INTEGER;if(s===YC)return n.RG;if(s===m9)return n.RG_INTEGER;if(s===g9)return n.RGBA_INTEGER;if(s===vp||s===yp||s===xp||s===_p)if(l===Kt)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===vp)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===yp)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===xp)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===_p)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===vp)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===yp)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===xp)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===_p)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===zg||s===Gg||s===Vg||s===Wg)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===zg)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===Gg)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===Vg)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===Wg)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===QC)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===jg||s===qg)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(s===jg)return l===Kt?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===qg)return l===Kt?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===Xg||s===Jg||s===Kg||s===Yg||s===Qg||s===Zg||s===$g||s===e8||s===t8||s===n8||s===i8||s===r8||s===s8||s===o8)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(s===Xg)return l===Kt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===Jg)return l===Kt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===Kg)return l===Kt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===Yg)return l===Kt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===Qg)return l===Kt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===Zg)return l===Kt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===$g)return l===Kt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===e8)return l===Kt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===t8)return l===Kt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===n8)return l===Kt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===i8)return l===Kt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===r8)return l===Kt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===s8)return l===Kt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===o8)return l===Kt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===Ap||s===a8||s===l8)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(s===Ap)return l===Kt?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(s===a8)return a.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(s===l8)return a.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(s===ZC||s===c8||s===u8||s===f8)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(s===Ap)return a.COMPRESSED_RED_RGTC1_EXT;if(s===c8)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===u8)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===f8)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return s===ra?i?n.UNSIGNED_INT_24_8:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):n[s]!==void 0?n[s]:null}return{convert:r}}class Pb extends tn{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class ro extends Lt{constructor(){super(),this.isGroup=!0,this.type="Group"}}const Jj={type:"move"};class W5{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new ro,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new ro,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new F,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new F),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new ro,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new F,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new F),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const i of e.hand.values())this._getHandJoint(t,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,i){let r=null,s=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(c&&e.hand){o=!0;for(const S of e.hand.values()){const _=t.getJointPose(S,i),g=this._getHandJoint(c,S);_!==null&&(g.matrix.fromArray(_.transform.matrix),g.matrix.decompose(g.position,g.rotation,g.scale),g.matrixWorldNeedsUpdate=!0,g.jointRadius=_.radius),g.visible=_!==null}const h=c.joints["index-finger-tip"],d=c.joints["thumb-tip"],p=h.position.distanceTo(d.position),m=.02,v=.005;c.inputState.pinching&&p>m+v?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&p<=m-v&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,i),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(r=t.getPose(e.targetRaySpace,i),r===null&&s!==null&&(r=s),r!==null&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,r.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(r.linearVelocity)):a.hasLinearVelocity=!1,r.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(r.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(Jj)))}return a!==null&&(a.visible=r!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=o!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const i=new ro;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[t.jointName]=i,e.add(i)}return e.joints[t.jointName]}}class Rb extends ln{constructor(e,t,i,r,s,o,a,l,c,h){if(h=h!==void 0?h:sa,h!==sa&&h!==El)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");i===void 0&&h===sa&&(i=io),i===void 0&&h===El&&(i=ra),super(null,r,s,o,a,l,h,i,c),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=a!==void 0?a:Mn,this.minFilter=l!==void 0?l:Mn,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class Kj extends Ds{constructor(e,t){super();const i=this;let r=null,s=1,o=null,a="local-floor",l=1,c=null,h=null,d=null,p=null,m=null,v=null;const S=t.getContextAttributes();let _=null,g=null;const x=[],A=[],E=new tn;E.layers.enable(1),E.viewport=new Wt;const T=new tn;T.layers.enable(2),T.viewport=new Wt;const C=[E,T],R=new Pb;R.layers.enable(1),R.layers.enable(2);let I=null,P=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(N){let X=x[N];return X===void 0&&(X=new W5,x[N]=X),X.getTargetRaySpace()},this.getControllerGrip=function(N){let X=x[N];return X===void 0&&(X=new W5,x[N]=X),X.getGripSpace()},this.getHand=function(N){let X=x[N];return X===void 0&&(X=new W5,x[N]=X),X.getHandSpace()};function B(N){const X=A.indexOf(N.inputSource);if(X===-1)return;const ce=x[X];ce!==void 0&&(ce.update(N.inputSource,N.frame,c||o),ce.dispatchEvent({type:N.type,data:N.inputSource}))}function U(){r.removeEventListener("select",B),r.removeEventListener("selectstart",B),r.removeEventListener("selectend",B),r.removeEventListener("squeeze",B),r.removeEventListener("squeezestart",B),r.removeEventListener("squeezeend",B),r.removeEventListener("end",U),r.removeEventListener("inputsourceschange",Y);for(let N=0;N<x.length;N++){const X=A[N];X!==null&&(A[N]=null,x[N].disconnect(X))}I=null,P=null,e.setRenderTarget(_),m=null,p=null,d=null,r=null,g=null,j.stop(),i.isPresenting=!1,i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(N){s=N,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(N){a=N,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||o},this.setReferenceSpace=function(N){c=N},this.getBaseLayer=function(){return p!==null?p:m},this.getBinding=function(){return d},this.getFrame=function(){return v},this.getSession=function(){return r},this.setSession=async function(N){if(r=N,r!==null){if(_=e.getRenderTarget(),r.addEventListener("select",B),r.addEventListener("selectstart",B),r.addEventListener("selectend",B),r.addEventListener("squeeze",B),r.addEventListener("squeezestart",B),r.addEventListener("squeezeend",B),r.addEventListener("end",U),r.addEventListener("inputsourceschange",Y),S.xrCompatible!==!0&&await t.makeXRCompatible(),r.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const X={antialias:r.renderState.layers===void 0?S.antialias:!0,alpha:!0,depth:S.depth,stencil:S.stencil,framebufferScaleFactor:s};m=new XRWebGLLayer(r,t,X),r.updateRenderState({baseLayer:m}),g=new ts(m.framebufferWidth,m.framebufferHeight,{format:Ui,type:Cs,colorSpace:e.outputColorSpace,stencilBuffer:S.stencil})}else{let X=null,ce=null,me=null;S.depth&&(me=S.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,X=S.stencil?El:sa,ce=S.stencil?ra:io);const ve={colorFormat:t.RGBA8,depthFormat:me,scaleFactor:s};d=new XRWebGLBinding(r,t),p=d.createProjectionLayer(ve),r.updateRenderState({layers:[p]}),g=new ts(p.textureWidth,p.textureHeight,{format:Ui,type:Cs,depthTexture:new Rb(p.textureWidth,p.textureHeight,ce,void 0,void 0,void 0,void 0,void 0,void 0,X),stencilBuffer:S.stencil,colorSpace:e.outputColorSpace,samples:S.antialias?4:0});const Pe=e.properties.get(g);Pe.__ignoreDepthValues=p.ignoreDepthValues}g.isXRRenderTarget=!0,this.setFoveation(l),c=null,o=await r.requestReferenceSpace(a),j.setContext(r),j.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode};function Y(N){for(let X=0;X<N.removed.length;X++){const ce=N.removed[X],me=A.indexOf(ce);me>=0&&(A[me]=null,x[me].disconnect(ce))}for(let X=0;X<N.added.length;X++){const ce=N.added[X];let me=A.indexOf(ce);if(me===-1){for(let Pe=0;Pe<x.length;Pe++)if(Pe>=A.length){A.push(ce),me=Pe;break}else if(A[Pe]===null){A[Pe]=ce,me=Pe;break}if(me===-1)break}const ve=x[me];ve&&ve.connect(ce)}}const ee=new F,V=new F;function Q(N,X,ce){ee.setFromMatrixPosition(X.matrixWorld),V.setFromMatrixPosition(ce.matrixWorld);const me=ee.distanceTo(V),ve=X.projectionMatrix.elements,Pe=ce.projectionMatrix.elements,Le=ve[14]/(ve[10]-1),Xe=ve[14]/(ve[10]+1),pt=(ve[9]+1)/ve[5],rt=(ve[9]-1)/ve[5],Me=(ve[8]-1)/ve[0],q=(Pe[8]+1)/Pe[0],ge=Le*Me,pe=Le*q,Ee=me/(-Me+q),ye=Ee*-Me;X.matrixWorld.decompose(N.position,N.quaternion,N.scale),N.translateX(ye),N.translateZ(Ee),N.matrixWorld.compose(N.position,N.quaternion,N.scale),N.matrixWorldInverse.copy(N.matrixWorld).invert();const We=Le+Ee,He=Xe+Ee,Ve=ge-ye,et=pe+(me-ye),xt=pt*Xe/He*We,Ht=rt*Xe/He*We;N.projectionMatrix.makePerspective(Ve,et,xt,Ht,We,He),N.projectionMatrixInverse.copy(N.projectionMatrix).invert()}function ne(N,X){X===null?N.matrixWorld.copy(N.matrix):N.matrixWorld.multiplyMatrices(X.matrixWorld,N.matrix),N.matrixWorldInverse.copy(N.matrixWorld).invert()}this.updateCamera=function(N){if(r===null)return;R.near=T.near=E.near=N.near,R.far=T.far=E.far=N.far,(I!==R.near||P!==R.far)&&(r.updateRenderState({depthNear:R.near,depthFar:R.far}),I=R.near,P=R.far);const X=N.parent,ce=R.cameras;ne(R,X);for(let me=0;me<ce.length;me++)ne(ce[me],X);ce.length===2?Q(R,E,T):R.projectionMatrix.copy(E.projectionMatrix),te(N,R,X)};function te(N,X,ce){ce===null?N.matrix.copy(X.matrixWorld):(N.matrix.copy(ce.matrixWorld),N.matrix.invert(),N.matrix.multiply(X.matrixWorld)),N.matrix.decompose(N.position,N.quaternion,N.scale),N.updateMatrixWorld(!0),N.projectionMatrix.copy(X.projectionMatrix),N.projectionMatrixInverse.copy(X.projectionMatrixInverse),N.isPerspectiveCamera&&(N.fov=Eu*2*Math.atan(1/N.projectionMatrix.elements[5]),N.zoom=1)}this.getCamera=function(){return R},this.getFoveation=function(){if(!(p===null&&m===null))return l},this.setFoveation=function(N){l=N,p!==null&&(p.fixedFoveation=N),m!==null&&m.fixedFoveation!==void 0&&(m.fixedFoveation=N)};let D=null;function W(N,X){if(h=X.getViewerPose(c||o),v=X,h!==null){const ce=h.views;m!==null&&(e.setRenderTargetFramebuffer(g,m.framebuffer),e.setRenderTarget(g));let me=!1;ce.length!==R.cameras.length&&(R.cameras.length=0,me=!0);for(let ve=0;ve<ce.length;ve++){const Pe=ce[ve];let Le=null;if(m!==null)Le=m.getViewport(Pe);else{const pt=d.getViewSubImage(p,Pe);Le=pt.viewport,ve===0&&(e.setRenderTargetTextures(g,pt.colorTexture,p.ignoreDepthValues?void 0:pt.depthStencilTexture),e.setRenderTarget(g))}let Xe=C[ve];Xe===void 0&&(Xe=new tn,Xe.layers.enable(ve),Xe.viewport=new Wt,C[ve]=Xe),Xe.matrix.fromArray(Pe.transform.matrix),Xe.matrix.decompose(Xe.position,Xe.quaternion,Xe.scale),Xe.projectionMatrix.fromArray(Pe.projectionMatrix),Xe.projectionMatrixInverse.copy(Xe.projectionMatrix).invert(),Xe.viewport.set(Le.x,Le.y,Le.width,Le.height),ve===0&&(R.matrix.copy(Xe.matrix),R.matrix.decompose(R.position,R.quaternion,R.scale)),me===!0&&R.cameras.push(Xe)}}for(let ce=0;ce<x.length;ce++){const me=A[ce],ve=x[ce];me!==null&&ve!==void 0&&ve.update(me,X,c||o)}D&&D(N,X),X.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:X}),v=null}const j=new Mb;j.setAnimationLoop(W),this.setAnimationLoop=function(N){D=N},this.dispose=function(){}}}function Yj(n,e){function t(_,g){_.matrixAutoUpdate===!0&&_.updateMatrix(),g.value.copy(_.matrix)}function i(_,g){g.color.getRGB(_.fogColor.value,_b(n)),g.isFog?(_.fogNear.value=g.near,_.fogFar.value=g.far):g.isFogExp2&&(_.fogDensity.value=g.density)}function r(_,g,x,A,E){g.isMeshBasicMaterial||g.isMeshLambertMaterial?s(_,g):g.isMeshToonMaterial?(s(_,g),d(_,g)):g.isMeshPhongMaterial?(s(_,g),h(_,g)):g.isMeshStandardMaterial?(s(_,g),p(_,g),g.isMeshPhysicalMaterial&&m(_,g,E)):g.isMeshMatcapMaterial?(s(_,g),v(_,g)):g.isMeshDepthMaterial?s(_,g):g.isMeshDistanceMaterial?(s(_,g),S(_,g)):g.isMeshNormalMaterial?s(_,g):g.isLineBasicMaterial?(o(_,g),g.isLineDashedMaterial&&a(_,g)):g.isPointsMaterial?l(_,g,x,A):g.isSpriteMaterial?c(_,g):g.isShadowMaterial?(_.color.value.copy(g.color),_.opacity.value=g.opacity):g.isShaderMaterial&&(g.uniformsNeedUpdate=!1)}function s(_,g){_.opacity.value=g.opacity,g.color&&_.diffuse.value.copy(g.color),g.emissive&&_.emissive.value.copy(g.emissive).multiplyScalar(g.emissiveIntensity),g.map&&(_.map.value=g.map,t(g.map,_.mapTransform)),g.alphaMap&&(_.alphaMap.value=g.alphaMap,t(g.alphaMap,_.alphaMapTransform)),g.bumpMap&&(_.bumpMap.value=g.bumpMap,t(g.bumpMap,_.bumpMapTransform),_.bumpScale.value=g.bumpScale,g.side===xi&&(_.bumpScale.value*=-1)),g.normalMap&&(_.normalMap.value=g.normalMap,t(g.normalMap,_.normalMapTransform),_.normalScale.value.copy(g.normalScale),g.side===xi&&_.normalScale.value.negate()),g.displacementMap&&(_.displacementMap.value=g.displacementMap,t(g.displacementMap,_.displacementMapTransform),_.displacementScale.value=g.displacementScale,_.displacementBias.value=g.displacementBias),g.emissiveMap&&(_.emissiveMap.value=g.emissiveMap,t(g.emissiveMap,_.emissiveMapTransform)),g.specularMap&&(_.specularMap.value=g.specularMap,t(g.specularMap,_.specularMapTransform)),g.alphaTest>0&&(_.alphaTest.value=g.alphaTest);const x=e.get(g).envMap;if(x&&(_.envMap.value=x,_.flipEnvMap.value=x.isCubeTexture&&x.isRenderTargetTexture===!1?-1:1,_.reflectivity.value=g.reflectivity,_.ior.value=g.ior,_.refractionRatio.value=g.refractionRatio),g.lightMap){_.lightMap.value=g.lightMap;const A=n._useLegacyLights===!0?Math.PI:1;_.lightMapIntensity.value=g.lightMapIntensity*A,t(g.lightMap,_.lightMapTransform)}g.aoMap&&(_.aoMap.value=g.aoMap,_.aoMapIntensity.value=g.aoMapIntensity,t(g.aoMap,_.aoMapTransform))}function o(_,g){_.diffuse.value.copy(g.color),_.opacity.value=g.opacity,g.map&&(_.map.value=g.map,t(g.map,_.mapTransform))}function a(_,g){_.dashSize.value=g.dashSize,_.totalSize.value=g.dashSize+g.gapSize,_.scale.value=g.scale}function l(_,g,x,A){_.diffuse.value.copy(g.color),_.opacity.value=g.opacity,_.size.value=g.size*x,_.scale.value=A*.5,g.map&&(_.map.value=g.map,t(g.map,_.uvTransform)),g.alphaMap&&(_.alphaMap.value=g.alphaMap,t(g.alphaMap,_.alphaMapTransform)),g.alphaTest>0&&(_.alphaTest.value=g.alphaTest)}function c(_,g){_.diffuse.value.copy(g.color),_.opacity.value=g.opacity,_.rotation.value=g.rotation,g.map&&(_.map.value=g.map,t(g.map,_.mapTransform)),g.alphaMap&&(_.alphaMap.value=g.alphaMap,t(g.alphaMap,_.alphaMapTransform)),g.alphaTest>0&&(_.alphaTest.value=g.alphaTest)}function h(_,g){_.specular.value.copy(g.specular),_.shininess.value=Math.max(g.shininess,1e-4)}function d(_,g){g.gradientMap&&(_.gradientMap.value=g.gradientMap)}function p(_,g){_.metalness.value=g.metalness,g.metalnessMap&&(_.metalnessMap.value=g.metalnessMap,t(g.metalnessMap,_.metalnessMapTransform)),_.roughness.value=g.roughness,g.roughnessMap&&(_.roughnessMap.value=g.roughnessMap,t(g.roughnessMap,_.roughnessMapTransform)),e.get(g).envMap&&(_.envMapIntensity.value=g.envMapIntensity)}function m(_,g,x){_.ior.value=g.ior,g.sheen>0&&(_.sheenColor.value.copy(g.sheenColor).multiplyScalar(g.sheen),_.sheenRoughness.value=g.sheenRoughness,g.sheenColorMap&&(_.sheenColorMap.value=g.sheenColorMap,t(g.sheenColorMap,_.sheenColorMapTransform)),g.sheenRoughnessMap&&(_.sheenRoughnessMap.value=g.sheenRoughnessMap,t(g.sheenRoughnessMap,_.sheenRoughnessMapTransform))),g.clearcoat>0&&(_.clearcoat.value=g.clearcoat,_.clearcoatRoughness.value=g.clearcoatRoughness,g.clearcoatMap&&(_.clearcoatMap.value=g.clearcoatMap,t(g.clearcoatMap,_.clearcoatMapTransform)),g.clearcoatRoughnessMap&&(_.clearcoatRoughnessMap.value=g.clearcoatRoughnessMap,t(g.clearcoatRoughnessMap,_.clearcoatRoughnessMapTransform)),g.clearcoatNormalMap&&(_.clearcoatNormalMap.value=g.clearcoatNormalMap,t(g.clearcoatNormalMap,_.clearcoatNormalMapTransform),_.clearcoatNormalScale.value.copy(g.clearcoatNormalScale),g.side===xi&&_.clearcoatNormalScale.value.negate())),g.iridescence>0&&(_.iridescence.value=g.iridescence,_.iridescenceIOR.value=g.iridescenceIOR,_.iridescenceThicknessMinimum.value=g.iridescenceThicknessRange[0],_.iridescenceThicknessMaximum.value=g.iridescenceThicknessRange[1],g.iridescenceMap&&(_.iridescenceMap.value=g.iridescenceMap,t(g.iridescenceMap,_.iridescenceMapTransform)),g.iridescenceThicknessMap&&(_.iridescenceThicknessMap.value=g.iridescenceThicknessMap,t(g.iridescenceThicknessMap,_.iridescenceThicknessMapTransform))),g.transmission>0&&(_.transmission.value=g.transmission,_.transmissionSamplerMap.value=x.texture,_.transmissionSamplerSize.value.set(x.width,x.height),g.transmissionMap&&(_.transmissionMap.value=g.transmissionMap,t(g.transmissionMap,_.transmissionMapTransform)),_.thickness.value=g.thickness,g.thicknessMap&&(_.thicknessMap.value=g.thicknessMap,t(g.thicknessMap,_.thicknessMapTransform)),_.attenuationDistance.value=g.attenuationDistance,_.attenuationColor.value.copy(g.attenuationColor)),g.anisotropy>0&&(_.anisotropyVector.value.set(g.anisotropy*Math.cos(g.anisotropyRotation),g.anisotropy*Math.sin(g.anisotropyRotation)),g.anisotropyMap&&(_.anisotropyMap.value=g.anisotropyMap,t(g.anisotropyMap,_.anisotropyMapTransform))),_.specularIntensity.value=g.specularIntensity,_.specularColor.value.copy(g.specularColor),g.specularColorMap&&(_.specularColorMap.value=g.specularColorMap,t(g.specularColorMap,_.specularColorMapTransform)),g.specularIntensityMap&&(_.specularIntensityMap.value=g.specularIntensityMap,t(g.specularIntensityMap,_.specularIntensityMapTransform))}function v(_,g){g.matcap&&(_.matcap.value=g.matcap)}function S(_,g){const x=e.get(g).light;_.referencePosition.value.setFromMatrixPosition(x.matrixWorld),_.nearDistance.value=x.shadow.camera.near,_.farDistance.value=x.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:r}}function Qj(n,e,t,i){let r={},s={},o=[];const a=t.isWebGL2?n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS):0;function l(x,A){const E=A.program;i.uniformBlockBinding(x,E)}function c(x,A){let E=r[x.id];E===void 0&&(v(x),E=h(x),r[x.id]=E,x.addEventListener("dispose",_));const T=A.program;i.updateUBOMapping(x,T);const C=e.render.frame;s[x.id]!==C&&(p(x),s[x.id]=C)}function h(x){const A=d();x.__bindingPointIndex=A;const E=n.createBuffer(),T=x.__size,C=x.usage;return n.bindBuffer(n.UNIFORM_BUFFER,E),n.bufferData(n.UNIFORM_BUFFER,T,C),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,A,E),E}function d(){for(let x=0;x<a;x++)if(o.indexOf(x)===-1)return o.push(x),x;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function p(x){const A=r[x.id],E=x.uniforms,T=x.__cache;n.bindBuffer(n.UNIFORM_BUFFER,A);for(let C=0,R=E.length;C<R;C++){const I=E[C];if(m(I,C,T)===!0){const P=I.__offset,B=Array.isArray(I.value)?I.value:[I.value];let U=0;for(let Y=0;Y<B.length;Y++){const ee=B[Y],V=S(ee);typeof ee=="number"?(I.__data[0]=ee,n.bufferSubData(n.UNIFORM_BUFFER,P+U,I.__data)):ee.isMatrix3?(I.__data[0]=ee.elements[0],I.__data[1]=ee.elements[1],I.__data[2]=ee.elements[2],I.__data[3]=ee.elements[0],I.__data[4]=ee.elements[3],I.__data[5]=ee.elements[4],I.__data[6]=ee.elements[5],I.__data[7]=ee.elements[0],I.__data[8]=ee.elements[6],I.__data[9]=ee.elements[7],I.__data[10]=ee.elements[8],I.__data[11]=ee.elements[0]):(ee.toArray(I.__data,U),U+=V.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,P,I.__data)}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function m(x,A,E){const T=x.value;if(E[A]===void 0){if(typeof T=="number")E[A]=T;else{const C=Array.isArray(T)?T:[T],R=[];for(let I=0;I<C.length;I++)R.push(C[I].clone());E[A]=R}return!0}else if(typeof T=="number"){if(E[A]!==T)return E[A]=T,!0}else{const C=Array.isArray(E[A])?E[A]:[E[A]],R=Array.isArray(T)?T:[T];for(let I=0;I<C.length;I++){const P=C[I];if(P.equals(R[I])===!1)return P.copy(R[I]),!0}}return!1}function v(x){const A=x.uniforms;let E=0;const T=16;let C=0;for(let R=0,I=A.length;R<I;R++){const P=A[R],B={boundary:0,storage:0},U=Array.isArray(P.value)?P.value:[P.value];for(let Y=0,ee=U.length;Y<ee;Y++){const V=U[Y],Q=S(V);B.boundary+=Q.boundary,B.storage+=Q.storage}if(P.__data=new Float32Array(B.storage/Float32Array.BYTES_PER_ELEMENT),P.__offset=E,R>0){C=E%T;const Y=T-C;C!==0&&Y-B.boundary<0&&(E+=T-C,P.__offset=E)}E+=B.storage}return C=E%T,C>0&&(E+=T-C),x.__size=E,x.__cache={},this}function S(x){const A={boundary:0,storage:0};return typeof x=="number"?(A.boundary=4,A.storage=4):x.isVector2?(A.boundary=8,A.storage=8):x.isVector3||x.isColor?(A.boundary=16,A.storage=12):x.isVector4?(A.boundary=16,A.storage=16):x.isMatrix3?(A.boundary=48,A.storage=48):x.isMatrix4?(A.boundary=64,A.storage=64):x.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",x),A}function _(x){const A=x.target;A.removeEventListener("dispose",_);const E=o.indexOf(A.__bindingPointIndex);o.splice(E,1),n.deleteBuffer(r[A.id]),delete r[A.id],delete s[A.id]}function g(){for(const x in r)n.deleteBuffer(r[x]);o=[],r={},s={}}return{bind:l,update:c,dispose:g}}class P9{constructor(e={}){const{canvas:t=vb(),context:i=null,depth:r=!0,stencil:s=!0,alpha:o=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:h="default",failIfMajorPerformanceCaveat:d=!1}=e;this.isWebGLRenderer=!0;let p;i!==null?p=i.getContextAttributes().alpha:p=o;const m=new Uint32Array(4),v=new Int32Array(4);let S=null,_=null;const g=[],x=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=Vn,this._useLegacyLights=!1,this.toneMapping=Ts,this.toneMappingExposure=1;const A=this;let E=!1,T=0,C=0,R=null,I=-1,P=null;const B=new Wt,U=new Wt;let Y=null;const ee=new ze(0);let V=0,Q=t.width,ne=t.height,te=1,D=null,W=null;const j=new Wt(0,0,Q,ne),N=new Wt(0,0,Q,ne);let X=!1;const ce=new im;let me=!1,ve=!1,Pe=null;const Le=new ct,Xe=new de,pt=new F,rt={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Me(){return R===null?te:1}let q=i;function ge(O,ie){for(let fe=0;fe<O.length;fe++){const se=O[fe],he=t.getContext(se,ie);if(he!==null)return he}return null}try{const O={alpha:!0,depth:r,stencil:s,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:h,failIfMajorPerformanceCaveat:d};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${Uu}`),t.addEventListener("webglcontextlost",Ae,!1),t.addEventListener("webglcontextrestored",we,!1),t.addEventListener("webglcontextcreationerror",Ne,!1),q===null){const ie=["webgl2","webgl","experimental-webgl"];if(A.isWebGL1Renderer===!0&&ie.shift(),q=ge(ie,O),q===null)throw ge(ie)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}typeof WebGLRenderingContext<"u"&&q instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),q.getShaderPrecisionFormat===void 0&&(q.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(O){throw console.error("THREE.WebGLRenderer: "+O.message),O}let pe,Ee,ye,We,He,Ve,et,xt,Ht,G,L,oe,Te,xe,be,Ye,Ie,Oe,ot,Ct,Re,Rt,K,ue;function Se(){pe=new dW(q),Ee=new aW(q,pe,e),pe.init(Ee),Rt=new bb(q,pe,Ee),ye=new qj(q,pe,Ee),We=new gW(q),He=new Dj,Ve=new Xj(q,pe,ye,He,Ee,Rt,We),et=new cW(A),xt=new hW(A),Ht=new Tz(q,Ee),K=new sW(q,pe,Ht,Ee),G=new pW(q,Ht,We,K),L=new _W(q,G,Ht,We),ot=new xW(q,Ee,Ve),Ye=new lW(He),oe=new Lj(A,et,xt,pe,Ee,K,Ye),Te=new Yj(A,He),xe=new Nj,be=new Gj(pe,Ee),Oe=new rW(A,et,xt,ye,L,p,l),Ie=new jj(A,L,Ee),ue=new Qj(q,We,Ee,ye),Ct=new oW(q,pe,We,Ee),Re=new mW(q,pe,We,Ee),We.programs=oe.programs,A.capabilities=Ee,A.extensions=pe,A.properties=He,A.renderLists=xe,A.shadowMap=Ie,A.state=ye,A.info=We}Se();const z=new Kj(A,q);this.xr=z,this.getContext=function(){return q},this.getContextAttributes=function(){return q.getContextAttributes()},this.forceContextLoss=function(){const O=pe.get("WEBGL_lose_context");O&&O.loseContext()},this.forceContextRestore=function(){const O=pe.get("WEBGL_lose_context");O&&O.restoreContext()},this.getPixelRatio=function(){return te},this.setPixelRatio=function(O){O!==void 0&&(te=O,this.setSize(Q,ne,!1))},this.getSize=function(O){return O.set(Q,ne)},this.setSize=function(O,ie,fe=!0){if(z.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}Q=O,ne=ie,t.width=Math.floor(O*te),t.height=Math.floor(ie*te),fe===!0&&(t.style.width=O+"px",t.style.height=ie+"px"),this.setViewport(0,0,O,ie)},this.getDrawingBufferSize=function(O){return O.set(Q*te,ne*te).floor()},this.setDrawingBufferSize=function(O,ie,fe){Q=O,ne=ie,te=fe,t.width=Math.floor(O*fe),t.height=Math.floor(ie*fe),this.setViewport(0,0,O,ie)},this.getCurrentViewport=function(O){return O.copy(B)},this.getViewport=function(O){return O.copy(j)},this.setViewport=function(O,ie,fe,se){O.isVector4?j.set(O.x,O.y,O.z,O.w):j.set(O,ie,fe,se),ye.viewport(B.copy(j).multiplyScalar(te).floor())},this.getScissor=function(O){return O.copy(N)},this.setScissor=function(O,ie,fe,se){O.isVector4?N.set(O.x,O.y,O.z,O.w):N.set(O,ie,fe,se),ye.scissor(U.copy(N).multiplyScalar(te).floor())},this.getScissorTest=function(){return X},this.setScissorTest=function(O){ye.setScissorTest(X=O)},this.setOpaqueSort=function(O){D=O},this.setTransparentSort=function(O){W=O},this.getClearColor=function(O){return O.copy(Oe.getClearColor())},this.setClearColor=function(){Oe.setClearColor.apply(Oe,arguments)},this.getClearAlpha=function(){return Oe.getClearAlpha()},this.setClearAlpha=function(){Oe.setClearAlpha.apply(Oe,arguments)},this.clear=function(O=!0,ie=!0,fe=!0){let se=0;if(O){let he=!1;if(R!==null){const Je=R.texture.format;he=Je===g9||Je===m9||Je===p9}if(he){const Je=R.texture.type,nt=Je===Cs||Je===io||Je===$2||Je===ra||Je===h9||Je===d9,ut=Oe.getClearColor(),ft=Oe.getClearAlpha(),wt=ut.r,st=ut.g,dt=ut.b;nt?(m[0]=wt,m[1]=st,m[2]=dt,m[3]=ft,q.clearBufferuiv(q.COLOR,0,m)):(v[0]=wt,v[1]=st,v[2]=dt,v[3]=ft,q.clearBufferiv(q.COLOR,0,v))}else se|=q.COLOR_BUFFER_BIT}ie&&(se|=q.DEPTH_BUFFER_BIT),fe&&(se|=q.STENCIL_BUFFER_BIT),q.clear(se)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",Ae,!1),t.removeEventListener("webglcontextrestored",we,!1),t.removeEventListener("webglcontextcreationerror",Ne,!1),xe.dispose(),be.dispose(),He.dispose(),et.dispose(),xt.dispose(),L.dispose(),K.dispose(),ue.dispose(),oe.dispose(),z.dispose(),z.removeEventListener("sessionstart",Bt),z.removeEventListener("sessionend",kn),Pe&&(Pe.dispose(),Pe=null),vn.stop()};function Ae(O){O.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),E=!0}function we(){console.log("THREE.WebGLRenderer: Context Restored."),E=!1;const O=We.autoReset,ie=Ie.enabled,fe=Ie.autoUpdate,se=Ie.needsUpdate,he=Ie.type;Se(),We.autoReset=O,Ie.enabled=ie,Ie.autoUpdate=fe,Ie.needsUpdate=se,Ie.type=he}function Ne(O){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",O.statusMessage)}function Ue(O){const ie=O.target;ie.removeEventListener("dispose",Ue),_e(ie)}function _e(O){je(O),He.remove(O)}function je(O){const ie=He.get(O).programs;ie!==void 0&&(ie.forEach(function(fe){oe.releaseProgram(fe)}),O.isShaderMaterial&&oe.releaseShaderCache(O))}this.renderBufferDirect=function(O,ie,fe,se,he,Je){ie===null&&(ie=rt);const nt=he.isMesh&&he.matrixWorld.determinant()<0,ut=Bm(O,ie,fe,se,he);ye.setMaterial(se,nt);let ft=fe.index,wt=1;if(se.wireframe===!0){if(ft=G.getWireframeAttribute(fe),ft===void 0)return;wt=2}const st=fe.drawRange,dt=fe.attributes.position;let Jt=st.start*wt,Zt=(st.start+st.count)*wt;Je!==null&&(Jt=Math.max(Jt,Je.start*wt),Zt=Math.min(Zt,(Je.start+Je.count)*wt)),ft!==null?(Jt=Math.max(Jt,0),Zt=Math.min(Zt,ft.count)):dt!=null&&(Jt=Math.max(Jt,0),Zt=Math.min(Zt,dt.count));const Bi=Zt-Jt;if(Bi<0||Bi===1/0)return;K.setup(he,se,ut,fe,ft);let ji,qt=Ct;if(ft!==null&&(ji=Ht.get(ft),qt=Re,qt.setIndex(ji)),he.isMesh)se.wireframe===!0?(ye.setLineWidth(se.wireframeLinewidth*Me()),qt.setMode(q.LINES)):qt.setMode(q.TRIANGLES);else if(he.isLine){let mt=se.linewidth;mt===void 0&&(mt=1),ye.setLineWidth(mt*Me()),he.isLineSegments?qt.setMode(q.LINES):he.isLineLoop?qt.setMode(q.LINE_LOOP):qt.setMode(q.LINE_STRIP)}else he.isPoints?qt.setMode(q.POINTS):he.isSprite&&qt.setMode(q.TRIANGLES);if(he.isInstancedMesh)qt.renderInstances(Jt,Bi,he.count);else if(fe.isInstancedBufferGeometry){const mt=fe._maxInstanceCount!==void 0?fe._maxInstanceCount:1/0,Gt=Math.min(fe.instanceCount,mt);qt.renderInstances(Jt,Bi,Gt)}else qt.render(Jt,Bi)},this.compile=function(O,ie){function fe(se,he,Je){se.transparent===!0&&se.side===Tr&&se.forceSinglePass===!1?(se.side=xi,se.needsUpdate=!0,as(se,he,Je),se.side=Rs,se.needsUpdate=!0,as(se,he,Je),se.side=Tr):as(se,he,Je)}_=be.get(O),_.init(),x.push(_),O.traverseVisible(function(se){se.isLight&&se.layers.test(ie.layers)&&(_.pushLight(se),se.castShadow&&_.pushShadow(se))}),_.setupLights(A._useLegacyLights),O.traverse(function(se){const he=se.material;if(he)if(Array.isArray(he))for(let Je=0;Je<he.length;Je++){const nt=he[Je];fe(nt,O,se)}else fe(he,O,se)}),x.pop(),_=null};let tt=null;function cn(O){tt&&tt(O)}function Bt(){vn.stop()}function kn(){vn.start()}const vn=new Mb;vn.setAnimationLoop(cn),typeof self<"u"&&vn.setContext(self),this.setAnimationLoop=function(O){tt=O,z.setAnimationLoop(O),O===null?vn.stop():vn.start()},z.addEventListener("sessionstart",Bt),z.addEventListener("sessionend",kn),this.render=function(O,ie){if(ie!==void 0&&ie.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(E===!0)return;O.matrixWorldAutoUpdate===!0&&O.updateMatrixWorld(),ie.parent===null&&ie.matrixWorldAutoUpdate===!0&&ie.updateMatrixWorld(),z.enabled===!0&&z.isPresenting===!0&&(z.cameraAutoUpdate===!0&&z.updateCamera(ie),ie=z.getCamera()),O.isScene===!0&&O.onBeforeRender(A,O,ie,R),_=be.get(O,x.length),_.init(),x.push(_),Le.multiplyMatrices(ie.projectionMatrix,ie.matrixWorldInverse),ce.setFromProjectionMatrix(Le),ve=this.localClippingEnabled,me=Ye.init(this.clippingPlanes,ve),S=xe.get(O,g.length),S.init(),g.push(S),zd(O,ie,0,A.sortObjects),S.finish(),A.sortObjects===!0&&S.sort(D,W),this.info.render.frame++,me===!0&&Ye.beginShadows();const fe=_.state.shadowsArray;if(Ie.render(fe,O,ie),me===!0&&Ye.endShadows(),this.info.autoReset===!0&&this.info.reset(),Oe.render(S,O),_.setupLights(A._useLegacyLights),ie.isArrayCamera){const se=ie.cameras;for(let he=0,Je=se.length;he<Je;he++){const nt=se[he];Gd(S,O,nt,nt.viewport)}}else Gd(S,O,ie);R!==null&&(Ve.updateMultisampleRenderTarget(R),Ve.updateRenderTargetMipmap(R)),O.isScene===!0&&O.onAfterRender(A,O,ie),K.resetDefaultState(),I=-1,P=null,x.pop(),x.length>0?_=x[x.length-1]:_=null,g.pop(),g.length>0?S=g[g.length-1]:S=null};function zd(O,ie,fe,se){if(O.visible===!1)return;if(O.layers.test(ie.layers)){if(O.isGroup)fe=O.renderOrder;else if(O.isLOD)O.autoUpdate===!0&&O.update(ie);else if(O.isLight)_.pushLight(O),O.castShadow&&_.pushShadow(O);else if(O.isSprite){if(!O.frustumCulled||ce.intersectsSprite(O)){se&&pt.setFromMatrixPosition(O.matrixWorld).applyMatrix4(Le);const nt=L.update(O),ut=O.material;ut.visible&&S.push(O,nt,ut,fe,pt.z,null)}}else if((O.isMesh||O.isLine||O.isPoints)&&(!O.frustumCulled||ce.intersectsObject(O))){const nt=L.update(O),ut=O.material;if(se&&(O.boundingSphere!==void 0?(O.boundingSphere===null&&O.computeBoundingSphere(),pt.copy(O.boundingSphere.center)):(nt.boundingSphere===null&&nt.computeBoundingSphere(),pt.copy(nt.boundingSphere.center)),pt.applyMatrix4(O.matrixWorld).applyMatrix4(Le)),Array.isArray(ut)){const ft=nt.groups;for(let wt=0,st=ft.length;wt<st;wt++){const dt=ft[wt],Jt=ut[dt.materialIndex];Jt&&Jt.visible&&S.push(O,nt,Jt,fe,pt.z,dt)}}else ut.visible&&S.push(O,nt,ut,fe,pt.z,null)}}const Je=O.children;for(let nt=0,ut=Je.length;nt<ut;nt++)zd(Je[nt],ie,fe,se)}function Gd(O,ie,fe,se){const he=O.opaque,Je=O.transmissive,nt=O.transparent;_.setupLightsView(fe),me===!0&&Ye.setGlobalState(A.clippingPlanes,fe),Je.length>0&&Vd(he,Je,ie,fe),se&&ye.viewport(B.copy(se)),he.length>0&&yo(he,ie,fe),Je.length>0&&yo(Je,ie,fe),nt.length>0&&yo(nt,ie,fe),ye.buffers.depth.setTest(!0),ye.buffers.depth.setMask(!0),ye.buffers.color.setMask(!0),ye.setPolygonOffset(!1)}function Vd(O,ie,fe,se){const he=Ee.isWebGL2;Pe===null&&(Pe=new ts(1,1,{generateMipmaps:!0,type:pe.has("EXT_color_buffer_half_float")?Su:Cs,minFilter:Bs,samples:he?4:0})),A.getDrawingBufferSize(Xe),he?Pe.setSize(Xe.x,Xe.y):Pe.setSize(l2(Xe.x),l2(Xe.y));const Je=A.getRenderTarget();A.setRenderTarget(Pe),A.getClearColor(ee),V=A.getClearAlpha(),V<1&&A.setClearColor(16777215,.5),A.clear();const nt=A.toneMapping;A.toneMapping=Ts,yo(O,fe,se),Ve.updateMultisampleRenderTarget(Pe),Ve.updateRenderTargetMipmap(Pe);let ut=!1;for(let ft=0,wt=ie.length;ft<wt;ft++){const st=ie[ft],dt=st.object,Jt=st.geometry,Zt=st.material,Bi=st.group;if(Zt.side===Tr&&dt.layers.test(se.layers)){const ji=Zt.side;Zt.side=xi,Zt.needsUpdate=!0,Wd(dt,fe,se,Jt,Zt,Bi),Zt.side=ji,Zt.needsUpdate=!0,ut=!0}}ut===!0&&(Ve.updateMultisampleRenderTarget(Pe),Ve.updateRenderTargetMipmap(Pe)),A.setRenderTarget(Je),A.setClearColor(ee,V),A.toneMapping=nt}function yo(O,ie,fe){const se=ie.isScene===!0?ie.overrideMaterial:null;for(let he=0,Je=O.length;he<Je;he++){const nt=O[he],ut=nt.object,ft=nt.geometry,wt=se===null?nt.material:se,st=nt.group;ut.layers.test(fe.layers)&&Wd(ut,ie,fe,ft,wt,st)}}function Wd(O,ie,fe,se,he,Je){O.onBeforeRender(A,ie,fe,se,he,Je),O.modelViewMatrix.multiplyMatrices(fe.matrixWorldInverse,O.matrixWorld),O.normalMatrix.getNormalMatrix(O.modelViewMatrix),he.onBeforeRender(A,ie,fe,se,O,Je),he.transparent===!0&&he.side===Tr&&he.forceSinglePass===!1?(he.side=xi,he.needsUpdate=!0,A.renderBufferDirect(fe,ie,se,he,O,Je),he.side=Rs,he.needsUpdate=!0,A.renderBufferDirect(fe,ie,se,he,O,Je),he.side=Tr):A.renderBufferDirect(fe,ie,se,he,O,Je),O.onAfterRender(A,ie,fe,se,he,Je)}function as(O,ie,fe){ie.isScene!==!0&&(ie=rt);const se=He.get(O),he=_.state.lights,Je=_.state.shadowsArray,nt=he.state.version,ut=oe.getParameters(O,he.state,Je,ie,fe),ft=oe.getProgramCacheKey(ut);let wt=se.programs;se.environment=O.isMeshStandardMaterial?ie.environment:null,se.fog=ie.fog,se.envMap=(O.isMeshStandardMaterial?xt:et).get(O.envMap||se.environment),wt===void 0&&(O.addEventListener("dispose",Ue),wt=new Map,se.programs=wt);let st=wt.get(ft);if(st!==void 0){if(se.currentProgram===st&&se.lightsStateVersion===nt)return jd(O,ut),st}else ut.uniforms=oe.getUniforms(O),O.onBuild(fe,ut,A),O.onBeforeCompile(ut,A),st=oe.acquireProgram(ut,ft),wt.set(ft,st),se.uniforms=ut.uniforms;const dt=se.uniforms;(!O.isShaderMaterial&&!O.isRawShaderMaterial||O.clipping===!0)&&(dt.clippingPlanes=Ye.uniform),jd(O,ut),se.needsLights=Lm(O),se.lightsStateVersion=nt,se.needsLights&&(dt.ambientLightColor.value=he.state.ambient,dt.lightProbe.value=he.state.probe,dt.directionalLights.value=he.state.directional,dt.directionalLightShadows.value=he.state.directionalShadow,dt.spotLights.value=he.state.spot,dt.spotLightShadows.value=he.state.spotShadow,dt.rectAreaLights.value=he.state.rectArea,dt.ltc_1.value=he.state.rectAreaLTC1,dt.ltc_2.value=he.state.rectAreaLTC2,dt.pointLights.value=he.state.point,dt.pointLightShadows.value=he.state.pointShadow,dt.hemisphereLights.value=he.state.hemi,dt.directionalShadowMap.value=he.state.directionalShadowMap,dt.directionalShadowMatrix.value=he.state.directionalShadowMatrix,dt.spotShadowMap.value=he.state.spotShadowMap,dt.spotLightMatrix.value=he.state.spotLightMatrix,dt.spotLightMap.value=he.state.spotLightMap,dt.pointShadowMap.value=he.state.pointShadowMap,dt.pointShadowMatrix.value=he.state.pointShadowMatrix);const Jt=st.getUniforms(),Zt=Ep.seqWithValue(Jt.seq,dt);return se.currentProgram=st,se.uniformsList=Zt,st}function jd(O,ie){const fe=He.get(O);fe.outputColorSpace=ie.outputColorSpace,fe.instancing=ie.instancing,fe.instancingColor=ie.instancingColor,fe.skinning=ie.skinning,fe.morphTargets=ie.morphTargets,fe.morphNormals=ie.morphNormals,fe.morphColors=ie.morphColors,fe.morphTargetsCount=ie.morphTargetsCount,fe.numClippingPlanes=ie.numClippingPlanes,fe.numIntersection=ie.numClipIntersection,fe.vertexAlphas=ie.vertexAlphas,fe.vertexTangents=ie.vertexTangents,fe.toneMapping=ie.toneMapping}function Bm(O,ie,fe,se,he){ie.isScene!==!0&&(ie=rt),Ve.resetTextureUnits();const Je=ie.fog,nt=se.isMeshStandardMaterial?ie.environment:null,ut=R===null?A.outputColorSpace:R.isXRRenderTarget===!0?R.texture.colorSpace:Is,ft=(se.isMeshStandardMaterial?xt:et).get(se.envMap||nt),wt=se.vertexColors===!0&&!!fe.attributes.color&&fe.attributes.color.itemSize===4,st=!!fe.attributes.tangent&&(!!se.normalMap||se.anisotropy>0),dt=!!fe.morphAttributes.position,Jt=!!fe.morphAttributes.normal,Zt=!!fe.morphAttributes.color;let Bi=Ts;se.toneMapped&&(R===null||R.isXRRenderTarget===!0)&&(Bi=A.toneMapping);const ji=fe.morphAttributes.position||fe.morphAttributes.normal||fe.morphAttributes.color,qt=ji!==void 0?ji.length:0,mt=He.get(se),Gt=_.state.lights;if(me===!0&&(ve===!0||O!==P)){const ci=O===P&&se.id===I;Ye.setState(se,O,ci)}let ht=!1;se.version===mt.__version?(mt.needsLights&&mt.lightsStateVersion!==Gt.state.version||mt.outputColorSpace!==ut||he.isInstancedMesh&&mt.instancing===!1||!he.isInstancedMesh&&mt.instancing===!0||he.isSkinnedMesh&&mt.skinning===!1||!he.isSkinnedMesh&&mt.skinning===!0||he.isInstancedMesh&&mt.instancingColor===!0&&he.instanceColor===null||he.isInstancedMesh&&mt.instancingColor===!1&&he.instanceColor!==null||mt.envMap!==ft||se.fog===!0&&mt.fog!==Je||mt.numClippingPlanes!==void 0&&(mt.numClippingPlanes!==Ye.numPlanes||mt.numIntersection!==Ye.numIntersection)||mt.vertexAlphas!==wt||mt.vertexTangents!==st||mt.morphTargets!==dt||mt.morphNormals!==Jt||mt.morphColors!==Zt||mt.toneMapping!==Bi||Ee.isWebGL2===!0&&mt.morphTargetsCount!==qt)&&(ht=!0):(ht=!0,mt.__version=se.version);let li=mt.currentProgram;ht===!0&&(li=as(se,ie,he));let Hn=!1,Rn=!1,Nr=!1;const yn=li.getUniforms(),xn=mt.uniforms;if(ye.useProgram(li.program)&&(Hn=!0,Rn=!0,Nr=!0),se.id!==I&&(I=se.id,Rn=!0),Hn||P!==O){yn.setValue(q,"projectionMatrix",O.projectionMatrix),yn.setValue(q,"viewMatrix",O.matrixWorldInverse);const ci=yn.map.cameraPosition;ci!==void 0&&ci.setValue(q,pt.setFromMatrixPosition(O.matrixWorld)),Ee.logarithmicDepthBuffer&&yn.setValue(q,"logDepthBufFC",2/(Math.log(O.far+1)/Math.LN2)),(se.isMeshPhongMaterial||se.isMeshToonMaterial||se.isMeshLambertMaterial||se.isMeshBasicMaterial||se.isMeshStandardMaterial||se.isShaderMaterial)&&yn.setValue(q,"isOrthographic",O.isOrthographicCamera===!0),P!==O&&(P=O,Rn=!0,Nr=!0)}if(he.isSkinnedMesh){yn.setOptional(q,he,"bindMatrix"),yn.setOptional(q,he,"bindMatrixInverse");const ci=he.skeleton;ci&&(Ee.floatVertexTextures?(ci.boneTexture===null&&ci.computeBoneTexture(),yn.setValue(q,"boneTexture",ci.boneTexture,Ve),yn.setValue(q,"boneTextureSize",ci.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const xo=fe.morphAttributes;if((xo.position!==void 0||xo.normal!==void 0||xo.color!==void 0&&Ee.isWebGL2===!0)&&ot.update(he,fe,li),(Rn||mt.receiveShadow!==he.receiveShadow)&&(mt.receiveShadow=he.receiveShadow,yn.setValue(q,"receiveShadow",he.receiveShadow)),se.isMeshGouraudMaterial&&se.envMap!==null&&(xn.envMap.value=ft,xn.flipEnvMap.value=ft.isCubeTexture&&ft.isRenderTargetTexture===!1?-1:1),Rn&&(yn.setValue(q,"toneMappingExposure",A.toneMappingExposure),mt.needsLights&&Im(xn,Nr),Je&&se.fog===!0&&Te.refreshFogUniforms(xn,Je),Te.refreshMaterialUniforms(xn,se,te,ne,Pe),Ep.upload(q,mt.uniformsList,xn,Ve)),se.isShaderMaterial&&se.uniformsNeedUpdate===!0&&(Ep.upload(q,mt.uniformsList,xn,Ve),se.uniformsNeedUpdate=!1),se.isSpriteMaterial&&yn.setValue(q,"center",he.center),yn.setValue(q,"modelViewMatrix",he.modelViewMatrix),yn.setValue(q,"normalMatrix",he.normalMatrix),yn.setValue(q,"modelMatrix",he.matrixWorld),se.isShaderMaterial||se.isRawShaderMaterial){const ci=se.uniformsGroups;for(let zl=0,Gl=ci.length;zl<Gl;zl++)if(Ee.isWebGL2){const Wu=ci[zl];ue.update(Wu,li),ue.bind(Wu,li)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return li}function Im(O,ie){O.ambientLightColor.needsUpdate=ie,O.lightProbe.needsUpdate=ie,O.directionalLights.needsUpdate=ie,O.directionalLightShadows.needsUpdate=ie,O.pointLights.needsUpdate=ie,O.pointLightShadows.needsUpdate=ie,O.spotLights.needsUpdate=ie,O.spotLightShadows.needsUpdate=ie,O.rectAreaLights.needsUpdate=ie,O.hemisphereLights.needsUpdate=ie}function Lm(O){return O.isMeshLambertMaterial||O.isMeshToonMaterial||O.isMeshPhongMaterial||O.isMeshStandardMaterial||O.isShadowMaterial||O.isShaderMaterial&&O.lights===!0}this.getActiveCubeFace=function(){return T},this.getActiveMipmapLevel=function(){return C},this.getRenderTarget=function(){return R},this.setRenderTargetTextures=function(O,ie,fe){He.get(O.texture).__webglTexture=ie,He.get(O.depthTexture).__webglTexture=fe;const se=He.get(O);se.__hasExternalTextures=!0,se.__hasExternalTextures&&(se.__autoAllocateDepthBuffer=fe===void 0,se.__autoAllocateDepthBuffer||pe.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),se.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(O,ie){const fe=He.get(O);fe.__webglFramebuffer=ie,fe.__useDefaultFramebuffer=ie===void 0},this.setRenderTarget=function(O,ie=0,fe=0){R=O,T=ie,C=fe;let se=!0,he=null,Je=!1,nt=!1;if(O){const ft=He.get(O);ft.__useDefaultFramebuffer!==void 0?(ye.bindFramebuffer(q.FRAMEBUFFER,null),se=!1):ft.__webglFramebuffer===void 0?Ve.setupRenderTarget(O):ft.__hasExternalTextures&&Ve.rebindTextures(O,He.get(O.texture).__webglTexture,He.get(O.depthTexture).__webglTexture);const wt=O.texture;(wt.isData3DTexture||wt.isDataArrayTexture||wt.isCompressedArrayTexture)&&(nt=!0);const st=He.get(O).__webglFramebuffer;O.isWebGLCubeRenderTarget?(Array.isArray(st[ie])?he=st[ie][fe]:he=st[ie],Je=!0):Ee.isWebGL2&&O.samples>0&&Ve.useMultisampledRTT(O)===!1?he=He.get(O).__webglMultisampledFramebuffer:Array.isArray(st)?he=st[fe]:he=st,B.copy(O.viewport),U.copy(O.scissor),Y=O.scissorTest}else B.copy(j).multiplyScalar(te).floor(),U.copy(N).multiplyScalar(te).floor(),Y=X;if(ye.bindFramebuffer(q.FRAMEBUFFER,he)&&Ee.drawBuffers&&se&&ye.drawBuffers(O,he),ye.viewport(B),ye.scissor(U),ye.setScissorTest(Y),Je){const ft=He.get(O.texture);q.framebufferTexture2D(q.FRAMEBUFFER,q.COLOR_ATTACHMENT0,q.TEXTURE_CUBE_MAP_POSITIVE_X+ie,ft.__webglTexture,fe)}else if(nt){const ft=He.get(O.texture),wt=ie||0;q.framebufferTextureLayer(q.FRAMEBUFFER,q.COLOR_ATTACHMENT0,ft.__webglTexture,fe||0,wt)}I=-1},this.readRenderTargetPixels=function(O,ie,fe,se,he,Je,nt){if(!(O&&O.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let ut=He.get(O).__webglFramebuffer;if(O.isWebGLCubeRenderTarget&&nt!==void 0&&(ut=ut[nt]),ut){ye.bindFramebuffer(q.FRAMEBUFFER,ut);try{const ft=O.texture,wt=ft.format,st=ft.type;if(wt!==Ui&&Rt.convert(wt)!==q.getParameter(q.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const dt=st===Su&&(pe.has("EXT_color_buffer_half_float")||Ee.isWebGL2&&pe.has("EXT_color_buffer_float"));if(st!==Cs&&Rt.convert(st)!==q.getParameter(q.IMPLEMENTATION_COLOR_READ_TYPE)&&!(st===As&&(Ee.isWebGL2||pe.has("OES_texture_float")||pe.has("WEBGL_color_buffer_float")))&&!dt){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ie>=0&&ie<=O.width-se&&fe>=0&&fe<=O.height-he&&q.readPixels(ie,fe,se,he,Rt.convert(wt),Rt.convert(st),Je)}finally{const ft=R!==null?He.get(R).__webglFramebuffer:null;ye.bindFramebuffer(q.FRAMEBUFFER,ft)}}},this.copyFramebufferToTexture=function(O,ie,fe=0){const se=Math.pow(2,-fe),he=Math.floor(ie.image.width*se),Je=Math.floor(ie.image.height*se);Ve.setTexture2D(ie,0),q.copyTexSubImage2D(q.TEXTURE_2D,fe,0,0,O.x,O.y,he,Je),ye.unbindTexture()},this.copyTextureToTexture=function(O,ie,fe,se=0){const he=ie.image.width,Je=ie.image.height,nt=Rt.convert(fe.format),ut=Rt.convert(fe.type);Ve.setTexture2D(fe,0),q.pixelStorei(q.UNPACK_FLIP_Y_WEBGL,fe.flipY),q.pixelStorei(q.UNPACK_PREMULTIPLY_ALPHA_WEBGL,fe.premultiplyAlpha),q.pixelStorei(q.UNPACK_ALIGNMENT,fe.unpackAlignment),ie.isDataTexture?q.texSubImage2D(q.TEXTURE_2D,se,O.x,O.y,he,Je,nt,ut,ie.image.data):ie.isCompressedTexture?q.compressedTexSubImage2D(q.TEXTURE_2D,se,O.x,O.y,ie.mipmaps[0].width,ie.mipmaps[0].height,nt,ie.mipmaps[0].data):q.texSubImage2D(q.TEXTURE_2D,se,O.x,O.y,nt,ut,ie.image),se===0&&fe.generateMipmaps&&q.generateMipmap(q.TEXTURE_2D),ye.unbindTexture()},this.copyTextureToTexture3D=function(O,ie,fe,se,he=0){if(A.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const Je=O.max.x-O.min.x+1,nt=O.max.y-O.min.y+1,ut=O.max.z-O.min.z+1,ft=Rt.convert(se.format),wt=Rt.convert(se.type);let st;if(se.isData3DTexture)Ve.setTexture3D(se,0),st=q.TEXTURE_3D;else if(se.isDataArrayTexture)Ve.setTexture2DArray(se,0),st=q.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}q.pixelStorei(q.UNPACK_FLIP_Y_WEBGL,se.flipY),q.pixelStorei(q.UNPACK_PREMULTIPLY_ALPHA_WEBGL,se.premultiplyAlpha),q.pixelStorei(q.UNPACK_ALIGNMENT,se.unpackAlignment);const dt=q.getParameter(q.UNPACK_ROW_LENGTH),Jt=q.getParameter(q.UNPACK_IMAGE_HEIGHT),Zt=q.getParameter(q.UNPACK_SKIP_PIXELS),Bi=q.getParameter(q.UNPACK_SKIP_ROWS),ji=q.getParameter(q.UNPACK_SKIP_IMAGES),qt=fe.isCompressedTexture?fe.mipmaps[0]:fe.image;q.pixelStorei(q.UNPACK_ROW_LENGTH,qt.width),q.pixelStorei(q.UNPACK_IMAGE_HEIGHT,qt.height),q.pixelStorei(q.UNPACK_SKIP_PIXELS,O.min.x),q.pixelStorei(q.UNPACK_SKIP_ROWS,O.min.y),q.pixelStorei(q.UNPACK_SKIP_IMAGES,O.min.z),fe.isDataTexture||fe.isData3DTexture?q.texSubImage3D(st,he,ie.x,ie.y,ie.z,Je,nt,ut,ft,wt,qt.data):fe.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),q.compressedTexSubImage3D(st,he,ie.x,ie.y,ie.z,Je,nt,ut,ft,qt.data)):q.texSubImage3D(st,he,ie.x,ie.y,ie.z,Je,nt,ut,ft,wt,qt),q.pixelStorei(q.UNPACK_ROW_LENGTH,dt),q.pixelStorei(q.UNPACK_IMAGE_HEIGHT,Jt),q.pixelStorei(q.UNPACK_SKIP_PIXELS,Zt),q.pixelStorei(q.UNPACK_SKIP_ROWS,Bi),q.pixelStorei(q.UNPACK_SKIP_IMAGES,ji),he===0&&se.generateMipmaps&&q.generateMipmap(st),ye.unbindTexture()},this.initTexture=function(O){O.isCubeTexture?Ve.setTextureCube(O,0):O.isData3DTexture?Ve.setTexture3D(O,0):O.isDataArrayTexture||O.isCompressedArrayTexture?Ve.setTexture2DArray(O,0):Ve.setTexture2D(O,0),ye.unbindTexture()},this.resetState=function(){T=0,C=0,R=null,ye.reset(),K.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Ss}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=e===tm?"display-p3":"srgb",t.unpackColorSpace=Vt.workingColorSpace===xd?"display-p3":"srgb"}get physicallyCorrectLights(){return console.warn("THREE.WebGLRenderer: The property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights}set physicallyCorrectLights(e){console.warn("THREE.WebGLRenderer: The property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!e}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===Vn?oa:x9}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===oa?Vn:Is}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(e){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=e}}class Bb extends P9{}Bb.prototype.isWebGL1Renderer=!0;class sm{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new ze(e),this.density=t}clone(){return new sm(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class om{constructor(e,t=1,i=1e3){this.isFog=!0,this.name="",this.color=new ze(e),this.near=t,this.far=i}clone(){return new om(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class c2 extends Lt{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t}}class Ed{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=Jh,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=ir()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,i){e*=this.stride,i*=t.stride;for(let r=0,s=this.stride;r<s;r++)this.array[e+r]=t.array[i+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ir()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(t,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ir()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Ei=new F;class ma{constructor(e,t,i,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=i,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,i=this.data.count;t<i;t++)Ei.fromBufferAttribute(this,t),Ei.applyMatrix4(e),this.setXYZ(t,Ei.x,Ei.y,Ei.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)Ei.fromBufferAttribute(this,t),Ei.applyNormalMatrix(e),this.setXYZ(t,Ei.x,Ei.y,Ei.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)Ei.fromBufferAttribute(this,t),Ei.transformDirection(e),this.setXYZ(t,Ei.x,Ei.y,Ei.z);return this}setX(e,t){return this.normalized&&(t=St(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=St(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=St(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=St(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=ki(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=ki(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=ki(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=ki(t,this.array)),t}setXY(e,t,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=St(t,this.array),i=St(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this}setXYZ(e,t,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=St(t,this.array),i=St(i,this.array),r=St(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=St(t,this.array),i=St(i,this.array),r=St(r,this.array),s=St(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return new Dt(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new ma(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class R9 extends On{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new ze(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let yc;const Tf=new F,xc=new F,_c=new F,Ac=new de,Cf=new de,Ib=new ct,T0=new F,bf=new F,C0=new F,uA=new de,j5=new de,fA=new de;class Lb extends Lt{constructor(e=new R9){if(super(),this.isSprite=!0,this.type="Sprite",yc===void 0){yc=new _t;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new Ed(t,5);yc.setIndex([0,1,2,0,2,3]),yc.setAttribute("position",new ma(i,3,0,!1)),yc.setAttribute("uv",new ma(i,2,3,!1))}this.geometry=yc,this.material=e,this.center=new de(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),xc.setFromMatrixScale(this.matrixWorld),Ib.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),_c.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&xc.multiplyScalar(-_c.z);const i=this.material.rotation;let r,s;i!==0&&(s=Math.cos(i),r=Math.sin(i));const o=this.center;b0(T0.set(-.5,-.5,0),_c,o,xc,r,s),b0(bf.set(.5,-.5,0),_c,o,xc,r,s),b0(C0.set(.5,.5,0),_c,o,xc,r,s),uA.set(0,0),j5.set(1,0),fA.set(1,1);let a=e.ray.intersectTriangle(T0,bf,C0,!1,Tf);if(a===null&&(b0(bf.set(-.5,.5,0),_c,o,xc,r,s),j5.set(0,1),a=e.ray.intersectTriangle(T0,C0,bf,!1,Tf),a===null))return;const l=e.ray.origin.distanceTo(Tf);l<e.near||l>e.far||t.push({distance:l,point:Tf.clone(),uv:Oi.getInterpolation(Tf,T0,bf,C0,uA,j5,fA,new de),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function b0(n,e,t,i,r,s){Ac.subVectors(n,t).addScalar(.5).multiply(i),r!==void 0?(Cf.x=s*Ac.x-r*Ac.y,Cf.y=r*Ac.x+s*Ac.y):Cf.copy(Ac),n.copy(e),n.x+=Cf.x,n.y+=Cf.y,n.applyMatrix4(Ib)}const P0=new F,hA=new F;class Db extends Lt{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let i=0,r=t.length;i<r;i++){const s=t[i];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,i=0){t=Math.abs(t);const r=this.levels;let s;for(s=0;s<r.length&&!(t<r[s].distance);s++);return r.splice(s,0,{distance:t,hysteresis:i,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let i,r;for(i=1,r=t.length;i<r;i++){let s=t[i].distance;if(t[i].object.visible&&(s-=s*t[i].hysteresis),e<s)break}return t[i-1].object}return null}raycast(e,t){if(this.levels.length>0){P0.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(P0);this.getObjectForDistance(r).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){P0.setFromMatrixPosition(e.matrixWorld),hA.setFromMatrixPosition(this.matrixWorld);const i=P0.distanceTo(hA)/e.zoom;t[0].object.visible=!0;let r,s;for(r=1,s=t.length;r<s;r++){let o=t[r].distance;if(t[r].object.visible&&(o-=o*t[r].hysteresis),i>=o)t[r-1].object.visible=!1,t[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<s;r++)t[r].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const i=this.levels;for(let r=0,s=i.length;r<s;r++){const o=i[r];t.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return t}}const dA=new F,pA=new Wt,mA=new Wt,Zj=new F,gA=new ct,Sc=new F,q5=new Fr,vA=new ct,X5=new Dl;class B9 extends Zn{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new ct,this.bindMatrixInverse=new ct,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new is),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)Sc.fromBufferAttribute(t,i),this.applyBoneTransform(i,Sc),this.boundingBox.expandByPoint(Sc)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Fr),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)Sc.fromBufferAttribute(t,i),this.applyBoneTransform(i,Sc),this.boundingSphere.expandByPoint(Sc)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const i=this.material,r=this.matrixWorld;i!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),q5.copy(this.boundingSphere),q5.applyMatrix4(r),e.ray.intersectsSphere(q5)!==!1&&(vA.copy(r).invert(),X5.copy(e.ray).applyMatrix4(vA),!(this.boundingBox!==null&&X5.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,X5)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Wt,t=this.geometry.attributes.skinWeight;for(let i=0,r=t.count;i<r;i++){e.fromBufferAttribute(t,i);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const i=this.skeleton,r=this.geometry;pA.fromBufferAttribute(r.attributes.skinIndex,e),mA.fromBufferAttribute(r.attributes.skinWeight,e),dA.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const o=mA.getComponent(s);if(o!==0){const a=pA.getComponent(s);gA.multiplyMatrices(i.bones[a].matrixWorld,i.boneInverses[a]),t.addScaledVector(Zj.copy(dA).applyMatrix4(gA),o)}}return t.applyMatrix4(this.bindMatrixInverse)}boneTransform(e,t){return console.warn("THREE.SkinnedMesh: .boneTransform() was renamed to .applyBoneTransform() in r151."),this.applyBoneTransform(e,t)}}class am extends Lt{constructor(){super(),this.isBone=!0,this.type="Bone"}}class lu extends ln{constructor(e=null,t=1,i=1,r,s,o,a,l,c=Mn,h=Mn,d,p){super(null,o,a,l,c,h,r,s,d,p),this.isDataTexture=!0,this.image={data:e,width:t,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const yA=new ct,$j=new ct;class wd{constructor(e=[],t=[]){this.uuid=ir(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new ct)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const i=new ct;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,t=this.boneInverses,i=this.boneMatrices,r=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:$j;yA.multiplyMatrices(a,t[s]),yA.toArray(i,s*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new wd(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=mb(e),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const i=new lu(t,e,e,Ui,As);return i.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=i,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,i=this.bones.length;t<i;t++){const r=this.bones[t];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let i=0,r=e.bones.length;i<r;i++){const s=e.bones[i];let o=t[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new am),this.bones.push(o),this.boneInverses.push(new ct().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,i=this.boneInverses;for(let r=0,s=t.length;r<s;r++){const o=t[r];e.bones.push(o.uuid);const a=i[r];e.boneInverses.push(a.toArray())}return e}}class Tu extends Dt{constructor(e,t,i,r=1){super(e,t,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Mc=new ct,xA=new ct,R0=[],_A=new is,eq=new ct,Pf=new Zn,Rf=new Fr;class I9 extends Zn{constructor(e,t,i){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new Tu(new Float32Array(i*16),16),this.instanceColor=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<i;r++)this.setMatrixAt(r,eq)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new is),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,Mc),_A.copy(e.boundingBox).applyMatrix4(Mc),this.boundingBox.union(_A)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new Fr),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,Mc),Rf.copy(e.boundingSphere).applyMatrix4(Mc),this.boundingSphere.union(Rf)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){const i=this.matrixWorld,r=this.count;if(Pf.geometry=this.geometry,Pf.material=this.material,Pf.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Rf.copy(this.boundingSphere),Rf.applyMatrix4(i),e.ray.intersectsSphere(Rf)!==!1))for(let s=0;s<r;s++){this.getMatrixAt(s,Mc),xA.multiplyMatrices(i,Mc),Pf.matrixWorld=xA,Pf.raycast(e,R0);for(let o=0,a=R0.length;o<a;o++){const l=R0[o];l.instanceId=s,l.object=this,t.push(l)}R0.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new Tu(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class Ai extends On{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new ze(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const AA=new F,SA=new F,MA=new ct,J5=new Dl,B0=new Fr;class mo extends Lt{constructor(e=new _t,t=new Ai){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[0];for(let r=1,s=t.count;r<s;r++)AA.fromBufferAttribute(t,r-1),SA.fromBufferAttribute(t,r),i[r]=i[r-1],i[r]+=AA.distanceTo(SA);e.setAttribute("lineDistance",new Qe(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Line.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),B0.copy(i.boundingSphere),B0.applyMatrix4(r),B0.radius+=s,e.ray.intersectsSphere(B0)===!1)return;MA.copy(r).invert(),J5.copy(e.ray).applyMatrix4(MA);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=new F,h=new F,d=new F,p=new F,m=this.isLineSegments?2:1,v=i.index,_=i.attributes.position;if(v!==null){const g=Math.max(0,o.start),x=Math.min(v.count,o.start+o.count);for(let A=g,E=x-1;A<E;A+=m){const T=v.getX(A),C=v.getX(A+1);if(c.fromBufferAttribute(_,T),h.fromBufferAttribute(_,C),J5.distanceSqToSegment(c,h,p,d)>l)continue;p.applyMatrix4(this.matrixWorld);const I=e.ray.origin.distanceTo(p);I<e.near||I>e.far||t.push({distance:I,point:d.clone().applyMatrix4(this.matrixWorld),index:A,face:null,faceIndex:null,object:this})}}else{const g=Math.max(0,o.start),x=Math.min(_.count,o.start+o.count);for(let A=g,E=x-1;A<E;A+=m){if(c.fromBufferAttribute(_,A),h.fromBufferAttribute(_,A+1),J5.distanceSqToSegment(c,h,p,d)>l)continue;p.applyMatrix4(this.matrixWorld);const C=e.ray.origin.distanceTo(p);C<e.near||C>e.far||t.push({distance:C,point:d.clone().applyMatrix4(this.matrixWorld),index:A,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}const EA=new F,wA=new F;class rs extends mo{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[];for(let r=0,s=t.count;r<s;r+=2)EA.fromBufferAttribute(t,r),wA.fromBufferAttribute(t,r+1),i[r]=r===0?0:i[r-1],i[r+1]=i[r]+EA.distanceTo(wA);e.setAttribute("lineDistance",new Qe(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class L9 extends mo{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class Td extends On{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new ze(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const TA=new ct,g8=new Dl,I0=new Fr,L0=new F;let D9=class extends Lt{constructor(e=new _t,t=new Td){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Points.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),I0.copy(i.boundingSphere),I0.applyMatrix4(r),I0.radius+=s,e.ray.intersectsSphere(I0)===!1)return;TA.copy(r).invert(),g8.copy(e.ray).applyMatrix4(TA);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=i.index,d=i.attributes.position;if(c!==null){const p=Math.max(0,o.start),m=Math.min(c.count,o.start+o.count);for(let v=p,S=m;v<S;v++){const _=c.getX(v);L0.fromBufferAttribute(d,_),CA(L0,_,l,r,e,t,this)}}else{const p=Math.max(0,o.start),m=Math.min(d.count,o.start+o.count);for(let v=p,S=m;v<S;v++)L0.fromBufferAttribute(d,v),CA(L0,v,l,r,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}};function CA(n,e,t,i,r,s,o){const a=g8.distanceSqToPoint(n);if(a<t){const l=new F;g8.closestPointToPoint(n,l),l.applyMatrix4(i);const c=r.ray.origin.distanceTo(l);if(c<r.near||c>r.far)return;s.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class tq extends ln{constructor(e,t,i,r,s,o,a,l,c){super(e,t,i,r,s,o,a,l,c),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:hn,this.magFilter=s!==void 0?s:hn,this.generateMipmaps=!1;const h=this;function d(){h.needsUpdate=!0,e.requestVideoFrameCallback(d)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(d)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class nq extends ln{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=Mn,this.minFilter=Mn,this.generateMipmaps=!1,this.needsUpdate=!0}}class lm extends ln{constructor(e,t,i,r,s,o,a,l,c,h,d,p){super(null,o,a,l,c,h,r,s,d,p),this.isCompressedTexture=!0,this.image={width:t,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class iq extends lm{constructor(e,t,i,r,s,o){super(e,t,i,s,o),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=ri}}class rq extends lm{constructor(e,t,i){super(void 0,e[0].width,e[0].height,t,i,po),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class sq extends ln{constructor(e,t,i,r,s,o,a,l,c){super(e,t,i,r,s,o,a,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}let ss=class{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const i=this.getUtoTmapping(e);return this.getPoint(i,t)}getPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return t}getSpacedPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPointAt(i/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let i,r=this.getPoint(0),s=0;t.push(0);for(let o=1;o<=e;o++)i=this.getPoint(o/e),s+=i.distanceTo(r),t.push(s),r=i;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const i=this.getLengths();let r=0;const s=i.length;let o;t?o=t:o=e*i[s-1];let a=0,l=s-1,c;for(;a<=l;)if(r=Math.floor(a+(l-a)/2),c=i[r]-o,c<0)a=r+1;else if(c>0)l=r-1;else{l=r;break}if(r=l,i[r]===o)return r/(s-1);const h=i[r],p=i[r+1]-h,m=(o-h)/p;return(r+m)/(s-1)}getTangent(e,t){let r=e-1e-4,s=e+1e-4;r<0&&(r=0),s>1&&(s=1);const o=this.getPoint(r),a=this.getPoint(s),l=t||(o.isVector2?new de:new F);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,t){const i=this.getUtoTmapping(e);return this.getTangent(i,t)}computeFrenetFrames(e,t){const i=new F,r=[],s=[],o=[],a=new F,l=new ct;for(let m=0;m<=e;m++){const v=m/e;r[m]=this.getTangentAt(v,new F)}s[0]=new F,o[0]=new F;let c=Number.MAX_VALUE;const h=Math.abs(r[0].x),d=Math.abs(r[0].y),p=Math.abs(r[0].z);h<=c&&(c=h,i.set(1,0,0)),d<=c&&(c=d,i.set(0,1,0)),p<=c&&i.set(0,0,1),a.crossVectors(r[0],i).normalize(),s[0].crossVectors(r[0],a),o[0].crossVectors(r[0],s[0]);for(let m=1;m<=e;m++){if(s[m]=s[m-1].clone(),o[m]=o[m-1].clone(),a.crossVectors(r[m-1],r[m]),a.length()>Number.EPSILON){a.normalize();const v=Math.acos(En(r[m-1].dot(r[m]),-1,1));s[m].applyMatrix4(l.makeRotationAxis(a,v))}o[m].crossVectors(r[m],s[m])}if(t===!0){let m=Math.acos(En(s[0].dot(s[e]),-1,1));m/=e,r[0].dot(a.crossVectors(s[0],s[e]))>0&&(m=-m);for(let v=1;v<=e;v++)s[v].applyMatrix4(l.makeRotationAxis(r[v],m*v)),o[v].crossVectors(r[v],s[v])}return{tangents:r,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}};class cm extends ss{constructor(e=0,t=0,i=1,r=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=i,this.yRadius=r,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,t){const i=t||new de,r=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=r;for(;s>r;)s-=r;s<Number.EPSILON&&(o?s=0:s=r),this.aClockwise===!0&&!o&&(s===r?s=-r:s=s-r);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const h=Math.cos(this.aRotation),d=Math.sin(this.aRotation),p=l-this.aX,m=c-this.aY;l=p*h-m*d+this.aX,c=p*d+m*h+this.aY}return i.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class Fb extends cm{constructor(e,t,i,r,s,o){super(e,t,i,i,r,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function F9(){let n=0,e=0,t=0,i=0;function r(s,o,a,l){n=s,e=a,t=-3*s+3*o-2*a-l,i=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,c){r(o,a,c*(a-s),c*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,c,h,d){let p=(o-s)/c-(a-s)/(c+h)+(a-o)/h,m=(a-o)/h-(l-o)/(h+d)+(l-a)/d;p*=h,m*=h,r(o,a,p,m)},calc:function(s){const o=s*s,a=o*s;return n+e*s+t*o+i*a}}}const D0=new F,K5=new F9,Y5=new F9,Q5=new F9;class Nb extends ss{constructor(e=[],t=!1,i="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=i,this.tension=r}getPoint(e,t=new F){const i=t,r=this.points,s=r.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let c,h;this.closed||a>0?c=r[(a-1)%s]:(D0.subVectors(r[0],r[1]).add(r[0]),c=D0);const d=r[a%s],p=r[(a+1)%s];if(this.closed||a+2<s?h=r[(a+2)%s]:(D0.subVectors(r[s-1],r[s-2]).add(r[s-1]),h=D0),this.curveType==="centripetal"||this.curveType==="chordal"){const m=this.curveType==="chordal"?.5:.25;let v=Math.pow(c.distanceToSquared(d),m),S=Math.pow(d.distanceToSquared(p),m),_=Math.pow(p.distanceToSquared(h),m);S<1e-4&&(S=1),v<1e-4&&(v=S),_<1e-4&&(_=S),K5.initNonuniformCatmullRom(c.x,d.x,p.x,h.x,v,S,_),Y5.initNonuniformCatmullRom(c.y,d.y,p.y,h.y,v,S,_),Q5.initNonuniformCatmullRom(c.z,d.z,p.z,h.z,v,S,_)}else this.curveType==="catmullrom"&&(K5.initCatmullRom(c.x,d.x,p.x,h.x,this.tension),Y5.initCatmullRom(c.y,d.y,p.y,h.y,this.tension),Q5.initCatmullRom(c.z,d.z,p.z,h.z,this.tension));return i.set(K5.calc(l),Y5.calc(l),Q5.calc(l)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new F().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function bA(n,e,t,i,r){const s=(i-e)*.5,o=(r-t)*.5,a=n*n,l=n*a;return(2*t-2*i+s+o)*l+(-3*t+3*i-2*s-o)*a+s*n+t}function oq(n,e){const t=1-n;return t*t*e}function aq(n,e){return 2*(1-n)*n*e}function lq(n,e){return n*n*e}function dh(n,e,t,i){return oq(n,e)+aq(n,t)+lq(n,i)}function cq(n,e){const t=1-n;return t*t*t*e}function uq(n,e){const t=1-n;return 3*t*t*n*e}function fq(n,e){return 3*(1-n)*n*n*e}function hq(n,e){return n*n*n*e}function ph(n,e,t,i,r){return cq(n,e)+uq(n,t)+fq(n,i)+hq(n,r)}class N9 extends ss{constructor(e=new de,t=new de,i=new de,r=new de){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new de){const i=t,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set(ph(e,r.x,s.x,o.x,a.x),ph(e,r.y,s.y,o.y,a.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class Ob extends ss{constructor(e=new F,t=new F,i=new F,r=new F){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new F){const i=t,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set(ph(e,r.x,s.x,o.x,a.x),ph(e,r.y,s.y,o.y,a.y),ph(e,r.z,s.z,o.z,a.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class O9 extends ss{constructor(e=new de,t=new de){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new de){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new de){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Ub extends ss{constructor(e=new F,t=new F){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new F){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new F){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class U9 extends ss{constructor(e=new de,t=new de,i=new de){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new de){const i=t,r=this.v0,s=this.v1,o=this.v2;return i.set(dh(e,r.x,s.x,o.x),dh(e,r.y,s.y,o.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class k9 extends ss{constructor(e=new F,t=new F,i=new F){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new F){const i=t,r=this.v0,s=this.v1,o=this.v2;return i.set(dh(e,r.x,s.x,o.x),dh(e,r.y,s.y,o.y),dh(e,r.z,s.z,o.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class H9 extends ss{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new de){const i=t,r=this.points,s=(r.length-1)*e,o=Math.floor(s),a=s-o,l=r[o===0?o:o-1],c=r[o],h=r[o>r.length-2?r.length-1:o+1],d=r[o>r.length-3?r.length-1:o+2];return i.set(bA(a,l.x,c.x,h.x,d.x),bA(a,l.y,c.y,h.y,d.y)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new de().fromArray(r))}return this}}var u2=Object.freeze({__proto__:null,ArcCurve:Fb,CatmullRomCurve3:Nb,CubicBezierCurve:N9,CubicBezierCurve3:Ob,EllipseCurve:cm,LineCurve:O9,LineCurve3:Ub,QuadraticBezierCurve:U9,QuadraticBezierCurve3:k9,SplineCurve:H9});class kb extends ss{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const i=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new u2[i](t,e))}return this}getPoint(e,t){const i=e*this.getLength(),r=this.getCurveLengths();let s=0;for(;s<r.length;){if(r[s]>=i){const o=r[s]-i,a=this.curves[s],l=a.getLength(),c=l===0?0:1-o/l;return a.getPointAt(c,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let i=0,r=this.curves.length;i<r;i++)t+=this.curves[i].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let i;for(let r=0,s=this.curves;r<s.length;r++){const o=s[r],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let c=0;c<l.length;c++){const h=l[c];i&&i.equals(h)||(t.push(h),i=h)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,i=this.curves.length;t<i;t++){const r=this.curves[t];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(new u2[r.type]().fromJSON(r))}return this}}class Qh extends kb{constructor(e){super(),this.type="Path",this.currentPoint=new de,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,i=e.length;t<i;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const i=new O9(this.currentPoint.clone(),new de(e,t));return this.curves.push(i),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,i,r){const s=new U9(this.currentPoint.clone(),new de(e,t),new de(i,r));return this.curves.push(s),this.currentPoint.set(i,r),this}bezierCurveTo(e,t,i,r,s,o){const a=new N9(this.currentPoint.clone(),new de(e,t),new de(i,r),new de(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),i=new H9(t);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,i,r,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,t+l,i,r,s,o),this}absarc(e,t,i,r,s,o){return this.absellipse(e,t,i,i,r,s,o),this}ellipse(e,t,i,r,s,o,a,l){const c=this.currentPoint.x,h=this.currentPoint.y;return this.absellipse(e+c,t+h,i,r,s,o,a,l),this}absellipse(e,t,i,r,s,o,a,l){const c=new cm(e,t,i,r,s,o,a,l);if(this.curves.length>0){const d=c.getPoint(0);d.equals(this.currentPoint)||this.lineTo(d.x,d.y)}this.curves.push(c);const h=c.getPoint(1);return this.currentPoint.copy(h),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Cd extends _t{constructor(e=[new de(0,-.5),new de(.5,0),new de(0,.5)],t=12,i=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:i,phiLength:r},t=Math.floor(t),r=En(r,0,Math.PI*2);const s=[],o=[],a=[],l=[],c=[],h=1/t,d=new F,p=new de,m=new F,v=new F,S=new F;let _=0,g=0;for(let x=0;x<=e.length-1;x++)switch(x){case 0:_=e[x+1].x-e[x].x,g=e[x+1].y-e[x].y,m.x=g*1,m.y=-_,m.z=g*0,S.copy(m),m.normalize(),l.push(m.x,m.y,m.z);break;case e.length-1:l.push(S.x,S.y,S.z);break;default:_=e[x+1].x-e[x].x,g=e[x+1].y-e[x].y,m.x=g*1,m.y=-_,m.z=g*0,v.copy(m),m.x+=S.x,m.y+=S.y,m.z+=S.z,m.normalize(),l.push(m.x,m.y,m.z),S.copy(v)}for(let x=0;x<=t;x++){const A=i+x*h*r,E=Math.sin(A),T=Math.cos(A);for(let C=0;C<=e.length-1;C++){d.x=e[C].x*E,d.y=e[C].y,d.z=e[C].x*T,o.push(d.x,d.y,d.z),p.x=x/t,p.y=C/(e.length-1),a.push(p.x,p.y);const R=l[3*C+0]*E,I=l[3*C+1],P=l[3*C+0]*T;c.push(R,I,P)}}for(let x=0;x<t;x++)for(let A=0;A<e.length-1;A++){const E=A+x*e.length,T=E,C=E+e.length,R=E+e.length+1,I=E+1;s.push(T,C,I),s.push(R,I,C)}this.setIndex(s),this.setAttribute("position",new Qe(o,3)),this.setAttribute("uv",new Qe(a,2)),this.setAttribute("normal",new Qe(c,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Cd(e.points,e.segments,e.phiStart,e.phiLength)}}class um extends Cd{constructor(e=1,t=1,i=4,r=8){const s=new Qh;s.absarc(0,-t/2,e,Math.PI*1.5,0),s.absarc(0,t/2,e,0,Math.PI*.5),super(s.getPoints(i),r),this.type="CapsuleGeometry",this.parameters={radius:e,length:t,capSegments:i,radialSegments:r}}static fromJSON(e){return new um(e.radius,e.length,e.capSegments,e.radialSegments)}}class fm extends _t{constructor(e=1,t=32,i=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:i,thetaLength:r},t=Math.max(3,t);const s=[],o=[],a=[],l=[],c=new F,h=new de;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let d=0,p=3;d<=t;d++,p+=3){const m=i+d/t*r;c.x=e*Math.cos(m),c.y=e*Math.sin(m),o.push(c.x,c.y,c.z),a.push(0,0,1),h.x=(o[p]/e+1)/2,h.y=(o[p+1]/e+1)/2,l.push(h.x,h.y)}for(let d=1;d<=t;d++)s.push(d,d+1,0);this.setIndex(s),this.setAttribute("position",new Qe(o,3)),this.setAttribute("normal",new Qe(a,3)),this.setAttribute("uv",new Qe(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new fm(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class zu extends _t{constructor(e=1,t=1,i=1,r=32,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:i,radialSegments:r,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const c=this;r=Math.floor(r),s=Math.floor(s);const h=[],d=[],p=[],m=[];let v=0;const S=[],_=i/2;let g=0;x(),o===!1&&(e>0&&A(!0),t>0&&A(!1)),this.setIndex(h),this.setAttribute("position",new Qe(d,3)),this.setAttribute("normal",new Qe(p,3)),this.setAttribute("uv",new Qe(m,2));function x(){const E=new F,T=new F;let C=0;const R=(t-e)/i;for(let I=0;I<=s;I++){const P=[],B=I/s,U=B*(t-e)+e;for(let Y=0;Y<=r;Y++){const ee=Y/r,V=ee*l+a,Q=Math.sin(V),ne=Math.cos(V);T.x=U*Q,T.y=-B*i+_,T.z=U*ne,d.push(T.x,T.y,T.z),E.set(Q,R,ne).normalize(),p.push(E.x,E.y,E.z),m.push(ee,1-B),P.push(v++)}S.push(P)}for(let I=0;I<r;I++)for(let P=0;P<s;P++){const B=S[P][I],U=S[P+1][I],Y=S[P+1][I+1],ee=S[P][I+1];h.push(B,U,ee),h.push(U,Y,ee),C+=6}c.addGroup(g,C,0),g+=C}function A(E){const T=v,C=new de,R=new F;let I=0;const P=E===!0?e:t,B=E===!0?1:-1;for(let Y=1;Y<=r;Y++)d.push(0,_*B,0),p.push(0,B,0),m.push(.5,.5),v++;const U=v;for(let Y=0;Y<=r;Y++){const V=Y/r*l+a,Q=Math.cos(V),ne=Math.sin(V);R.x=P*ne,R.y=_*B,R.z=P*Q,d.push(R.x,R.y,R.z),p.push(0,B,0),C.x=Q*.5+.5,C.y=ne*.5*B+.5,m.push(C.x,C.y),v++}for(let Y=0;Y<r;Y++){const ee=T+Y,V=U+Y;E===!0?h.push(V,V+1,ee):h.push(V+1,V,ee),I+=3}c.addGroup(g,I,E===!0?1:2),g+=I}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new zu(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class hm extends zu{constructor(e=1,t=1,i=32,r=1,s=!1,o=0,a=Math.PI*2){super(0,e,t,i,r,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:i,heightSegments:r,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new hm(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Sa extends _t{constructor(e=[],t=[],i=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:i,detail:r};const s=[],o=[];a(r),c(i),h(),this.setAttribute("position",new Qe(s,3)),this.setAttribute("normal",new Qe(s.slice(),3)),this.setAttribute("uv",new Qe(o,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function a(x){const A=new F,E=new F,T=new F;for(let C=0;C<t.length;C+=3)m(t[C+0],A),m(t[C+1],E),m(t[C+2],T),l(A,E,T,x)}function l(x,A,E,T){const C=T+1,R=[];for(let I=0;I<=C;I++){R[I]=[];const P=x.clone().lerp(E,I/C),B=A.clone().lerp(E,I/C),U=C-I;for(let Y=0;Y<=U;Y++)Y===0&&I===C?R[I][Y]=P:R[I][Y]=P.clone().lerp(B,Y/U)}for(let I=0;I<C;I++)for(let P=0;P<2*(C-I)-1;P++){const B=Math.floor(P/2);P%2===0?(p(R[I][B+1]),p(R[I+1][B]),p(R[I][B])):(p(R[I][B+1]),p(R[I+1][B+1]),p(R[I+1][B]))}}function c(x){const A=new F;for(let E=0;E<s.length;E+=3)A.x=s[E+0],A.y=s[E+1],A.z=s[E+2],A.normalize().multiplyScalar(x),s[E+0]=A.x,s[E+1]=A.y,s[E+2]=A.z}function h(){const x=new F;for(let A=0;A<s.length;A+=3){x.x=s[A+0],x.y=s[A+1],x.z=s[A+2];const E=_(x)/2/Math.PI+.5,T=g(x)/Math.PI+.5;o.push(E,1-T)}v(),d()}function d(){for(let x=0;x<o.length;x+=6){const A=o[x+0],E=o[x+2],T=o[x+4],C=Math.max(A,E,T),R=Math.min(A,E,T);C>.9&&R<.1&&(A<.2&&(o[x+0]+=1),E<.2&&(o[x+2]+=1),T<.2&&(o[x+4]+=1))}}function p(x){s.push(x.x,x.y,x.z)}function m(x,A){const E=x*3;A.x=e[E+0],A.y=e[E+1],A.z=e[E+2]}function v(){const x=new F,A=new F,E=new F,T=new F,C=new de,R=new de,I=new de;for(let P=0,B=0;P<s.length;P+=9,B+=6){x.set(s[P+0],s[P+1],s[P+2]),A.set(s[P+3],s[P+4],s[P+5]),E.set(s[P+6],s[P+7],s[P+8]),C.set(o[B+0],o[B+1]),R.set(o[B+2],o[B+3]),I.set(o[B+4],o[B+5]),T.copy(x).add(A).add(E).divideScalar(3);const U=_(T);S(C,B+0,x,U),S(R,B+2,A,U),S(I,B+4,E,U)}}function S(x,A,E,T){T<0&&x.x===1&&(o[A]=x.x-1),E.x===0&&E.z===0&&(o[A]=T/2/Math.PI+.5)}function _(x){return Math.atan2(x.z,-x.x)}function g(x){return Math.atan2(-x.y,Math.sqrt(x.x*x.x+x.z*x.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Sa(e.vertices,e.indices,e.radius,e.details)}}class dm extends Sa{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=1/i,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new dm(e.radius,e.detail)}}const F0=new F,N0=new F,Z5=new F,O0=new Oi;class Hb extends _t{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const r=Math.pow(10,4),s=Math.cos(ml*t),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,c=[0,0,0],h=["a","b","c"],d=new Array(3),p={},m=[];for(let v=0;v<l;v+=3){o?(c[0]=o.getX(v),c[1]=o.getX(v+1),c[2]=o.getX(v+2)):(c[0]=v,c[1]=v+1,c[2]=v+2);const{a:S,b:_,c:g}=O0;if(S.fromBufferAttribute(a,c[0]),_.fromBufferAttribute(a,c[1]),g.fromBufferAttribute(a,c[2]),O0.getNormal(Z5),d[0]=`${Math.round(S.x*r)},${Math.round(S.y*r)},${Math.round(S.z*r)}`,d[1]=`${Math.round(_.x*r)},${Math.round(_.y*r)},${Math.round(_.z*r)}`,d[2]=`${Math.round(g.x*r)},${Math.round(g.y*r)},${Math.round(g.z*r)}`,!(d[0]===d[1]||d[1]===d[2]||d[2]===d[0]))for(let x=0;x<3;x++){const A=(x+1)%3,E=d[x],T=d[A],C=O0[h[x]],R=O0[h[A]],I=`${E}_${T}`,P=`${T}_${E}`;P in p&&p[P]?(Z5.dot(p[P].normal)<=s&&(m.push(C.x,C.y,C.z),m.push(R.x,R.y,R.z)),p[P]=null):I in p||(p[I]={index0:c[x],index1:c[A],normal:Z5.clone()})}}for(const v in p)if(p[v]){const{index0:S,index1:_}=p[v];F0.fromBufferAttribute(a,S),N0.fromBufferAttribute(a,_),m.push(F0.x,F0.y,F0.z),m.push(N0.x,N0.y,N0.z)}this.setAttribute("position",new Qe(m,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class vl extends Qh{constructor(e){super(e),this.uuid=ir(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let i=0,r=this.holes.length;i<r;i++)t[i]=this.holes[i].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,i=this.holes.length;t<i;t++){const r=this.holes[t];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(new Qh().fromJSON(r))}return this}}const dq={triangulate:function(n,e,t=2){const i=e&&e.length,r=i?e[0]*t:n.length;let s=zb(n,0,r,t,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,c,h,d,p,m;if(i&&(s=yq(n,e,s,t)),n.length>80*t){a=c=n[0],l=h=n[1];for(let v=t;v<r;v+=t)d=n[v],p=n[v+1],d<a&&(a=d),p<l&&(l=p),d>c&&(c=d),p>h&&(h=p);m=Math.max(c-a,h-l),m=m!==0?32767/m:0}return Zh(s,o,t,a,l,m,0),o}};function zb(n,e,t,i,r){let s,o;if(r===Pq(n,e,t,i)>0)for(s=e;s<t;s+=i)o=PA(s,n[s],n[s+1],o);else for(s=t-i;s>=e;s-=i)o=PA(s,n[s],n[s+1],o);return o&&pm(o,o.next)&&(ed(o),o=o.next),o}function Tl(n,e){if(!n)return n;e||(e=n);let t=n,i;do if(i=!1,!t.steiner&&(pm(t,t.next)||dn(t.prev,t,t.next)===0)){if(ed(t),t=e=t.prev,t===t.next)break;i=!0}else t=t.next;while(i||t!==e);return e}function Zh(n,e,t,i,r,s,o){if(!n)return;!o&&s&&Mq(n,i,r,s);let a=n,l,c;for(;n.prev!==n.next;){if(l=n.prev,c=n.next,s?mq(n,i,r,s):pq(n)){e.push(l.i/t|0),e.push(n.i/t|0),e.push(c.i/t|0),ed(n),n=c.next,a=c.next;continue}if(n=c,n===a){o?o===1?(n=gq(Tl(n),e,t),Zh(n,e,t,i,r,s,2)):o===2&&vq(n,e,t,i,r,s):Zh(Tl(n),e,t,i,r,s,1);break}}}function pq(n){const e=n.prev,t=n,i=n.next;if(dn(e,t,i)>=0)return!1;const r=e.x,s=t.x,o=i.x,a=e.y,l=t.y,c=i.y,h=r<s?r<o?r:o:s<o?s:o,d=a<l?a<c?a:c:l<c?l:c,p=r>s?r>o?r:o:s>o?s:o,m=a>l?a>c?a:c:l>c?l:c;let v=i.next;for(;v!==e;){if(v.x>=h&&v.x<=p&&v.y>=d&&v.y<=m&&Yc(r,a,s,l,o,c,v.x,v.y)&&dn(v.prev,v,v.next)>=0)return!1;v=v.next}return!0}function mq(n,e,t,i){const r=n.prev,s=n,o=n.next;if(dn(r,s,o)>=0)return!1;const a=r.x,l=s.x,c=o.x,h=r.y,d=s.y,p=o.y,m=a<l?a<c?a:c:l<c?l:c,v=h<d?h<p?h:p:d<p?d:p,S=a>l?a>c?a:c:l>c?l:c,_=h>d?h>p?h:p:d>p?d:p,g=v8(m,v,e,t,i),x=v8(S,_,e,t,i);let A=n.prevZ,E=n.nextZ;for(;A&&A.z>=g&&E&&E.z<=x;){if(A.x>=m&&A.x<=S&&A.y>=v&&A.y<=_&&A!==r&&A!==o&&Yc(a,h,l,d,c,p,A.x,A.y)&&dn(A.prev,A,A.next)>=0||(A=A.prevZ,E.x>=m&&E.x<=S&&E.y>=v&&E.y<=_&&E!==r&&E!==o&&Yc(a,h,l,d,c,p,E.x,E.y)&&dn(E.prev,E,E.next)>=0))return!1;E=E.nextZ}for(;A&&A.z>=g;){if(A.x>=m&&A.x<=S&&A.y>=v&&A.y<=_&&A!==r&&A!==o&&Yc(a,h,l,d,c,p,A.x,A.y)&&dn(A.prev,A,A.next)>=0)return!1;A=A.prevZ}for(;E&&E.z<=x;){if(E.x>=m&&E.x<=S&&E.y>=v&&E.y<=_&&E!==r&&E!==o&&Yc(a,h,l,d,c,p,E.x,E.y)&&dn(E.prev,E,E.next)>=0)return!1;E=E.nextZ}return!0}function gq(n,e,t){let i=n;do{const r=i.prev,s=i.next.next;!pm(r,s)&&Gb(r,i,i.next,s)&&$h(r,s)&&$h(s,r)&&(e.push(r.i/t|0),e.push(i.i/t|0),e.push(s.i/t|0),ed(i),ed(i.next),i=n=s),i=i.next}while(i!==n);return Tl(i)}function vq(n,e,t,i,r,s){let o=n;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&Tq(o,a)){let l=Vb(o,a);o=Tl(o,o.next),l=Tl(l,l.next),Zh(o,e,t,i,r,s,0),Zh(l,e,t,i,r,s,0);return}a=a.next}o=o.next}while(o!==n)}function yq(n,e,t,i){const r=[];let s,o,a,l,c;for(s=0,o=e.length;s<o;s++)a=e[s]*i,l=s<o-1?e[s+1]*i:n.length,c=zb(n,a,l,i,!1),c===c.next&&(c.steiner=!0),r.push(wq(c));for(r.sort(xq),s=0;s<r.length;s++)t=_q(r[s],t);return t}function xq(n,e){return n.x-e.x}function _q(n,e){const t=Aq(n,e);if(!t)return e;const i=Vb(t,n);return Tl(i,i.next),Tl(t,t.next)}function Aq(n,e){let t=e,i=-1/0,r;const s=n.x,o=n.y;do{if(o<=t.y&&o>=t.next.y&&t.next.y!==t.y){const p=t.x+(o-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(p<=s&&p>i&&(i=p,r=t.x<t.next.x?t:t.next,p===s))return r}t=t.next}while(t!==e);if(!r)return null;const a=r,l=r.x,c=r.y;let h=1/0,d;t=r;do s>=t.x&&t.x>=l&&s!==t.x&&Yc(o<c?s:i,o,l,c,o<c?i:s,o,t.x,t.y)&&(d=Math.abs(o-t.y)/(s-t.x),$h(t,n)&&(d<h||d===h&&(t.x>r.x||t.x===r.x&&Sq(r,t)))&&(r=t,h=d)),t=t.next;while(t!==a);return r}function Sq(n,e){return dn(n.prev,n,e.prev)<0&&dn(e.next,n,n.next)<0}function Mq(n,e,t,i){let r=n;do r.z===0&&(r.z=v8(r.x,r.y,e,t,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==n);r.prevZ.nextZ=null,r.prevZ=null,Eq(r)}function Eq(n){let e,t,i,r,s,o,a,l,c=1;do{for(t=n,n=null,s=null,o=0;t;){for(o++,i=t,a=0,e=0;e<c&&(a++,i=i.nextZ,!!i);e++);for(l=c;a>0||l>0&&i;)a!==0&&(l===0||!i||t.z<=i.z)?(r=t,t=t.nextZ,a--):(r=i,i=i.nextZ,l--),s?s.nextZ=r:n=r,r.prevZ=s,s=r;t=i}s.nextZ=null,c*=2}while(o>1);return n}function v8(n,e,t,i,r){return n=(n-t)*r|0,e=(e-i)*r|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function wq(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function Yc(n,e,t,i,r,s,o,a){return(r-o)*(e-a)>=(n-o)*(s-a)&&(n-o)*(i-a)>=(t-o)*(e-a)&&(t-o)*(s-a)>=(r-o)*(i-a)}function Tq(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!Cq(n,e)&&($h(n,e)&&$h(e,n)&&bq(n,e)&&(dn(n.prev,n,e.prev)||dn(n,e.prev,e))||pm(n,e)&&dn(n.prev,n,n.next)>0&&dn(e.prev,e,e.next)>0)}function dn(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function pm(n,e){return n.x===e.x&&n.y===e.y}function Gb(n,e,t,i){const r=k0(dn(n,e,t)),s=k0(dn(n,e,i)),o=k0(dn(t,i,n)),a=k0(dn(t,i,e));return!!(r!==s&&o!==a||r===0&&U0(n,t,e)||s===0&&U0(n,i,e)||o===0&&U0(t,n,i)||a===0&&U0(t,e,i))}function U0(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function k0(n){return n>0?1:n<0?-1:0}function Cq(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&Gb(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function $h(n,e){return dn(n.prev,n,n.next)<0?dn(n,e,n.next)>=0&&dn(n,n.prev,e)>=0:dn(n,e,n.prev)<0||dn(n,n.next,e)<0}function bq(n,e){let t=n,i=!1;const r=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&r<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(i=!i),t=t.next;while(t!==n);return i}function Vb(n,e){const t=new y8(n.i,n.x,n.y),i=new y8(e.i,e.x,e.y),r=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=r,r.prev=t,i.next=t,t.prev=i,s.next=i,i.prev=s,i}function PA(n,e,t,i){const r=new y8(n,e,t);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function ed(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function y8(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Pq(n,e,t,i){let r=0;for(let s=e,o=t-i;s<t;s+=i)r+=(n[o]-n[s])*(n[s+1]+n[o+1]),o=s;return r}class bs{static area(e){const t=e.length;let i=0;for(let r=t-1,s=0;s<t;r=s++)i+=e[r].x*e[s].y-e[s].x*e[r].y;return i*.5}static isClockWise(e){return bs.area(e)<0}static triangulateShape(e,t){const i=[],r=[],s=[];RA(e),BA(i,e);let o=e.length;t.forEach(RA);for(let l=0;l<t.length;l++)r.push(o),o+=t[l].length,BA(i,t[l]);const a=dq.triangulate(i,r);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function RA(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function BA(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class bd extends _t{constructor(e=new vl([new de(.5,.5),new de(-.5,.5),new de(-.5,-.5),new de(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const i=this,r=[],s=[];for(let a=0,l=e.length;a<l;a++){const c=e[a];o(c)}this.setAttribute("position",new Qe(r,3)),this.setAttribute("uv",new Qe(s,2)),this.computeVertexNormals();function o(a){const l=[],c=t.curveSegments!==void 0?t.curveSegments:12,h=t.steps!==void 0?t.steps:1,d=t.depth!==void 0?t.depth:1;let p=t.bevelEnabled!==void 0?t.bevelEnabled:!0,m=t.bevelThickness!==void 0?t.bevelThickness:.2,v=t.bevelSize!==void 0?t.bevelSize:m-.1,S=t.bevelOffset!==void 0?t.bevelOffset:0,_=t.bevelSegments!==void 0?t.bevelSegments:3;const g=t.extrudePath,x=t.UVGenerator!==void 0?t.UVGenerator:Rq;let A,E=!1,T,C,R,I;g&&(A=g.getSpacedPoints(h),E=!0,p=!1,T=g.computeFrenetFrames(h,!1),C=new F,R=new F,I=new F),p||(_=0,m=0,v=0,S=0);const P=a.extractPoints(c);let B=P.shape;const U=P.holes;if(!bs.isClockWise(B)){B=B.reverse();for(let q=0,ge=U.length;q<ge;q++){const pe=U[q];bs.isClockWise(pe)&&(U[q]=pe.reverse())}}const ee=bs.triangulateShape(B,U),V=B;for(let q=0,ge=U.length;q<ge;q++){const pe=U[q];B=B.concat(pe)}function Q(q,ge,pe){return ge||console.error("THREE.ExtrudeGeometry: vec does not exist"),q.clone().addScaledVector(ge,pe)}const ne=B.length,te=ee.length;function D(q,ge,pe){let Ee,ye,We;const He=q.x-ge.x,Ve=q.y-ge.y,et=pe.x-q.x,xt=pe.y-q.y,Ht=He*He+Ve*Ve,G=He*xt-Ve*et;if(Math.abs(G)>Number.EPSILON){const L=Math.sqrt(Ht),oe=Math.sqrt(et*et+xt*xt),Te=ge.x-Ve/L,xe=ge.y+He/L,be=pe.x-xt/oe,Ye=pe.y+et/oe,Ie=((be-Te)*xt-(Ye-xe)*et)/(He*xt-Ve*et);Ee=Te+He*Ie-q.x,ye=xe+Ve*Ie-q.y;const Oe=Ee*Ee+ye*ye;if(Oe<=2)return new de(Ee,ye);We=Math.sqrt(Oe/2)}else{let L=!1;He>Number.EPSILON?et>Number.EPSILON&&(L=!0):He<-Number.EPSILON?et<-Number.EPSILON&&(L=!0):Math.sign(Ve)===Math.sign(xt)&&(L=!0),L?(Ee=-Ve,ye=He,We=Math.sqrt(Ht)):(Ee=He,ye=Ve,We=Math.sqrt(Ht/2))}return new de(Ee/We,ye/We)}const W=[];for(let q=0,ge=V.length,pe=ge-1,Ee=q+1;q<ge;q++,pe++,Ee++)pe===ge&&(pe=0),Ee===ge&&(Ee=0),W[q]=D(V[q],V[pe],V[Ee]);const j=[];let N,X=W.concat();for(let q=0,ge=U.length;q<ge;q++){const pe=U[q];N=[];for(let Ee=0,ye=pe.length,We=ye-1,He=Ee+1;Ee<ye;Ee++,We++,He++)We===ye&&(We=0),He===ye&&(He=0),N[Ee]=D(pe[Ee],pe[We],pe[He]);j.push(N),X=X.concat(N)}for(let q=0;q<_;q++){const ge=q/_,pe=m*Math.cos(ge*Math.PI/2),Ee=v*Math.sin(ge*Math.PI/2)+S;for(let ye=0,We=V.length;ye<We;ye++){const He=Q(V[ye],W[ye],Ee);Le(He.x,He.y,-pe)}for(let ye=0,We=U.length;ye<We;ye++){const He=U[ye];N=j[ye];for(let Ve=0,et=He.length;Ve<et;Ve++){const xt=Q(He[Ve],N[Ve],Ee);Le(xt.x,xt.y,-pe)}}}const ce=v+S;for(let q=0;q<ne;q++){const ge=p?Q(B[q],X[q],ce):B[q];E?(R.copy(T.normals[0]).multiplyScalar(ge.x),C.copy(T.binormals[0]).multiplyScalar(ge.y),I.copy(A[0]).add(R).add(C),Le(I.x,I.y,I.z)):Le(ge.x,ge.y,0)}for(let q=1;q<=h;q++)for(let ge=0;ge<ne;ge++){const pe=p?Q(B[ge],X[ge],ce):B[ge];E?(R.copy(T.normals[q]).multiplyScalar(pe.x),C.copy(T.binormals[q]).multiplyScalar(pe.y),I.copy(A[q]).add(R).add(C),Le(I.x,I.y,I.z)):Le(pe.x,pe.y,d/h*q)}for(let q=_-1;q>=0;q--){const ge=q/_,pe=m*Math.cos(ge*Math.PI/2),Ee=v*Math.sin(ge*Math.PI/2)+S;for(let ye=0,We=V.length;ye<We;ye++){const He=Q(V[ye],W[ye],Ee);Le(He.x,He.y,d+pe)}for(let ye=0,We=U.length;ye<We;ye++){const He=U[ye];N=j[ye];for(let Ve=0,et=He.length;Ve<et;Ve++){const xt=Q(He[Ve],N[Ve],Ee);E?Le(xt.x,xt.y+A[h-1].y,A[h-1].x+pe):Le(xt.x,xt.y,d+pe)}}}me(),ve();function me(){const q=r.length/3;if(p){let ge=0,pe=ne*ge;for(let Ee=0;Ee<te;Ee++){const ye=ee[Ee];Xe(ye[2]+pe,ye[1]+pe,ye[0]+pe)}ge=h+_*2,pe=ne*ge;for(let Ee=0;Ee<te;Ee++){const ye=ee[Ee];Xe(ye[0]+pe,ye[1]+pe,ye[2]+pe)}}else{for(let ge=0;ge<te;ge++){const pe=ee[ge];Xe(pe[2],pe[1],pe[0])}for(let ge=0;ge<te;ge++){const pe=ee[ge];Xe(pe[0]+ne*h,pe[1]+ne*h,pe[2]+ne*h)}}i.addGroup(q,r.length/3-q,0)}function ve(){const q=r.length/3;let ge=0;Pe(V,ge),ge+=V.length;for(let pe=0,Ee=U.length;pe<Ee;pe++){const ye=U[pe];Pe(ye,ge),ge+=ye.length}i.addGroup(q,r.length/3-q,1)}function Pe(q,ge){let pe=q.length;for(;--pe>=0;){const Ee=pe;let ye=pe-1;ye<0&&(ye=q.length-1);for(let We=0,He=h+_*2;We<He;We++){const Ve=ne*We,et=ne*(We+1),xt=ge+Ee+Ve,Ht=ge+ye+Ve,G=ge+ye+et,L=ge+Ee+et;pt(xt,Ht,G,L)}}}function Le(q,ge,pe){l.push(q),l.push(ge),l.push(pe)}function Xe(q,ge,pe){rt(q),rt(ge),rt(pe);const Ee=r.length/3,ye=x.generateTopUV(i,r,Ee-3,Ee-2,Ee-1);Me(ye[0]),Me(ye[1]),Me(ye[2])}function pt(q,ge,pe,Ee){rt(q),rt(ge),rt(Ee),rt(ge),rt(pe),rt(Ee);const ye=r.length/3,We=x.generateSideWallUV(i,r,ye-6,ye-3,ye-2,ye-1);Me(We[0]),Me(We[1]),Me(We[3]),Me(We[1]),Me(We[2]),Me(We[3])}function rt(q){r.push(l[q*3+0]),r.push(l[q*3+1]),r.push(l[q*3+2])}function Me(q){s.push(q.x),s.push(q.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,i=this.parameters.options;return Bq(t,i,e)}static fromJSON(e,t){const i=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=t[e.shapes[s]];i.push(a)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new u2[r.type]().fromJSON(r)),new bd(i,e.options)}}const Rq={generateTopUV:function(n,e,t,i,r){const s=e[t*3],o=e[t*3+1],a=e[i*3],l=e[i*3+1],c=e[r*3],h=e[r*3+1];return[new de(s,o),new de(a,l),new de(c,h)]},generateSideWallUV:function(n,e,t,i,r,s){const o=e[t*3],a=e[t*3+1],l=e[t*3+2],c=e[i*3],h=e[i*3+1],d=e[i*3+2],p=e[r*3],m=e[r*3+1],v=e[r*3+2],S=e[s*3],_=e[s*3+1],g=e[s*3+2];return Math.abs(a-h)<Math.abs(o-c)?[new de(o,1-l),new de(c,1-d),new de(p,1-v),new de(S,1-g)]:[new de(a,1-l),new de(h,1-d),new de(m,1-v),new de(_,1-g)]}};function Bq(n,e,t){if(t.shapes=[],Array.isArray(n))for(let i=0,r=n.length;i<r;i++){const s=n[i];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class mm extends Sa{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new mm(e.radius,e.detail)}}class Pd extends Sa{constructor(e=1,t=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,r,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Pd(e.radius,e.detail)}}class gm extends _t{constructor(e=.5,t=1,i=32,r=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:i,phiSegments:r,thetaStart:s,thetaLength:o},i=Math.max(3,i),r=Math.max(1,r);const a=[],l=[],c=[],h=[];let d=e;const p=(t-e)/r,m=new F,v=new de;for(let S=0;S<=r;S++){for(let _=0;_<=i;_++){const g=s+_/i*o;m.x=d*Math.cos(g),m.y=d*Math.sin(g),l.push(m.x,m.y,m.z),c.push(0,0,1),v.x=(m.x/t+1)/2,v.y=(m.y/t+1)/2,h.push(v.x,v.y)}d+=p}for(let S=0;S<r;S++){const _=S*(i+1);for(let g=0;g<i;g++){const x=g+_,A=x,E=x+i+1,T=x+i+2,C=x+1;a.push(A,E,C),a.push(E,T,C)}}this.setIndex(a),this.setAttribute("position",new Qe(l,3)),this.setAttribute("normal",new Qe(c,3)),this.setAttribute("uv",new Qe(h,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new gm(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class vm extends _t{constructor(e=new vl([new de(0,.5),new de(-.5,-.5),new de(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const i=[],r=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let h=0;h<e.length;h++)c(e[h]),this.addGroup(a,l,h),a+=l,l=0;this.setIndex(i),this.setAttribute("position",new Qe(r,3)),this.setAttribute("normal",new Qe(s,3)),this.setAttribute("uv",new Qe(o,2));function c(h){const d=r.length/3,p=h.extractPoints(t);let m=p.shape;const v=p.holes;bs.isClockWise(m)===!1&&(m=m.reverse());for(let _=0,g=v.length;_<g;_++){const x=v[_];bs.isClockWise(x)===!0&&(v[_]=x.reverse())}const S=bs.triangulateShape(m,v);for(let _=0,g=v.length;_<g;_++){const x=v[_];m=m.concat(x)}for(let _=0,g=m.length;_<g;_++){const x=m[_];r.push(x.x,x.y,0),s.push(0,0,1),o.push(x.x,x.y)}for(let _=0,g=S.length;_<g;_++){const x=S[_],A=x[0]+d,E=x[1]+d,T=x[2]+d;i.push(A,E,T),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return Iq(t,e)}static fromJSON(e,t){const i=[];for(let r=0,s=e.shapes.length;r<s;r++){const o=t[e.shapes[r]];i.push(o)}return new vm(i,e.curveSegments)}}function Iq(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,i=n.length;t<i;t++){const r=n[t];e.shapes.push(r.uuid)}else e.shapes.push(n.uuid);return e}class Rd extends _t{constructor(e=1,t=32,i=16,r=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:r,phiLength:s,thetaStart:o,thetaLength:a},t=Math.max(3,Math.floor(t)),i=Math.max(2,Math.floor(i));const l=Math.min(o+a,Math.PI);let c=0;const h=[],d=new F,p=new F,m=[],v=[],S=[],_=[];for(let g=0;g<=i;g++){const x=[],A=g/i;let E=0;g===0&&o===0?E=.5/t:g===i&&l===Math.PI&&(E=-.5/t);for(let T=0;T<=t;T++){const C=T/t;d.x=-e*Math.cos(r+C*s)*Math.sin(o+A*a),d.y=e*Math.cos(o+A*a),d.z=e*Math.sin(r+C*s)*Math.sin(o+A*a),v.push(d.x,d.y,d.z),p.copy(d).normalize(),S.push(p.x,p.y,p.z),_.push(C+E,1-A),x.push(c++)}h.push(x)}for(let g=0;g<i;g++)for(let x=0;x<t;x++){const A=h[g][x+1],E=h[g][x],T=h[g+1][x],C=h[g+1][x+1];(g!==0||o>0)&&m.push(A,E,C),(g!==i-1||l<Math.PI)&&m.push(E,T,C)}this.setIndex(m),this.setAttribute("position",new Qe(v,3)),this.setAttribute("normal",new Qe(S,3)),this.setAttribute("uv",new Qe(_,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Rd(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class ym extends Sa{constructor(e=1,t=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,r,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new ym(e.radius,e.detail)}}class xm extends _t{constructor(e=1,t=.4,i=12,r=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:i,tubularSegments:r,arc:s},i=Math.floor(i),r=Math.floor(r);const o=[],a=[],l=[],c=[],h=new F,d=new F,p=new F;for(let m=0;m<=i;m++)for(let v=0;v<=r;v++){const S=v/r*s,_=m/i*Math.PI*2;d.x=(e+t*Math.cos(_))*Math.cos(S),d.y=(e+t*Math.cos(_))*Math.sin(S),d.z=t*Math.sin(_),a.push(d.x,d.y,d.z),h.x=e*Math.cos(S),h.y=e*Math.sin(S),p.subVectors(d,h).normalize(),l.push(p.x,p.y,p.z),c.push(v/r),c.push(m/i)}for(let m=1;m<=i;m++)for(let v=1;v<=r;v++){const S=(r+1)*m+v-1,_=(r+1)*(m-1)+v-1,g=(r+1)*(m-1)+v,x=(r+1)*m+v;o.push(S,_,x),o.push(_,g,x)}this.setIndex(o),this.setAttribute("position",new Qe(a,3)),this.setAttribute("normal",new Qe(l,3)),this.setAttribute("uv",new Qe(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new xm(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class _m extends _t{constructor(e=1,t=.4,i=64,r=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:i,radialSegments:r,p:s,q:o},i=Math.floor(i),r=Math.floor(r);const a=[],l=[],c=[],h=[],d=new F,p=new F,m=new F,v=new F,S=new F,_=new F,g=new F;for(let A=0;A<=i;++A){const E=A/i*s*Math.PI*2;x(E,s,o,e,m),x(E+.01,s,o,e,v),_.subVectors(v,m),g.addVectors(v,m),S.crossVectors(_,g),g.crossVectors(S,_),S.normalize(),g.normalize();for(let T=0;T<=r;++T){const C=T/r*Math.PI*2,R=-t*Math.cos(C),I=t*Math.sin(C);d.x=m.x+(R*g.x+I*S.x),d.y=m.y+(R*g.y+I*S.y),d.z=m.z+(R*g.z+I*S.z),l.push(d.x,d.y,d.z),p.subVectors(d,m).normalize(),c.push(p.x,p.y,p.z),h.push(A/i),h.push(T/r)}}for(let A=1;A<=i;A++)for(let E=1;E<=r;E++){const T=(r+1)*(A-1)+(E-1),C=(r+1)*A+(E-1),R=(r+1)*A+E,I=(r+1)*(A-1)+E;a.push(T,C,I),a.push(C,R,I)}this.setIndex(a),this.setAttribute("position",new Qe(l,3)),this.setAttribute("normal",new Qe(c,3)),this.setAttribute("uv",new Qe(h,2));function x(A,E,T,C,R){const I=Math.cos(A),P=Math.sin(A),B=T/E*A,U=Math.cos(B);R.x=C*(2+U)*.5*I,R.y=C*(2+U)*P*.5,R.z=C*Math.sin(B)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new _m(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class Am extends _t{constructor(e=new k9(new F(-1,-1,0),new F(-1,1,0),new F(1,1,0)),t=64,i=1,r=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:i,radialSegments:r,closed:s};const o=e.computeFrenetFrames(t,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new F,l=new F,c=new de;let h=new F;const d=[],p=[],m=[],v=[];S(),this.setIndex(v),this.setAttribute("position",new Qe(d,3)),this.setAttribute("normal",new Qe(p,3)),this.setAttribute("uv",new Qe(m,2));function S(){for(let A=0;A<t;A++)_(A);_(s===!1?t:0),x(),g()}function _(A){h=e.getPointAt(A/t,h);const E=o.normals[A],T=o.binormals[A];for(let C=0;C<=r;C++){const R=C/r*Math.PI*2,I=Math.sin(R),P=-Math.cos(R);l.x=P*E.x+I*T.x,l.y=P*E.y+I*T.y,l.z=P*E.z+I*T.z,l.normalize(),p.push(l.x,l.y,l.z),a.x=h.x+i*l.x,a.y=h.y+i*l.y,a.z=h.z+i*l.z,d.push(a.x,a.y,a.z)}}function g(){for(let A=1;A<=t;A++)for(let E=1;E<=r;E++){const T=(r+1)*(A-1)+(E-1),C=(r+1)*A+(E-1),R=(r+1)*A+E,I=(r+1)*(A-1)+E;v.push(T,C,I),v.push(C,R,I)}}function x(){for(let A=0;A<=t;A++)for(let E=0;E<=r;E++)c.x=A/t,c.y=E/r,m.push(c.x,c.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new Am(new u2[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class Wb extends _t{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],i=new Set,r=new F,s=new F;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let c=0,h=l.length;c<h;++c){const d=l[c],p=d.start,m=d.count;for(let v=p,S=p+m;v<S;v+=3)for(let _=0;_<3;_++){const g=a.getX(v+_),x=a.getX(v+(_+1)%3);r.fromBufferAttribute(o,g),s.fromBufferAttribute(o,x),IA(r,s,i)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let c=0;c<3;c++){const h=3*a+c,d=3*a+(c+1)%3;r.fromBufferAttribute(o,h),s.fromBufferAttribute(o,d),IA(r,s,i)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new Qe(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function IA(n,e,t){const i=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(i)===!0||t.has(r)===!0?!1:(t.add(i),t.add(r),!0)}var LA=Object.freeze({__proto__:null,BoxGeometry:Fl,CapsuleGeometry:um,CircleGeometry:fm,ConeGeometry:hm,CylinderGeometry:zu,DodecahedronGeometry:dm,EdgesGeometry:Hb,ExtrudeGeometry:bd,IcosahedronGeometry:mm,LatheGeometry:Cd,OctahedronGeometry:Pd,PlaneGeometry:Md,PolyhedronGeometry:Sa,RingGeometry:gm,ShapeGeometry:vm,SphereGeometry:Rd,TetrahedronGeometry:ym,TorusGeometry:xm,TorusKnotGeometry:_m,TubeGeometry:Am,WireframeGeometry:Wb});class jb extends On{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new ze(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class qb extends ns{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class Bd extends On{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new ze(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ze(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Aa,this.normalScale=new de(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Fs extends Bd{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new de(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return En(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new ze(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new ze(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new ze(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class Xb extends On{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new ze(16777215),this.specular=new ze(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ze(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Aa,this.normalScale=new de(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=yd,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Jb extends On{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new ze(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ze(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Aa,this.normalScale=new de(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class Kb extends On{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Aa,this.normalScale=new de(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class Yb extends On{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new ze(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ze(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Aa,this.normalScale=new de(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=yd,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Qb extends On{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new ze(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Aa,this.normalScale=new de(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Zb extends Ai{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function cl(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function $b(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function eP(n){function e(r,s){return n[r]-n[s]}const t=n.length,i=new Array(t);for(let r=0;r!==t;++r)i[r]=r;return i.sort(e),i}function x8(n,e,t){const i=n.length,r=new n.constructor(i);for(let s=0,o=0;o!==i;++s){const a=t[s]*e;for(let l=0;l!==e;++l)r[o++]=n[a+l]}return r}function z9(n,e,t,i){let r=1,s=n[0];for(;s!==void 0&&s[i]===void 0;)s=n[r++];if(s===void 0)return;let o=s[i];if(o!==void 0)if(Array.isArray(o))do o=s[i],o!==void 0&&(e.push(s.time),t.push.apply(t,o)),s=n[r++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[i],o!==void 0&&(e.push(s.time),o.toArray(t,t.length)),s=n[r++];while(s!==void 0);else do o=s[i],o!==void 0&&(e.push(s.time),t.push(o)),s=n[r++];while(s!==void 0)}function Lq(n,e,t,i,r=30){const s=n.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const c=s.tracks[l],h=c.getValueSize(),d=[],p=[];for(let m=0;m<c.times.length;++m){const v=c.times[m]*r;if(!(v<t||v>=i)){d.push(c.times[m]);for(let S=0;S<h;++S)p.push(c.values[m*h+S])}}d.length!==0&&(c.times=cl(d,c.times.constructor),c.values=cl(p,c.values.constructor),o.push(c))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function Dq(n,e=0,t=n,i=30){i<=0&&(i=30);const r=t.tracks.length,s=e/i;for(let o=0;o<r;++o){const a=t.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const c=n.tracks.find(function(g){return g.name===a.name&&g.ValueTypeName===l});if(c===void 0)continue;let h=0;const d=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(h=d/3);let p=0;const m=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=m/3);const v=a.times.length-1;let S;if(s<=a.times[0]){const g=h,x=d-h;S=a.values.slice(g,x)}else if(s>=a.times[v]){const g=v*d+h,x=g+d-h;S=a.values.slice(g,x)}else{const g=a.createInterpolant(),x=h,A=d-h;g.evaluate(s),S=g.resultBuffer.slice(x,A)}l==="quaternion"&&new ti().fromArray(S).normalize().conjugate().toArray(S);const _=c.times.length;for(let g=0;g<_;++g){const x=g*m+p;if(l==="quaternion")ti.multiplyQuaternionsFlat(c.values,x,S,0,c.values,x);else{const A=m-p*2;for(let E=0;E<A;++E)c.values[x+E]-=S[E]}}}return n.blendMode=v9,n}const Fq={convertArray:cl,isTypedArray:$b,getKeyframeOrder:eP,sortedArray:x8,flattenJSON:z9,subclip:Lq,makeClipAdditive:Dq};class Gu{constructor(e,t,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let i=this._cachedIndex,r=t[i],s=t[i-1];e:{t:{let o;n:{i:if(!(e<r)){for(let a=i+2;;){if(r===void 0){if(e<s)break i;return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===a)break;if(s=r,r=t[++i],e<r)break t}o=t.length;break n}if(!(e>=s)){const a=t[1];e<a&&(i=2,s=a);for(let l=i-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===l)break;if(r=s,s=t[--i-1],e>=s)break t}o=i,i=0;break n}break e}for(;i<o;){const a=i+o>>>1;e<t[a]?o=a:i=a+1}if(r=t[i],s=t[i-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,s,r)}return this.interpolate_(i,s,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r;for(let o=0;o!==r;++o)t[o]=i[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class tP extends Gu{constructor(e,t,i,r){super(e,t,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:ol,endingEnd:ol}}intervalChanged_(e,t,i){const r=this.parameterPositions;let s=e-2,o=e+1,a=r[s],l=r[o];if(a===void 0)switch(this.getSettings_().endingStart){case al:s=e,a=2*t-i;break;case Wh:s=r.length-2,a=t+r[s]-r[s+1];break;default:s=e,a=i}if(l===void 0)switch(this.getSettings_().endingEnd){case al:o=e,l=2*i-t;break;case Wh:o=1,l=i+r[1]-r[0];break;default:o=e-1,l=t}const c=(i-t)*.5,h=this.valueSize;this._weightPrev=c/(t-a),this._weightNext=c/(l-i),this._offsetPrev=s*h,this._offsetNext=o*h}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,h=this._offsetPrev,d=this._offsetNext,p=this._weightPrev,m=this._weightNext,v=(i-t)/(r-t),S=v*v,_=S*v,g=-p*_+2*p*S-p*v,x=(1+p)*_+(-1.5-2*p)*S+(-.5+p)*v+1,A=(-1-m)*_+(1.5+m)*S+.5*v,E=m*_-m*S;for(let T=0;T!==a;++T)s[T]=g*o[h+T]+x*o[c+T]+A*o[l+T]+E*o[d+T];return s}}class G9 extends Gu{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,h=(i-t)/(r-t),d=1-h;for(let p=0;p!==a;++p)s[p]=o[c+p]*d+o[l+p]*h;return s}}class nP extends Gu{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class os{constructor(e,t,i,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=cl(t,this.TimeBufferType),this.values=cl(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let i;if(t.toJSON!==this.toJSON)i=t.toJSON(e);else{i={name:e.name,times:cl(e.times,Array),values:cl(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new nP(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new G9(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new tP(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case Mu:t=this.InterpolantFactoryMethodDiscrete;break;case wl:t=this.InterpolantFactoryMethodLinear;break;case Sp:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Mu;case this.InterpolantFactoryMethodLinear:return wl;case this.InterpolantFactoryMethodSmooth:return Sp}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]*=e}return this}trim(e,t){const i=this.times,r=i.length;let s=0,o=r-1;for(;s!==r&&i[s]<e;)++s;for(;o!==-1&&i[o]>t;)--o;if(++o,s!==0||o!==r){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=i.slice(s,o),this.values=this.values.slice(s*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,s=i.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=i[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(r!==void 0&&$b(r))for(let a=0,l=r.length;a!==l;++a){const c=r[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),i=this.getValueSize(),r=this.getInterpolation()===Sp,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const c=e[a],h=e[a+1];if(c!==h&&(a!==1||c!==e[0]))if(r)l=!0;else{const d=a*i,p=d-i,m=d+i;for(let v=0;v!==i;++v){const S=t[d+v];if(S!==t[p+v]||S!==t[m+v]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const d=a*i,p=o*i;for(let m=0;m!==i;++m)t[p+m]=t[d+m]}++o}}if(s>0){e[o]=e[s];for(let a=s*i,l=o*i,c=0;c!==i;++c)t[l+c]=t[a+c];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=t.slice(0,o*i)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),i=this.constructor,r=new i(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}os.prototype.TimeBufferType=Float32Array;os.prototype.ValueBufferType=Float32Array;os.prototype.DefaultInterpolation=wl;class Nl extends os{}Nl.prototype.ValueTypeName="bool";Nl.prototype.ValueBufferType=Array;Nl.prototype.DefaultInterpolation=Mu;Nl.prototype.InterpolantFactoryMethodLinear=void 0;Nl.prototype.InterpolantFactoryMethodSmooth=void 0;class V9 extends os{}V9.prototype.ValueTypeName="color";class Cu extends os{}Cu.prototype.ValueTypeName="number";class iP extends Gu{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(i-t)/(r-t);let c=e*a;for(let h=c+a;c!==h;c+=4)ti.slerpFlat(s,0,o,c-a,o,c,l);return s}}class ga extends os{InterpolantFactoryMethodLinear(e){return new iP(this.times,this.values,this.getValueSize(),e)}}ga.prototype.ValueTypeName="quaternion";ga.prototype.DefaultInterpolation=wl;ga.prototype.InterpolantFactoryMethodSmooth=void 0;class Ol extends os{}Ol.prototype.ValueTypeName="string";Ol.prototype.ValueBufferType=Array;Ol.prototype.DefaultInterpolation=Mu;Ol.prototype.InterpolantFactoryMethodLinear=void 0;Ol.prototype.InterpolantFactoryMethodSmooth=void 0;class bu extends os{}bu.prototype.ValueTypeName="vector";class Pu{constructor(e,t=-1,i,r=em){this.name=e,this.tracks=i,this.duration=t,this.blendMode=r,this.uuid=ir(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],i=e.tracks,r=1/(e.fps||1);for(let o=0,a=i.length;o!==a;++o)t.push(Oq(i[o]).scale(r));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],i=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=i.length;s!==o;++s)t.push(os.toJSON(i[s]));return r}static CreateFromMorphTargetSequence(e,t,i,r){const s=t.length,o=[];for(let a=0;a<s;a++){let l=[],c=[];l.push((a+s-1)%s,a,(a+1)%s),c.push(0,1,0);const h=eP(l);l=x8(l,1,h),c=x8(c,1,h),!r&&l[0]===0&&(l.push(s),c.push(c[0])),o.push(new Cu(".morphTargetInfluences["+t[a].name+"]",l,c).scale(1/i))}return new this(e,-1,o)}static findByName(e,t){let i=e;if(!Array.isArray(e)){const r=e;i=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<i.length;r++)if(i[r].name===t)return i[r];return null}static CreateClipsFromMorphTargetSequences(e,t,i){const r={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const c=e[a],h=c.name.match(s);if(h&&h.length>1){const d=h[1];let p=r[d];p||(r[d]=p=[]),p.push(c)}}const o=[];for(const a in r)o.push(this.CreateFromMorphTargetSequence(a,r[a],t,i));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(d,p,m,v,S){if(m.length!==0){const _=[],g=[];z9(m,_,g,v),_.length!==0&&S.push(new d(p,_,g))}},r=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let d=0;d<c.length;d++){const p=c[d].keys;if(!(!p||p.length===0))if(p[0].morphTargets){const m={};let v;for(v=0;v<p.length;v++)if(p[v].morphTargets)for(let S=0;S<p[v].morphTargets.length;S++)m[p[v].morphTargets[S]]=-1;for(const S in m){const _=[],g=[];for(let x=0;x!==p[v].morphTargets.length;++x){const A=p[v];_.push(A.time),g.push(A.morphTarget===S?1:0)}r.push(new Cu(".morphTargetInfluence["+S+"]",_,g))}l=m.length*o}else{const m=".bones["+t[d].name+"]";i(bu,m+".position",p,"pos",r),i(ga,m+".quaternion",p,"rot",r),i(bu,m+".scale",p,"scl",r)}}return r.length===0?null:new this(s,l,r,a)}resetDuration(){const e=this.tracks;let t=0;for(let i=0,r=e.length;i!==r;++i){const s=this.tracks[i];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function Nq(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Cu;case"vector":case"vector2":case"vector3":case"vector4":return bu;case"color":return V9;case"quaternion":return ga;case"bool":case"boolean":return Nl;case"string":return Ol}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function Oq(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=Nq(n.type);if(n.times===void 0){const t=[],i=[];z9(n.keys,t,i,"value"),n.times=t,n.values=i}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const Cl={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class W9{constructor(e,t,i){const r=this;let s=!1,o=0,a=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this.itemStart=function(h){a++,s===!1&&r.onStart!==void 0&&r.onStart(h,o,a),s=!0},this.itemEnd=function(h){o++,r.onProgress!==void 0&&r.onProgress(h,o,a),o===a&&(s=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(h){r.onError!==void 0&&r.onError(h)},this.resolveURL=function(h){return l?l(h):h},this.setURLModifier=function(h){return l=h,this},this.addHandler=function(h,d){return c.push(h,d),this},this.removeHandler=function(h){const d=c.indexOf(h);return d!==-1&&c.splice(d,2),this},this.getHandler=function(h){for(let d=0,p=c.length;d<p;d+=2){const m=c[d],v=c[d+1];if(m.global&&(m.lastIndex=0),m.test(h))return v}return null}}}const Qc=new W9;let ai=class{constructor(e){this.manager=e!==void 0?e:Qc,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const i=this;return new Promise(function(r,s){i.load(e,r,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}};ai.DEFAULT_MATERIAL_NAME="__DEFAULT";const Js={};class Uq extends Error{constructor(e,t){super(e),this.response=t}}class Wi extends ai{constructor(e){super(e)}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=Cl.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(Js[e]!==void 0){Js[e].push({onLoad:t,onProgress:i,onError:r});return}Js[e]=[],Js[e].push({onLoad:t,onProgress:i,onError:r});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const h=Js[e],d=c.body.getReader(),p=c.headers.get("Content-Length")||c.headers.get("X-File-Size"),m=p?parseInt(p):0,v=m!==0;let S=0;const _=new ReadableStream({start(g){x();function x(){d.read().then(({done:A,value:E})=>{if(A)g.close();else{S+=E.byteLength;const T=new ProgressEvent("progress",{lengthComputable:v,loaded:S,total:m});for(let C=0,R=h.length;C<R;C++){const I=h[C];I.onProgress&&I.onProgress(T)}g.enqueue(E),x()}})}}});return new Response(_)}else throw new Uq(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(h=>new DOMParser().parseFromString(h,a));case"json":return c.json();default:if(a===void 0)return c.text();{const d=/charset="?([^;"\s]*)"?/i.exec(a),p=d&&d[1]?d[1].toLowerCase():void 0,m=new TextDecoder(p);return c.arrayBuffer().then(v=>m.decode(v))}}}).then(c=>{Cl.add(e,c);const h=Js[e];delete Js[e];for(let d=0,p=h.length;d<p;d++){const m=h[d];m.onLoad&&m.onLoad(c)}}).catch(c=>{const h=Js[e];if(h===void 0)throw this.manager.itemError(e),c;delete Js[e];for(let d=0,p=h.length;d<p;d++){const m=h[d];m.onError&&m.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class kq extends ai{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new Wi(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t=[];for(let i=0;i<e.length;i++){const r=Pu.parse(e[i]);t.push(r)}return t}}class Hq extends ai{constructor(e){super(e)}load(e,t,i,r){const s=this,o=[],a=new lm,l=new Wi(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let c=0;function h(d){l.load(e[d],function(p){const m=s.parse(p,!0);o[d]={width:m.width,height:m.height,format:m.format,mipmaps:m.mipmaps},c+=1,c===6&&(m.mipmapCount===1&&(a.minFilter=hn),a.image=o,a.format=m.format,a.needsUpdate=!0,t&&t(a))},i,r)}if(Array.isArray(e))for(let d=0,p=e.length;d<p;++d)h(d);else l.load(e,function(d){const p=s.parse(d,!0);if(p.isCubemap){const m=p.mipmaps.length/p.mipmapCount;for(let v=0;v<m;v++){o[v]={mipmaps:[]};for(let S=0;S<p.mipmapCount;S++)o[v].mipmaps.push(p.mipmaps[v*p.mipmapCount+S]),o[v].format=p.format,o[v].width=p.width,o[v].height=p.height}a.image=o}else a.image.width=p.width,a.image.height=p.height,a.mipmaps=p.mipmaps;p.mipmapCount===1&&(a.minFilter=hn),a.format=p.format,a.needsUpdate=!0,t&&t(a)},i,r);return a}}class td extends ai{constructor(e){super(e)}load(e,t,i,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Cl.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a=Yh("img");function l(){h(),Cl.add(e,this),t&&t(this),s.manager.itemEnd(e)}function c(d){h(),r&&r(d),s.manager.itemError(e),s.manager.itemEnd(e)}function h(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class zq extends ai{constructor(e){super(e)}load(e,t,i,r){const s=new Sd;s.colorSpace=Vn;const o=new td(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(c){o.load(e[c],function(h){s.images[c]=h,a++,a===6&&(s.needsUpdate=!0,t&&t(s))},void 0,r)}for(let c=0;c<e.length;++c)l(c);return s}}class Gq extends ai{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new lu,a=new Wi(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){let c;try{c=s.parse(l)}catch(h){if(r!==void 0)r(h);else{console.error(h);return}}c.image!==void 0?o.image=c.image:c.data!==void 0&&(o.image.width=c.width,o.image.height=c.height,o.image.data=c.data),o.wrapS=c.wrapS!==void 0?c.wrapS:ri,o.wrapT=c.wrapT!==void 0?c.wrapT:ri,o.magFilter=c.magFilter!==void 0?c.magFilter:hn,o.minFilter=c.minFilter!==void 0?c.minFilter:hn,o.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.colorSpace!==void 0?o.colorSpace=c.colorSpace:c.encoding!==void 0&&(o.encoding=c.encoding),c.flipY!==void 0&&(o.flipY=c.flipY),c.format!==void 0&&(o.format=c.format),c.type!==void 0&&(o.type=c.type),c.mipmaps!==void 0&&(o.mipmaps=c.mipmaps,o.minFilter=Bs),c.mipmapCount===1&&(o.minFilter=hn),c.generateMipmaps!==void 0&&(o.generateMipmaps=c.generateMipmaps),o.needsUpdate=!0,t&&t(o,c)},i,r),o}}class rP extends ai{constructor(e){super(e)}load(e,t,i,r){const s=new ln,o=new td(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,t!==void 0&&t(s)},i,r),s}}class Ma extends Lt{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new ze(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}class sP extends Ma{constructor(e,t,i){super(e,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Lt.DEFAULT_UP),this.updateMatrix(),this.groundColor=new ze(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const $5=new ct,DA=new F,FA=new F;class j9{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new de(512,512),this.map=null,this.mapPass=null,this.matrix=new ct,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new im,this._frameExtents=new de(1,1),this._viewportCount=1,this._viewports=[new Wt(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,i=this.matrix;DA.setFromMatrixPosition(e.matrixWorld),t.position.copy(DA),FA.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(FA),t.updateMatrixWorld(),$5.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix($5),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply($5)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class Vq extends j9{constructor(){super(new tn(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,i=Eu*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(i!==t.fov||r!==t.aspect||s!==t.far)&&(t.fov=i,t.aspect=r,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class q9 extends Ma{constructor(e,t,i=0,r=Math.PI/3,s=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Lt.DEFAULT_UP),this.updateMatrix(),this.target=new Lt,this.distance=i,this.angle=r,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new Vq}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const NA=new ct,Bf=new F,e6=new F;class Wq extends j9{constructor(){super(new tn(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new de(4,2),this._viewportCount=6,this._viewports=[new Wt(2,1,1,1),new Wt(0,1,1,1),new Wt(3,1,1,1),new Wt(1,1,1,1),new Wt(3,0,1,1),new Wt(1,0,1,1)],this._cubeDirections=[new F(1,0,0),new F(-1,0,0),new F(0,0,1),new F(0,0,-1),new F(0,1,0),new F(0,-1,0)],this._cubeUps=[new F(0,1,0),new F(0,1,0),new F(0,1,0),new F(0,1,0),new F(0,0,1),new F(0,0,-1)]}updateMatrices(e,t=0){const i=this.camera,r=this.matrix,s=e.distance||i.far;s!==i.far&&(i.far=s,i.updateProjectionMatrix()),Bf.setFromMatrixPosition(e.matrixWorld),i.position.copy(Bf),e6.copy(i.position),e6.add(this._cubeDirections[t]),i.up.copy(this._cubeUps[t]),i.lookAt(e6),i.updateMatrixWorld(),r.makeTranslation(-Bf.x,-Bf.y,-Bf.z),NA.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(NA)}}class X9 extends Ma{constructor(e,t,i=0,r=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new Wq}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class jq extends j9{constructor(){super(new Pr(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class J9 extends Ma{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Lt.DEFAULT_UP),this.updateMatrix(),this.target=new Lt,this.shadow=new jq}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class oP extends Ma{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class aP extends Ma{constructor(e,t,i=10,r=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class lP{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new F)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const i=e.x,r=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*r),t.addScaledVector(o[2],.488603*s),t.addScaledVector(o[3],.488603*i),t.addScaledVector(o[4],1.092548*(i*r)),t.addScaledVector(o[5],1.092548*(r*s)),t.addScaledVector(o[6],.315392*(3*s*s-1)),t.addScaledVector(o[7],1.092548*(i*s)),t.addScaledVector(o[8],.546274*(i*i-r*r)),t}getIrradianceAt(e,t){const i=e.x,r=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*r),t.addScaledVector(o[2],2*.511664*s),t.addScaledVector(o[3],2*.511664*i),t.addScaledVector(o[4],2*.429043*i*r),t.addScaledVector(o[5],2*.429043*r*s),t.addScaledVector(o[6],.743125*s*s-.247708),t.addScaledVector(o[7],2*.429043*i*s),t.addScaledVector(o[8],.429043*(i*i-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].fromArray(e,t+r*3);return this}toArray(e=[],t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].toArray(e,t+r*3);return e}static getBasisAt(e,t){const i=e.x,r=e.y,s=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*s,t[3]=.488603*i,t[4]=1.092548*i*r,t[5]=1.092548*r*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*i*s,t[8]=.546274*(i*i-r*r)}}class cP extends Ma{constructor(e=new lP,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class Sm extends ai{constructor(e){super(e),this.textures={}}load(e,t,i,r){const s=this,o=new Wi(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t=this.textures;function i(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const r=Sm.createMaterialFromType(e.type);if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new ze().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(r.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(r.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(r.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(r.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(r.alphaHash=e.alphaHash),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==void 0&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(r.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(r.uniforms[s]={},o.type){case"t":r.uniforms[s].value=i(o.value);break;case"c":r.uniforms[s].value=new ze().setHex(o.value);break;case"v2":r.uniforms[s].value=new de().fromArray(o.value);break;case"v3":r.uniforms[s].value=new F().fromArray(o.value);break;case"v4":r.uniforms[s].value=new Wt().fromArray(o.value);break;case"m3":r.uniforms[s].value=new Et().fromArray(o.value);break;case"m4":r.uniforms[s].value=new ct().fromArray(o.value);break;default:r.uniforms[s].value=o.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(r.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)r.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(r.lights=e.lights),e.clipping!==void 0&&(r.clipping=e.clipping),e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=i(e.map)),e.matcap!==void 0&&(r.matcap=i(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),r.normalScale=new de().fromArray(s)}return e.displacementMap!==void 0&&(r.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=i(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=i(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=i(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=i(e.envMap)),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new de().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(r.iridescenceMap=i(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=i(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(r.transmissionMap=i(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=i(e.thicknessMap)),e.anisotropyMap!==void 0&&(r.anisotropyMap=i(e.anisotropyMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=i(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=i(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const t={ShadowMaterial:jb,SpriteMaterial:R9,RawShaderMaterial:qb,ShaderMaterial:ns,PointsMaterial:Td,MeshPhysicalMaterial:Fs,MeshStandardMaterial:Bd,MeshPhongMaterial:Xb,MeshToonMaterial:Jb,MeshNormalMaterial:Kb,MeshLambertMaterial:Yb,MeshDepthMaterial:C9,MeshDistanceMaterial:b9,MeshBasicMaterial:tr,MeshMatcapMaterial:Qb,LineDashedMaterial:Zb,LineBasicMaterial:Ai,Material:On};return new t[e]}}class Ps{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let i=0,r=e.length;i<r;i++)t+=String.fromCharCode(e[i]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class uP extends _t{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class fP extends ai{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new Wi(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t={},i={};function r(m,v){if(t[v]!==void 0)return t[v];const _=m.interleavedBuffers[v],g=s(m,_.buffer),x=Jc(_.type,g),A=new Ed(x,_.stride);return A.uuid=_.uuid,t[v]=A,A}function s(m,v){if(i[v]!==void 0)return i[v];const _=m.arrayBuffers[v],g=new Uint32Array(_).buffer;return i[v]=g,g}const o=e.isInstancedBufferGeometry?new uP:new _t,a=e.data.index;if(a!==void 0){const m=Jc(a.type,a.array);o.setIndex(new Dt(m,1))}const l=e.data.attributes;for(const m in l){const v=l[m];let S;if(v.isInterleavedBufferAttribute){const _=r(e.data,v.data);S=new ma(_,v.itemSize,v.offset,v.normalized)}else{const _=Jc(v.type,v.array),g=v.isInstancedBufferAttribute?Tu:Dt;S=new g(_,v.itemSize,v.normalized)}v.name!==void 0&&(S.name=v.name),v.usage!==void 0&&S.setUsage(v.usage),v.updateRange!==void 0&&(S.updateRange.offset=v.updateRange.offset,S.updateRange.count=v.updateRange.count),o.setAttribute(m,S)}const c=e.data.morphAttributes;if(c)for(const m in c){const v=c[m],S=[];for(let _=0,g=v.length;_<g;_++){const x=v[_];let A;if(x.isInterleavedBufferAttribute){const E=r(e.data,x.data);A=new ma(E,x.itemSize,x.offset,x.normalized)}else{const E=Jc(x.type,x.array);A=new Dt(E,x.itemSize,x.normalized)}x.name!==void 0&&(A.name=x.name),S.push(A)}o.morphAttributes[m]=S}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const d=e.data.groups||e.data.drawcalls||e.data.offsets;if(d!==void 0)for(let m=0,v=d.length;m!==v;++m){const S=d[m];o.addGroup(S.start,S.count,S.materialIndex)}const p=e.data.boundingSphere;if(p!==void 0){const m=new F;p.center!==void 0&&m.fromArray(p.center),o.boundingSphere=new Fr(m,p.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class qq extends ai{constructor(e){super(e)}load(e,t,i,r){const s=this,o=this.path===""?Ps.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new Wi(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(d){r!==void 0&&r(d),console.error("THREE:ObjectLoader: Can't parse "+e+".",d.message);return}const h=c.metadata;if(h===void 0||h.type===void 0||h.type.toLowerCase()==="geometry"){r!==void 0&&r(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(c,t)},i,r)}async loadAsync(e,t){const i=this,r=this.path===""?Ps.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const s=new Wi(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,t),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await i.parseAsync(a)}parse(e,t){const i=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,r),o=this.parseImages(e.images,function(){t!==void 0&&t(c)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),c=this.parseObject(e.object,s,l,a,i),h=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,h),t!==void 0){let d=!1;for(const p in o)if(o[p].data instanceof HTMLImageElement){d=!0;break}d===!1&&t(c)}return c}async parseAsync(e){const t=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,i),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,r,a,o,t),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),l}parseShapes(e){const t={};if(e!==void 0)for(let i=0,r=e.length;i<r;i++){const s=new vl().fromJSON(e[i]);t[s.uuid]=s}return t}parseSkeletons(e,t){const i={},r={};if(t.traverse(function(s){s.isBone&&(r[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new wd().fromJSON(e[s],r);i[a.uuid]=a}return i}parseGeometries(e,t){const i={};if(e!==void 0){const r=new fP;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=r.parse(l);break;default:l.type in LA?a=LA[l.type].fromJSON(l,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),l.userData!==void 0&&(a.userData=l.userData),i[l.uuid]=a}}return i}parseMaterials(e,t){const i={},r={};if(e!==void 0){const s=new Sm;s.setTextures(t);for(let o=0,a=e.length;o<a;o++){const l=e[o];i[l.uuid]===void 0&&(i[l.uuid]=s.parse(l)),r[l.uuid]=i[l.uuid]}}return r}parseAnimations(e){const t={};if(e!==void 0)for(let i=0;i<e.length;i++){const r=e[i],s=Pu.parse(r);t[s.uuid]=s}return t}parseImages(e,t){const i=this,r={};let s;function o(l){return i.manager.itemStart(l),s.load(l,function(){i.manager.itemEnd(l)},void 0,function(){i.manager.itemError(l),i.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const c=l,h=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:i.resourcePath+c;return o(h)}else return l.data?{data:Jc(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new W9(t);s=new td(l),s.setCrossOrigin(this.crossOrigin);for(let c=0,h=e.length;c<h;c++){const d=e[c],p=d.url;if(Array.isArray(p)){const m=[];for(let v=0,S=p.length;v<S;v++){const _=p[v],g=a(_);g!==null&&(g instanceof HTMLImageElement?m.push(g):m.push(new lu(g.data,g.width,g.height)))}r[d.uuid]=new ll(m)}else{const m=a(d.url);r[d.uuid]=new ll(m)}}}return r}async parseImagesAsync(e){const t=this,i={};let r;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:t.resourcePath+a;return await r.loadAsync(l)}else return o.data?{data:Jc(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){r=new td(this.manager),r.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],c=l.url;if(Array.isArray(c)){const h=[];for(let d=0,p=c.length;d<p;d++){const m=c[d],v=await s(m);v!==null&&(v instanceof HTMLImageElement?h.push(v):h.push(new lu(v.data,v.width,v.height)))}i[l.uuid]=new ll(h)}else{const h=await s(l.url);i[l.uuid]=new ll(h)}}}return i}parseTextures(e,t){function i(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const r={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),t[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=t[a.image],c=l.data;let h;Array.isArray(c)?(h=new Sd,c.length===6&&(h.needsUpdate=!0)):(c&&c.data?h=new lu:h=new ln,c&&(h.needsUpdate=!0)),h.source=l,h.uuid=a.uuid,a.name!==void 0&&(h.name=a.name),a.mapping!==void 0&&(h.mapping=i(a.mapping,Xq)),a.channel!==void 0&&(h.channel=a.channel),a.offset!==void 0&&h.offset.fromArray(a.offset),a.repeat!==void 0&&h.repeat.fromArray(a.repeat),a.center!==void 0&&h.center.fromArray(a.center),a.rotation!==void 0&&(h.rotation=a.rotation),a.wrap!==void 0&&(h.wrapS=i(a.wrap[0],OA),h.wrapT=i(a.wrap[1],OA)),a.format!==void 0&&(h.format=a.format),a.internalFormat!==void 0&&(h.internalFormat=a.internalFormat),a.type!==void 0&&(h.type=a.type),a.colorSpace!==void 0&&(h.colorSpace=a.colorSpace),a.encoding!==void 0&&(h.encoding=a.encoding),a.minFilter!==void 0&&(h.minFilter=i(a.minFilter,UA)),a.magFilter!==void 0&&(h.magFilter=i(a.magFilter,UA)),a.anisotropy!==void 0&&(h.anisotropy=a.anisotropy),a.flipY!==void 0&&(h.flipY=a.flipY),a.generateMipmaps!==void 0&&(h.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(h.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(h.unpackAlignment=a.unpackAlignment),a.compareFunction!==void 0&&(h.compareFunction=a.compareFunction),a.userData!==void 0&&(h.userData=a.userData),r[a.uuid]=h}return r}parseObject(e,t,i,r,s){let o;function a(p){return t[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",p),t[p]}function l(p){if(p!==void 0){if(Array.isArray(p)){const m=[];for(let v=0,S=p.length;v<S;v++){const _=p[v];i[_]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",_),m.push(i[_])}return m}return i[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",p),i[p]}}function c(p){return r[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",p),r[p]}let h,d;switch(e.type){case"Scene":o=new c2,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new ze(e.background):o.background=c(e.background)),e.environment!==void 0&&(o.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new om(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new sm(e.fog.color,e.fog.density)),e.fog.name!==""&&(o.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":o=new tn(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new Pr(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new oP(e.color,e.intensity);break;case"DirectionalLight":o=new J9(e.color,e.intensity);break;case"PointLight":o=new X9(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new aP(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new q9(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new sP(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new cP().fromJSON(e);break;case"SkinnedMesh":h=a(e.geometry),d=l(e.material),o=new B9(h,d),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":h=a(e.geometry),d=l(e.material),o=new Zn(h,d);break;case"InstancedMesh":h=a(e.geometry),d=l(e.material);const p=e.count,m=e.instanceMatrix,v=e.instanceColor;o=new I9(h,d,p),o.instanceMatrix=new Tu(new Float32Array(m.array),16),v!==void 0&&(o.instanceColor=new Tu(new Float32Array(v.array),v.itemSize));break;case"LOD":o=new Db;break;case"Line":o=new mo(a(e.geometry),l(e.material));break;case"LineLoop":o=new L9(a(e.geometry),l(e.material));break;case"LineSegments":o=new rs(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new D9(a(e.geometry),l(e.material));break;case"Sprite":o=new Lb(l(e.material));break;case"Group":o=new ro;break;case"Bone":o=new am;break;default:o=new Lt}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const p=e.children;for(let m=0;m<p.length;m++)o.add(this.parseObject(p[m],t,i,r,s))}if(e.animations!==void 0){const p=e.animations;for(let m=0;m<p.length;m++){const v=p[m];o.animations.push(s[v])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const p=e.levels;for(let m=0;m<p.length;m++){const v=p[m],S=o.getObjectByProperty("uuid",v.object);S!==void 0&&o.addLevel(S,v.distance,v.hysteresis)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const r=t[i.skeleton];r===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(r,i.bindMatrix)}})}}const Xq={UVMapping:Q2,CubeReflectionMapping:po,CubeRefractionMapping:da,EquirectangularReflectionMapping:zh,EquirectangularRefractionMapping:Gh,CubeUVReflectionMapping:ku},OA={RepeatWrapping:pa,ClampToEdgeWrapping:ri,MirroredRepeatWrapping:Au},UA={NearestFilter:Mn,NearestMipmapNearestFilter:Vh,NearestMipmapLinearFilter:ou,LinearFilter:hn,LinearMipmapNearestFilter:Z2,LinearMipmapLinearFilter:Bs};class hP extends ai{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Cl.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(l){Cl.add(e,l),t&&t(l),s.manager.itemEnd(e)}).catch(function(l){r&&r(l),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}let H0;class K9{static getContext(){return H0===void 0&&(H0=new(window.AudioContext||window.webkitAudioContext)),H0}static setContext(e){H0=e}}class Jq extends ai{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new Wi(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){try{const c=l.slice(0);K9.getContext().decodeAudioData(c,function(d){t(d)},a)}catch(c){a(c)}},i,r);function a(l){r?r(l):console.error(l),s.manager.itemError(e)}}}const kA=new ct,HA=new ct,Ua=new ct;class Kq{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new tn,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new tn,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,Ua.copy(e.projectionMatrix);const r=t.eyeSep/2,s=r*t.near/t.focus,o=t.near*Math.tan(ml*t.fov*.5)/t.zoom;let a,l;HA.elements[12]=-r,kA.elements[12]=r,a=-o*t.aspect+s,l=o*t.aspect+s,Ua.elements[0]=2*t.near/(l-a),Ua.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(Ua),a=-o*t.aspect-s,l=o*t.aspect-s,Ua.elements[0]=2*t.near/(l-a),Ua.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(Ua)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(HA),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(kA)}}class Y9{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=zA(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=zA();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function zA(){return(typeof performance>"u"?Date:performance).now()}const ka=new F,GA=new ti,Yq=new F,Ha=new F;class Qq extends Lt{constructor(){super(),this.type="AudioListener",this.context=K9.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new Y9}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,i=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(ka,GA,Yq),Ha.set(0,0,-1).applyQuaternion(GA),t.positionX){const r=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(ka.x,r),t.positionY.linearRampToValueAtTime(ka.y,r),t.positionZ.linearRampToValueAtTime(ka.z,r),t.forwardX.linearRampToValueAtTime(Ha.x,r),t.forwardY.linearRampToValueAtTime(Ha.y,r),t.forwardZ.linearRampToValueAtTime(Ha.z,r),t.upX.linearRampToValueAtTime(i.x,r),t.upY.linearRampToValueAtTime(i.y,r),t.upZ.linearRampToValueAtTime(i.z,r)}else t.setPosition(ka.x,ka.y,ka.z),t.setOrientation(Ha.x,Ha.y,Ha.z,i.x,i.y,i.z)}}class dP extends Lt{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const za=new F,VA=new ti,Zq=new F,Ga=new F;class $q extends dP{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(za,VA,Zq),Ga.set(0,0,1).applyQuaternion(VA);const t=this.panner;if(t.positionX){const i=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(za.x,i),t.positionY.linearRampToValueAtTime(za.y,i),t.positionZ.linearRampToValueAtTime(za.z,i),t.orientationX.linearRampToValueAtTime(Ga.x,i),t.orientationY.linearRampToValueAtTime(Ga.y,i),t.orientationZ.linearRampToValueAtTime(Ga.z,i)}else t.setPosition(za.x,za.y,za.z),t.setOrientation(Ga.x,Ga.y,Ga.z)}}class eX{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let i=0;i<t.length;i++)e+=t[i];return e/t.length}}class pP{constructor(e,t,i){this.binding=e,this.valueSize=i;let r,s,o;switch(t){case"quaternion":r=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":r=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:r=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const i=this.buffer,r=this.valueSize,s=e*r+r;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==r;++a)i[s+a]=i[a];o=t}else{o+=t;const a=t/o;this._mixBufferRegion(i,s,0,a,r)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,i=this.valueSize,r=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,i=this.buffer,r=e*t+t,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=t*this._origIndex;this._mixBufferRegion(i,r,l,1-s,t)}o>0&&this._mixBufferRegionAdditive(i,r,this._addIndex*t,1,t);for(let l=t,c=t+t;l!==c;++l)if(i[l]!==i[l+t]){a.setValue(i,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,i=this.valueSize,r=i*this._origIndex;e.getValue(t,r);for(let s=i,o=r;s!==o;++s)t[s]=t[r+s%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let i=e;i<t;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[t+i]=this.buffer[e+i]}_select(e,t,i,r,s){if(r>=.5)for(let o=0;o!==s;++o)e[t+o]=e[i+o]}_slerp(e,t,i,r){ti.slerpFlat(e,t,e,t,e,i,r)}_slerpAdditive(e,t,i,r,s){const o=this._workIndex*s;ti.multiplyQuaternionsFlat(e,o,e,t,e,i),ti.slerpFlat(e,t,e,t,e,o,r)}_lerp(e,t,i,r,s){const o=1-r;for(let a=0;a!==s;++a){const l=t+a;e[l]=e[l]*o+e[i+a]*r}}_lerpAdditive(e,t,i,r,s){for(let o=0;o!==s;++o){const a=t+o;e[a]=e[a]+e[i+o]*r}}}const Q9="\\[\\]\\.:\\/",tX=new RegExp("["+Q9+"]","g"),Z9="[^"+Q9+"]",nX="[^"+Q9.replace("\\.","")+"]",iX=/((?:WC+[\/:])*)/.source.replace("WC",Z9),rX=/(WCOD+)?/.source.replace("WCOD",nX),sX=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",Z9),oX=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",Z9),aX=new RegExp("^"+iX+rX+sX+oX+"$"),lX=["material","materials","bones","map"];class cX{constructor(e,t,i){const r=i||It.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const i=this._targetGroup.nCachedObjects_,r=this._bindings[i];r!==void 0&&r.getValue(e,t)}setValue(e,t){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,s=i.length;r!==s;++r)i[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}}class It{constructor(e,t,i){this.path=t,this.parsedPath=i||It.parseTrackName(t),this.node=It.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,i){return e&&e.isAnimationObjectGroup?new It.Composite(e,t,i):new It(e,t,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(tX,"")}static parseTrackName(e){const t=aX.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const s=i.nodeName.substring(r+1);lX.indexOf(s)!==-1&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=s)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(t);if(i!==void 0)return i}if(e.children){const i=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===t||a.uuid===t)return a;const l=i(a.children);if(l)return l}return null},r=i(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)e[t++]=i[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,i=t.objectName,r=t.propertyName;let s=t.propertyIndex;if(e||(e=It.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(i){let c=t.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let h=0;h<e.length;h++)if(e[h].name===c){c=h;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const o=e[r];if(o===void 0){const c=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+r+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=r;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}It.Composite=cX;It.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};It.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};It.prototype.GetterByBindingType=[It.prototype._getValue_direct,It.prototype._getValue_array,It.prototype._getValue_arrayElement,It.prototype._getValue_toArray];It.prototype.SetterByBindingTypeAndVersioning=[[It.prototype._setValue_direct,It.prototype._setValue_direct_setNeedsUpdate,It.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[It.prototype._setValue_array,It.prototype._setValue_array_setNeedsUpdate,It.prototype._setValue_array_setMatrixWorldNeedsUpdate],[It.prototype._setValue_arrayElement,It.prototype._setValue_arrayElement_setNeedsUpdate,It.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[It.prototype._setValue_fromArray,It.prototype._setValue_fromArray_setNeedsUpdate,It.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class uX{constructor(){this.isAnimationObjectGroup=!0,this.uuid=ir(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,r=arguments.length;i!==r;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,i=this._paths,r=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,c=this.nCachedObjects_;for(let h=0,d=arguments.length;h!==d;++h){const p=arguments[h],m=p.uuid;let v=t[m];if(v===void 0){v=l++,t[m]=v,e.push(p);for(let S=0,_=o;S!==_;++S)s[S].push(new It(p,i[S],r[S]))}else if(v<c){a=e[v];const S=--c,_=e[S];t[_.uuid]=v,e[v]=_,t[m]=S,e[S]=p;for(let g=0,x=o;g!==x;++g){const A=s[g],E=A[S];let T=A[v];A[v]=E,T===void 0&&(T=new It(p,i[g],r[g])),A[S]=T}}else e[v]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],c=l.uuid,h=t[c];if(h!==void 0&&h>=s){const d=s++,p=e[d];t[p.uuid]=h,e[h]=p,t[c]=d,e[d]=l;for(let m=0,v=r;m!==v;++m){const S=i[m],_=S[d],g=S[h];S[h]=_,S[d]=g}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const c=arguments[a],h=c.uuid,d=t[h];if(d!==void 0)if(delete t[h],d<s){const p=--s,m=e[p],v=--o,S=e[v];t[m.uuid]=d,e[d]=m,t[S.uuid]=p,e[p]=S,e.pop();for(let _=0,g=r;_!==g;++_){const x=i[_],A=x[p],E=x[v];x[d]=A,x[p]=E,x.pop()}}else{const p=--o,m=e[p];p>0&&(t[m.uuid]=d),e[d]=m,e.pop();for(let v=0,S=r;v!==S;++v){const _=i[v];_[d]=_[p],_.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const i=this._bindingsIndicesByPath;let r=i[e];const s=this._bindings;if(r!==void 0)return s[r];const o=this._paths,a=this._parsedPaths,l=this._objects,c=l.length,h=this.nCachedObjects_,d=new Array(c);r=s.length,i[e]=r,o.push(e),a.push(t),s.push(d);for(let p=h,m=l.length;p!==m;++p){const v=l[p];d[p]=new It(v,e,t)}return d}unsubscribe_(e){const t=this._bindingsIndicesByPath,i=t[e];if(i!==void 0){const r=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],c=e[a];t[c]=i,o[i]=l,o.pop(),s[i]=s[a],s.pop(),r[i]=r[a],r.pop()}}}class mP{constructor(e,t,i=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=i,this.blendMode=r;const s=t.tracks,o=s.length,a=new Array(o),l={endingStart:ol,endingEnd:ol};for(let c=0;c!==o;++c){const h=s[c].createInterpolant(null);a[c]=h,h.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=eb,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,i){if(e.fadeOut(t),this.fadeIn(t),i){const r=this._clip.duration,s=e._clip.duration,o=s/r,a=r/s;e.warp(1,o,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,i){return e.crossFadeFrom(this,t,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,i){const r=this._mixer,s=r.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=r._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,c=a.sampleValues;return l[0]=s,l[1]=s+i,c[0]=e/o,c[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,i,r){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*i;l<0||i===0?t=0:(this._startTime=null,t=i*l)}t*=this._updateTimeScale(e);const o=this._updateTime(t),a=this._updateWeight(e);if(a>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case v9:for(let h=0,d=l.length;h!==d;++h)l[h].evaluate(o),c[h].accumulateAdditive(a);break;case em:default:for(let h=0,d=l.length;h!==d;++h)l[h].evaluate(o),c[h].accumulate(r,a)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const i=this._weightInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,i=this.loop;let r=this.time+e,s=this._loopCount;const o=i===tb;if(e===0)return s===-1?r:o&&(s&1)===1?t-r:r;if(i===$C){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),r>=t||r<0){const a=Math.floor(r/t);r-=t*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=r;if(o&&(s&1)===1)return t-r}return r}_setEndings(e,t,i){const r=this._interpolantSettings;i?(r.endingStart=al,r.endingEnd=al):(e?r.endingStart=this.zeroSlopeAtStart?al:ol:r.endingStart=Wh,t?r.endingEnd=this.zeroSlopeAtEnd?al:ol:r.endingEnd=Wh)}_scheduleFading(e,t,i){const r=this._mixer,s=r.time;let o=this._weightInterpolant;o===null&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=t,a[1]=s+e,l[1]=i,this}}const fX=new Float32Array(1);class hX extends Ds{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const i=e._localRoot||this._root,r=e._clip.tracks,s=r.length,o=e._propertyBindings,a=e._interpolants,l=i.uuid,c=this._bindingsByRootAndName;let h=c[l];h===void 0&&(h={},c[l]=h);for(let d=0;d!==s;++d){const p=r[d],m=p.name;let v=h[m];if(v!==void 0)++v.referenceCount,o[d]=v;else{if(v=o[d],v!==void 0){v._cacheIndex===null&&(++v.referenceCount,this._addInactiveBinding(v,l,m));continue}const S=t&&t._propertyBindings[d].binding.parsedPath;v=new pP(It.create(i,m,S),p.ValueTypeName,p.getValueSize()),++v.referenceCount,this._addInactiveBinding(v,l,m),o[d]=v}a[d].resultBuffer=v.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,r=e._clip.uuid,s=this._actionsByClip[r];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,r,i)}const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,i){const r=this._actions,s=this._actionsByClip;let o=s[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=r.length,r.push(e),o.actionByRoot[i]=e}_removeInactiveAction(e){const t=this._actions,i=t[t.length-1],r=e._cacheIndex;i._cacheIndex=r,t[r]=i,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,c=l[l.length-1],h=e._byClipCacheIndex;c._byClipCacheIndex=h,l[h]=c,l.pop(),e._byClipCacheIndex=null;const d=a.actionByRoot,p=(e._localRoot||this._root).uuid;delete d[p],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,i=e._cacheIndex,r=this._nActiveActions++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackAction(e){const t=this._actions,i=e._cacheIndex,r=--this._nActiveActions,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_addInactiveBinding(e,t,i){const r=this._bindingsByRootAndName,s=this._bindings;let o=r[t];o===void 0&&(o={},r[t]=o),o[i]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,i=e.binding,r=i.rootNode.uuid,s=i.path,o=this._bindingsByRootAndName,a=o[r],l=t[t.length-1],c=e._cacheIndex;l._cacheIndex=c,t[c]=l,t.pop(),delete a[s],Object.keys(a).length===0&&delete o[r]}_lendBinding(e){const t=this._bindings,i=e._cacheIndex,r=this._nActiveBindings++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackBinding(e){const t=this._bindings,i=e._cacheIndex,r=--this._nActiveBindings,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let i=e[t];return i===void 0&&(i=new G9(new Float32Array(2),new Float32Array(2),1,fX),i.__cacheIndex=t,e[t]=i),i}_takeBackControlInterpolant(e){const t=this._controlInterpolants,i=e.__cacheIndex,r=--this._nActiveControlInterpolants,s=t[r];e.__cacheIndex=r,t[r]=e,s.__cacheIndex=i,t[i]=s}clipAction(e,t,i){const r=t||this._root,s=r.uuid;let o=typeof e=="string"?Pu.findByName(r,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let c=null;if(i===void 0&&(o!==null?i=o.blendMode:i=em),l!==void 0){const d=l.actionByRoot[s];if(d!==void 0&&d.blendMode===i)return d;c=l.knownActions[0],o===null&&(o=c._clip)}if(o===null)return null;const h=new mP(this,o,t,i);return this._bindAction(h,c),this._addInactiveAction(h,a,s),h}existingAction(e,t){const i=t||this._root,r=i.uuid,s=typeof e=="string"?Pu.findByName(i,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[r]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let i=t-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const t=this._actions,i=this._nActiveActions,r=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let c=0;c!==i;++c)t[c]._update(r,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)a[c].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,i=e.uuid,r=this._actionsByClip,s=r[i];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const c=o[a];this._deactivateAction(c);const h=c._cacheIndex,d=t[t.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,d._cacheIndex=h,t[h]=d,t.pop(),this._removeInactiveBindingsForAction(c)}delete r[i]}}uncacheRoot(e){const t=e.uuid,i=this._actionsByClip;for(const o in i){const a=i[o].actionByRoot,l=a[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const r=this._bindingsByRootAndName,s=r[t];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,t){const i=this.existingAction(e,t);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class $9{constructor(e){this.value=e}clone(){return new $9(this.value.clone===void 0?this.value:this.value.clone())}}let dX=0;class pX extends Ds{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:dX++}),this.name="",this.usage=Jh,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let i=0,r=t.length;i<r;i++)this.uniforms.push(t[i].clone());return this}clone(){return new this.constructor().copy(this)}}class mX extends Ed{constructor(e,t,i=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class gX{constructor(e,t,i,r,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=i,this.elementSize=r,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class gP{constructor(e,t,i=0,r=1/0){this.ray=new Dl(e,t),this.near=i,this.far=r,this.camera=null,this.layers=new gl,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,i=[]){return _8(e,this,i,t),i.sort(WA),i}intersectObjects(e,t=!0,i=[]){for(let r=0,s=e.length;r<s;r++)_8(e[r],this,i,t);return i.sort(WA),i}}function WA(n,e){return n.distance-e.distance}function _8(n,e,t,i){if(n.layers.test(e.layers)&&n.raycast(e,t),i===!0){const r=n.children;for(let s=0,o=r.length;s<o;s++)_8(r[s],e,t,!0)}}class A8{constructor(e=1,t=0,i=0){return this.radius=e,this.phi=t,this.theta=i,this}set(e,t,i){return this.radius=e,this.phi=t,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+t*t+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(En(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class vX{constructor(e=1,t=0,i=0){return this.radius=e,this.theta=t,this.y=i,this}set(e,t,i){return this.radius=e,this.theta=t,this.y=i,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=t,this}clone(){return new this.constructor().copy(this)}}const jA=new de;class yX{constructor(e=new de(1/0,1/0),t=new de(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=jA.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,jA).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const qA=new F,z0=new F;class xX{constructor(e=new F,t=new F){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){qA.subVectors(e,this.start),z0.subVectors(this.end,this.start);const i=z0.dot(z0);let s=z0.dot(qA)/i;return t&&(s=En(s,0,1)),s}closestPointToPoint(e,t,i){const r=this.closestPointToPointParameter(e,t);return this.delta(i).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const XA=new F;class _X extends Lt{constructor(e,t){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const i=new _t,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const c=o/l*Math.PI*2,h=a/l*Math.PI*2;r.push(Math.cos(c),Math.sin(c),1,Math.cos(h),Math.sin(h),1)}i.setAttribute("position",new Qe(r,3));const s=new Ai({fog:!1,toneMapped:!1});this.cone=new rs(i,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),XA.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(XA),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Do=new F,G0=new ct,t6=new ct;class AX extends rs{constructor(e){const t=vP(e),i=new _t,r=[],s=[],o=new ze(0,0,1),a=new ze(0,1,0);for(let c=0;c<t.length;c++){const h=t[c];h.parent&&h.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}i.setAttribute("position",new Qe(r,3)),i.setAttribute("color",new Qe(s,3));const l=new Ai({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,i=this.geometry,r=i.getAttribute("position");t6.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<t.length;s++){const a=t[s];a.parent&&a.parent.isBone&&(G0.multiplyMatrices(t6,a.matrixWorld),Do.setFromMatrixPosition(G0),r.setXYZ(o,Do.x,Do.y,Do.z),G0.multiplyMatrices(t6,a.parent.matrixWorld),Do.setFromMatrixPosition(G0),r.setXYZ(o+1,Do.x,Do.y,Do.z),o+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function vP(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push.apply(e,vP(n.children[t]));return e}class SX extends Zn{constructor(e,t,i){const r=new Rd(t,4,2),s=new tr({wireframe:!0,fog:!1,toneMapped:!1});super(r,s),this.light=e,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const MX=new F,JA=new ze,KA=new ze;class EX extends Lt{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const r=new Pd(t);r.rotateY(Math.PI*.5),this.material=new tr({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=r.getAttribute("position"),o=new Float32Array(s.count*3);r.setAttribute("color",new Dt(o,3)),this.add(new Zn(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");JA.copy(this.light.color),KA.copy(this.light.groundColor);for(let i=0,r=t.count;i<r;i++){const s=i<r/2?JA:KA;t.setXYZ(i,s.r,s.g,s.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(MX.setFromMatrixPosition(this.light.matrixWorld).negate())}}class wX extends rs{constructor(e=10,t=10,i=4473924,r=8947848){i=new ze(i),r=new ze(r);const s=t/2,o=e/t,a=e/2,l=[],c=[];for(let p=0,m=0,v=-a;p<=t;p++,v+=o){l.push(-a,0,v,a,0,v),l.push(v,0,-a,v,0,a);const S=p===s?i:r;S.toArray(c,m),m+=3,S.toArray(c,m),m+=3,S.toArray(c,m),m+=3,S.toArray(c,m),m+=3}const h=new _t;h.setAttribute("position",new Qe(l,3)),h.setAttribute("color",new Qe(c,3));const d=new Ai({vertexColors:!0,toneMapped:!1});super(h,d),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class TX extends rs{constructor(e=10,t=16,i=8,r=64,s=4473924,o=8947848){s=new ze(s),o=new ze(o);const a=[],l=[];if(t>1)for(let d=0;d<t;d++){const p=d/t*(Math.PI*2),m=Math.sin(p)*e,v=Math.cos(p)*e;a.push(0,0,0),a.push(m,0,v);const S=d&1?s:o;l.push(S.r,S.g,S.b),l.push(S.r,S.g,S.b)}for(let d=0;d<i;d++){const p=d&1?s:o,m=e-e/i*d;for(let v=0;v<r;v++){let S=v/r*(Math.PI*2),_=Math.sin(S)*m,g=Math.cos(S)*m;a.push(_,0,g),l.push(p.r,p.g,p.b),S=(v+1)/r*(Math.PI*2),_=Math.sin(S)*m,g=Math.cos(S)*m,a.push(_,0,g),l.push(p.r,p.g,p.b)}}const c=new _t;c.setAttribute("position",new Qe(a,3)),c.setAttribute("color",new Qe(l,3));const h=new Ai({vertexColors:!0,toneMapped:!1});super(c,h),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const YA=new F,V0=new F,QA=new F;class CX extends Lt{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",t===void 0&&(t=1);let r=new _t;r.setAttribute("position",new Qe([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new Ai({fog:!1,toneMapped:!1});this.lightPlane=new mo(r,s),this.add(this.lightPlane),r=new _t,r.setAttribute("position",new Qe([0,0,0,0,0,1],3)),this.targetLine=new mo(r,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),YA.setFromMatrixPosition(this.light.matrixWorld),V0.setFromMatrixPosition(this.light.target.matrixWorld),QA.subVectors(V0,YA),this.lightPlane.lookAt(V0),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(V0),this.targetLine.scale.z=QA.length()}}const W0=new F,An=new Ad;class bX extends rs{constructor(e){const t=new _t,i=new Ai({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(v,S){l(v),l(S)}function l(v){r.push(0,0,0),s.push(0,0,0),o[v]===void 0&&(o[v]=[]),o[v].push(r.length/3-1)}t.setAttribute("position",new Qe(r,3)),t.setAttribute("color",new Qe(s,3)),super(t,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const c=new ze(16755200),h=new ze(16711680),d=new ze(43775),p=new ze(16777215),m=new ze(3355443);this.setColors(c,h,d,p,m)}setColors(e,t,i,r,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,t.r,t.g,t.b),a.setXYZ(25,t.r,t.g,t.b),a.setXYZ(26,t.r,t.g,t.b),a.setXYZ(27,t.r,t.g,t.b),a.setXYZ(28,t.r,t.g,t.b),a.setXYZ(29,t.r,t.g,t.b),a.setXYZ(30,t.r,t.g,t.b),a.setXYZ(31,t.r,t.g,t.b),a.setXYZ(32,i.r,i.g,i.b),a.setXYZ(33,i.r,i.g,i.b),a.setXYZ(34,i.r,i.g,i.b),a.setXYZ(35,i.r,i.g,i.b),a.setXYZ(36,i.r,i.g,i.b),a.setXYZ(37,i.r,i.g,i.b),a.setXYZ(38,r.r,r.g,r.b),a.setXYZ(39,r.r,r.g,r.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,i=1,r=1;An.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Cn("c",t,e,An,0,0,-1),Cn("t",t,e,An,0,0,1),Cn("n1",t,e,An,-i,-r,-1),Cn("n2",t,e,An,i,-r,-1),Cn("n3",t,e,An,-i,r,-1),Cn("n4",t,e,An,i,r,-1),Cn("f1",t,e,An,-i,-r,1),Cn("f2",t,e,An,i,-r,1),Cn("f3",t,e,An,-i,r,1),Cn("f4",t,e,An,i,r,1),Cn("u1",t,e,An,i*.7,r*1.1,-1),Cn("u2",t,e,An,-i*.7,r*1.1,-1),Cn("u3",t,e,An,0,r*2,-1),Cn("cf1",t,e,An,-i,0,1),Cn("cf2",t,e,An,i,0,1),Cn("cf3",t,e,An,0,-r,1),Cn("cf4",t,e,An,0,r,1),Cn("cn1",t,e,An,-i,0,-1),Cn("cn2",t,e,An,i,0,-1),Cn("cn3",t,e,An,0,-r,-1),Cn("cn4",t,e,An,0,r,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Cn(n,e,t,i,r,s,o){W0.set(r,s,o).unproject(i);const a=e[n];if(a!==void 0){const l=t.getAttribute("position");for(let c=0,h=a.length;c<h;c++)l.setXYZ(a[c],W0.x,W0.y,W0.z)}}const j0=new is;class PX extends rs{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(8*3),s=new _t;s.setIndex(new Dt(i,1)),s.setAttribute("position",new Dt(r,3)),super(s,new Ai({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&j0.setFromObject(this.object),j0.isEmpty())return;const t=j0.min,i=j0.max,r=this.geometry.attributes.position,s=r.array;s[0]=i.x,s[1]=i.y,s[2]=i.z,s[3]=t.x,s[4]=i.y,s[5]=i.z,s[6]=t.x,s[7]=t.y,s[8]=i.z,s[9]=i.x,s[10]=t.y,s[11]=i.z,s[12]=i.x,s[13]=i.y,s[14]=t.z,s[15]=t.x,s[16]=i.y,s[17]=t.z,s[18]=t.x,s[19]=t.y,s[20]=t.z,s[21]=i.x,s[22]=t.y,s[23]=t.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class RX extends rs{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new _t;s.setIndex(new Dt(i,1)),s.setAttribute("position",new Qe(r,3)),super(s,new Ai({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class BX extends mo{constructor(e,t=1,i=16776960){const r=i,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new _t;o.setAttribute("position",new Qe(s,3)),o.computeBoundingSphere(),super(o,new Ai({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new _t;l.setAttribute("position",new Qe(a,3)),l.computeBoundingSphere(),this.add(new Zn(l,new tr({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const ZA=new F;let q0,n6;class IX extends Lt{constructor(e=new F(0,0,1),t=new F(0,0,0),i=1,r=16776960,s=i*.2,o=s*.2){super(),this.type="ArrowHelper",q0===void 0&&(q0=new _t,q0.setAttribute("position",new Qe([0,0,0,0,1,0],3)),n6=new zu(0,.5,1,5,1),n6.translate(0,-.5,0)),this.position.copy(t),this.line=new mo(q0,new Ai({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Zn(n6,new tr({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{ZA.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(ZA,t)}}setLength(e,t=e*.2,i=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(i,t,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class LX extends rs{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new _t;r.setAttribute("position",new Qe(t,3)),r.setAttribute("color",new Qe(i,3));const s=new Ai({vertexColors:!0,toneMapped:!1});super(r,s),this.type="AxesHelper"}setColors(e,t,i){const r=new ze,s=this.geometry.attributes.color.array;return r.set(e),r.toArray(s,0),r.toArray(s,3),r.set(t),r.toArray(s,6),r.toArray(s,9),r.set(i),r.toArray(s,12),r.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class yP{constructor(){this.type="ShapePath",this.color=new ze,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new Qh,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,i,r){return this.currentPath.quadraticCurveTo(e,t,i,r),this}bezierCurveTo(e,t,i,r,s,o){return this.currentPath.bezierCurveTo(e,t,i,r,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(g){const x=[];for(let A=0,E=g.length;A<E;A++){const T=g[A],C=new vl;C.curves=T.curves,x.push(C)}return x}function i(g,x){const A=x.length;let E=!1;for(let T=A-1,C=0;C<A;T=C++){let R=x[T],I=x[C],P=I.x-R.x,B=I.y-R.y;if(Math.abs(B)>Number.EPSILON){if(B<0&&(R=x[C],P=-P,I=x[T],B=-B),g.y<R.y||g.y>I.y)continue;if(g.y===R.y){if(g.x===R.x)return!0}else{const U=B*(g.x-R.x)-P*(g.y-R.y);if(U===0)return!0;if(U<0)continue;E=!E}}else{if(g.y!==R.y)continue;if(I.x<=g.x&&g.x<=R.x||R.x<=g.x&&g.x<=I.x)return!0}}return E}const r=bs.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const c=[];if(s.length===1)return a=s[0],l=new vl,l.curves=a.curves,c.push(l),c;let h=!r(s[0].getPoints());h=e?!h:h;const d=[],p=[];let m=[],v=0,S;p[v]=void 0,m[v]=[];for(let g=0,x=s.length;g<x;g++)a=s[g],S=a.getPoints(),o=r(S),o=e?!o:o,o?(!h&&p[v]&&v++,p[v]={s:new vl,p:S},p[v].s.curves=a.curves,h&&v++,m[v]=[]):m[v].push({h:a,p:S[0]});if(!p[0])return t(s);if(p.length>1){let g=!1,x=0;for(let A=0,E=p.length;A<E;A++)d[A]=[];for(let A=0,E=p.length;A<E;A++){const T=m[A];for(let C=0;C<T.length;C++){const R=T[C];let I=!0;for(let P=0;P<p.length;P++)i(R.p,p[P].p)&&(A!==P&&x++,I?(I=!1,d[P].push(R)):g=!0);I&&d[A].push(R)}}x>0&&g===!1&&(m=d)}let _;for(let g=0,x=p.length;g<x;g++){l=p[g].s,c.push(l),_=m[g];for(let A=0,E=_.length;A<E;A++)l.holes.push(_[A].h)}return c}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Uu}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Uu);const xP=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:u9,AddEquation:$a,AddOperation:kC,AdditiveAnimationBlendMode:v9,AdditiveBlending:Ng,AlphaFormat:qC,AlwaysCompare:pb,AlwaysDepth:IC,AlwaysStencilFunc:ob,AmbientLight:oP,AnimationAction:mP,AnimationClip:Pu,AnimationLoader:kq,AnimationMixer:hX,AnimationObjectGroup:uX,AnimationUtils:Fq,ArcCurve:Fb,ArrayCamera:Pb,ArrowHelper:IX,Audio:dP,AudioAnalyser:eX,AudioContext:K9,AudioListener:Qq,AudioLoader:Jq,AxesHelper:LX,BackSide:xi,BasicDepthPacking:ib,BasicShadowMap:yC,Bone:am,BooleanKeyframeTrack:Nl,Box2:yX,Box3:is,Box3Helper:RX,BoxGeometry:Fl,BoxHelper:PX,BufferAttribute:Dt,BufferGeometry:_t,BufferGeometryLoader:fP,ByteType:WC,Cache:Cl,Camera:Ad,CameraHelper:bX,CanvasTexture:sq,CapsuleGeometry:um,CatmullRomCurve3:Nb,CineonToneMapping:GC,CircleGeometry:fm,ClampToEdgeWrapping:ri,Clock:Y9,Color:ze,ColorKeyframeTrack:V9,ColorManagement:Vt,CompressedArrayTexture:iq,CompressedCubeTexture:rq,CompressedTexture:lm,CompressedTextureLoader:Hq,ConeGeometry:hm,CubeCamera:Ab,CubeReflectionMapping:po,CubeRefractionMapping:da,CubeTexture:Sd,CubeTextureLoader:zq,CubeUVReflectionMapping:ku,CubicBezierCurve:N9,CubicBezierCurve3:Ob,CubicInterpolant:tP,CullFaceBack:Fg,CullFaceFront:vC,CullFaceFrontBack:aH,CullFaceNone:gC,Curve:ss,CurvePath:kb,CustomBlending:xC,CustomToneMapping:VC,CylinderGeometry:zu,Cylindrical:vX,Data3DTexture:S9,DataArrayTexture:nm,DataTexture:lu,DataTextureLoader:Gq,DataUtils:fz,DecrementStencilOp:gH,DecrementWrapStencilOp:yH,DefaultLoadingManager:Qc,DepthFormat:sa,DepthStencilFormat:El,DepthTexture:Rb,DirectionalLight:J9,DirectionalLightHelper:CX,DiscreteInterpolant:nP,DisplayP3ColorSpace:tm,DodecahedronGeometry:dm,DoubleSide:Tr,DstAlphaFactor:TC,DstColorFactor:bC,DynamicCopyUsage:IH,DynamicDrawUsage:pl,DynamicReadUsage:PH,EdgesGeometry:Hb,EllipseCurve:cm,EqualCompare:cb,EqualDepth:DC,EqualStencilFunc:SH,EquirectangularReflectionMapping:zh,EquirectangularRefractionMapping:Gh,Euler:_d,EventDispatcher:Ds,ExtrudeGeometry:bd,FileLoader:Wi,Float16BufferAttribute:vz,Float32BufferAttribute:Qe,Float64BufferAttribute:yz,FloatType:As,Fog:om,FogExp2:sm,FramebufferTexture:nq,FrontSide:Rs,Frustum:im,GLBufferAttribute:gX,GLSL1:DH,GLSL3:h8,GreaterCompare:fb,GreaterDepth:NC,GreaterEqualCompare:db,GreaterEqualDepth:FC,GreaterEqualStencilFunc:TH,GreaterStencilFunc:EH,GridHelper:wX,Group:ro,HalfFloatType:Su,HemisphereLight:sP,HemisphereLightHelper:EX,IcosahedronGeometry:mm,ImageBitmapLoader:hP,ImageLoader:td,ImageUtils:A9,IncrementStencilOp:mH,IncrementWrapStencilOp:vH,InstancedBufferAttribute:Tu,InstancedBufferGeometry:uP,InstancedInterleavedBuffer:mX,InstancedMesh:I9,Int16BufferAttribute:mz,Int32BufferAttribute:gz,Int8BufferAttribute:hz,IntType:f9,InterleavedBuffer:Ed,InterleavedBufferAttribute:ma,Interpolant:Gu,InterpolateDiscrete:Mu,InterpolateLinear:wl,InterpolateSmooth:Sp,InvertStencilOp:xH,KeepStencilOp:Mp,KeyframeTrack:os,LOD:Db,LatheGeometry:Cd,Layers:gl,LessCompare:lb,LessDepth:LC,LessEqualCompare:ub,LessEqualDepth:s2,LessEqualStencilFunc:MH,LessStencilFunc:AH,Light:Ma,LightProbe:cP,Line:mo,Line3:xX,LineBasicMaterial:Ai,LineCurve:O9,LineCurve3:Ub,LineDashedMaterial:Zb,LineLoop:L9,LineSegments:rs,LinearDisplayP3ColorSpace:xd,LinearEncoding:x9,LinearFilter:hn,LinearInterpolant:G9,LinearMipMapLinearFilter:hH,LinearMipMapNearestFilter:fH,LinearMipmapLinearFilter:Bs,LinearMipmapNearestFilter:Z2,LinearSRGBColorSpace:Is,LinearToneMapping:HC,LinearTransfer:jh,Loader:ai,LoaderUtils:Ps,LoadingManager:W9,LoopOnce:$C,LoopPingPong:tb,LoopRepeat:eb,LuminanceAlphaFormat:JC,LuminanceFormat:XC,MOUSE:Ka,Material:On,MaterialLoader:Sm,MathUtils:Xc,Matrix3:Et,Matrix4:ct,MaxEquation:Hg,Mesh:Zn,MeshBasicMaterial:tr,MeshDepthMaterial:C9,MeshDistanceMaterial:b9,MeshLambertMaterial:Yb,MeshMatcapMaterial:Qb,MeshNormalMaterial:Kb,MeshPhongMaterial:Xb,MeshPhysicalMaterial:Fs,MeshStandardMaterial:Bd,MeshToonMaterial:Jb,MinEquation:kg,MirroredRepeatWrapping:Au,MixOperation:UC,MultiplyBlending:Ug,MultiplyOperation:yd,NearestFilter:Mn,NearestMipMapLinearFilter:uH,NearestMipMapNearestFilter:cH,NearestMipmapLinearFilter:ou,NearestMipmapNearestFilter:Vh,NeverCompare:ab,NeverDepth:BC,NeverStencilFunc:_H,NoBlending:lo,NoColorSpace:$i,NoToneMapping:Ts,NormalAnimationBlendMode:em,NormalBlending:dl,NotEqualCompare:hb,NotEqualDepth:OC,NotEqualStencilFunc:wH,NumberKeyframeTrack:Cu,Object3D:Lt,ObjectLoader:qq,ObjectSpaceNormalMap:sb,OctahedronGeometry:Pd,OneFactor:MC,OneMinusDstAlphaFactor:CC,OneMinusDstColorFactor:PC,OneMinusSrcAlphaFactor:c9,OneMinusSrcColorFactor:wC,OrthographicCamera:Pr,P3Primaries:Xh,PCFShadowMap:Y2,PCFSoftShadowMap:uh,PMREMGenerator:p8,Path:Qh,PerspectiveCamera:tn,Plane:Zs,PlaneGeometry:Md,PlaneHelper:BX,PointLight:X9,PointLightHelper:SX,Points:D9,PointsMaterial:Td,PolarGridHelper:TX,PolyhedronGeometry:Sa,PositionalAudio:$q,PropertyBinding:It,PropertyMixer:pP,QuadraticBezierCurve:U9,QuadraticBezierCurve3:k9,Quaternion:ti,QuaternionKeyframeTrack:ga,QuaternionLinearInterpolant:iP,RED_GREEN_RGTC2_Format:u8,RED_RGTC1_Format:ZC,REVISION:Uu,RGBADepthPacking:rb,RGBAFormat:Ui,RGBAIntegerFormat:g9,RGBA_ASTC_10x10_Format:r8,RGBA_ASTC_10x5_Format:t8,RGBA_ASTC_10x6_Format:n8,RGBA_ASTC_10x8_Format:i8,RGBA_ASTC_12x10_Format:s8,RGBA_ASTC_12x12_Format:o8,RGBA_ASTC_4x4_Format:Xg,RGBA_ASTC_5x4_Format:Jg,RGBA_ASTC_5x5_Format:Kg,RGBA_ASTC_6x5_Format:Yg,RGBA_ASTC_6x6_Format:Qg,RGBA_ASTC_8x5_Format:Zg,RGBA_ASTC_8x6_Format:$g,RGBA_ASTC_8x8_Format:e8,RGBA_BPTC_Format:Ap,RGBA_ETC2_EAC_Format:qg,RGBA_PVRTC_2BPPV1_Format:Wg,RGBA_PVRTC_4BPPV1_Format:Vg,RGBA_S3TC_DXT1_Format:yp,RGBA_S3TC_DXT3_Format:xp,RGBA_S3TC_DXT5_Format:_p,RGB_BPTC_SIGNED_Format:a8,RGB_BPTC_UNSIGNED_Format:l8,RGB_ETC1_Format:QC,RGB_ETC2_Format:jg,RGB_PVRTC_2BPPV1_Format:Gg,RGB_PVRTC_4BPPV1_Format:zg,RGB_S3TC_DXT1_Format:vp,RGFormat:YC,RGIntegerFormat:m9,RawShaderMaterial:qb,Ray:Dl,Raycaster:gP,Rec709Primaries:qh,RectAreaLight:aP,RedFormat:KC,RedIntegerFormat:p9,ReinhardToneMapping:zC,RenderTarget:yb,RepeatWrapping:pa,ReplaceStencilOp:pH,ReverseSubtractEquation:AC,RingGeometry:gm,SIGNED_RED_GREEN_RGTC2_Format:f8,SIGNED_RED_RGTC1_Format:c8,SRGBColorSpace:Vn,SRGBTransfer:Kt,Scene:c2,ShaderChunk:At,ShaderLib:Xr,ShaderMaterial:ns,ShadowMaterial:jb,Shape:vl,ShapeGeometry:vm,ShapePath:yP,ShapeUtils:bs,ShortType:jC,Skeleton:wd,SkeletonHelper:AX,SkinnedMesh:B9,Source:ll,Sphere:Fr,SphereGeometry:Rd,Spherical:A8,SphericalHarmonics3:lP,SplineCurve:H9,SpotLight:q9,SpotLightHelper:_X,Sprite:Lb,SpriteMaterial:R9,SrcAlphaFactor:l9,SrcAlphaSaturateFactor:RC,SrcColorFactor:EC,StaticCopyUsage:BH,StaticDrawUsage:Jh,StaticReadUsage:bH,StereoCamera:Kq,StreamCopyUsage:LH,StreamDrawUsage:CH,StreamReadUsage:RH,StringKeyframeTrack:Ol,SubtractEquation:_C,SubtractiveBlending:Og,TOUCH:Ya,TangentSpaceNormalMap:Aa,TetrahedronGeometry:ym,Texture:ln,TextureLoader:rP,TorusGeometry:xm,TorusKnotGeometry:_m,Triangle:Oi,TriangleFanDrawMode:o2,TriangleStripDrawMode:y9,TrianglesDrawMode:nb,TubeGeometry:Am,TwoPassDoubleSide:lH,UVMapping:Q2,Uint16BufferAttribute:M9,Uint32BufferAttribute:E9,Uint8BufferAttribute:dz,Uint8ClampedBufferAttribute:pz,Uniform:$9,UniformsGroup:pX,UniformsLib:Fe,UniformsUtils:w9,UnsignedByteType:Cs,UnsignedInt248Type:ra,UnsignedIntType:io,UnsignedShort4444Type:h9,UnsignedShort5551Type:d9,UnsignedShortType:$2,VSMShadowMap:Wr,Vector2:de,Vector3:F,Vector4:Wt,VectorKeyframeTrack:bu,VideoTexture:tq,WebGL1Renderer:Bb,WebGL3DRenderTarget:$H,WebGLArrayRenderTarget:ZH,WebGLCoordinateSystem:Ss,WebGLCubeRenderTarget:Sb,WebGLMultipleRenderTargets:ez,WebGLRenderTarget:ts,WebGLRenderer:P9,WebGLUtils:bb,WebGPUCoordinateSystem:Kh,WireframeGeometry:Wb,WrapAroundEnding:Wh,ZeroCurvatureEnding:ol,ZeroFactor:SC,ZeroSlopeEnding:al,ZeroStencilOp:dH,_SRGBAFormat:a2,createCanvasElement:vb,sRGBEncoding:oa},Symbol.toStringTag,{value:"Module"}));var _P={exports:{}},Ul={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Ul.ConcurrentRoot=1;Ul.ContinuousEventPriority=4;Ul.DefaultEventPriority=16;Ul.DiscreteEventPriority=1;Ul.IdleEventPriority=536870912;Ul.LegacyRoot=0;_P.exports=Ul;var Zc=_P.exports;function DX(n){let e;const t=new Set,i=(c,h)=>{const d=typeof c=="function"?c(e):c;if(d!==e){const p=e;e=h?d:Object.assign({},e,d),t.forEach(m=>m(e,p))}},r=()=>e,s=(c,h=r,d=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let p=h(e);function m(){const v=h(e);if(!d(p,v)){const S=p;c(p=v,S)}}return t.add(m),()=>t.delete(m)},l={setState:i,getState:r,subscribe:(c,h,d)=>h||d?s(c,h,d):(t.add(c),()=>t.delete(c)),destroy:()=>t.clear()};return e=n(i,r,l),l}const FX=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),$A=FX?k.useEffect:k.useLayoutEffect;function AP(n){const e=typeof n=="function"?DX(n):n,t=(i=e.getState,r=Object.is)=>{const[,s]=k.useReducer(_=>_+1,0),o=e.getState(),a=k.useRef(o),l=k.useRef(i),c=k.useRef(r),h=k.useRef(!1),d=k.useRef();d.current===void 0&&(d.current=i(o));let p,m=!1;(a.current!==o||l.current!==i||c.current!==r||h.current)&&(p=i(o),m=!r(d.current,p)),$A(()=>{m&&(d.current=p),a.current=o,l.current=i,c.current=r,h.current=!1});const v=k.useRef(o);$A(()=>{const _=()=>{try{const x=e.getState(),A=l.current(x);c.current(d.current,A)||(a.current=x,d.current=A,s())}catch{h.current=!0,s()}},g=e.subscribe(_);return e.getState()!==v.current&&_(),g},[]);const S=m?p:d.current;return k.useDebugValue(S),S};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const i=[t,e];return{next(){const r=i.length<=0;return{value:i.shift(),done:r}}}},t}var SP={exports:{}},i6={exports:{}},r6={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eS;function NX(){return eS||(eS=1,function(n){function e(D,W){var j=D.length;D.push(W);e:for(;0<j;){var N=j-1>>>1,X=D[N];if(0<r(X,W))D[N]=W,D[j]=X,j=N;else break e}}function t(D){return D.length===0?null:D[0]}function i(D){if(D.length===0)return null;var W=D[0],j=D.pop();if(j!==W){D[0]=j;e:for(var N=0,X=D.length,ce=X>>>1;N<ce;){var me=2*(N+1)-1,ve=D[me],Pe=me+1,Le=D[Pe];if(0>r(ve,j))Pe<X&&0>r(Le,ve)?(D[N]=Le,D[Pe]=j,N=Pe):(D[N]=ve,D[me]=j,N=me);else if(Pe<X&&0>r(Le,j))D[N]=Le,D[Pe]=j,N=Pe;else break e}}return W}function r(D,W){var j=D.sortIndex-W.sortIndex;return j!==0?j:D.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],h=1,d=null,p=3,m=!1,v=!1,S=!1,_=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(D){for(var W=t(c);W!==null;){if(W.callback===null)i(c);else if(W.startTime<=D)i(c),W.sortIndex=W.expirationTime,e(l,W);else break;W=t(c)}}function E(D){if(S=!1,A(D),!v)if(t(l)!==null)v=!0,ne(T);else{var W=t(c);W!==null&&te(E,W.startTime-D)}}function T(D,W){v=!1,S&&(S=!1,g(I),I=-1),m=!0;var j=p;try{for(A(W),d=t(l);d!==null&&(!(d.expirationTime>W)||D&&!U());){var N=d.callback;if(typeof N=="function"){d.callback=null,p=d.priorityLevel;var X=N(d.expirationTime<=W);W=n.unstable_now(),typeof X=="function"?d.callback=X:d===t(l)&&i(l),A(W)}else i(l);d=t(l)}if(d!==null)var ce=!0;else{var me=t(c);me!==null&&te(E,me.startTime-W),ce=!1}return ce}finally{d=null,p=j,m=!1}}var C=!1,R=null,I=-1,P=5,B=-1;function U(){return!(n.unstable_now()-B<P)}function Y(){if(R!==null){var D=n.unstable_now();B=D;var W=!0;try{W=R(!0,D)}finally{W?ee():(C=!1,R=null)}}else C=!1}var ee;if(typeof x=="function")ee=function(){x(Y)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,Q=V.port2;V.port1.onmessage=Y,ee=function(){Q.postMessage(null)}}else ee=function(){_(Y,0)};function ne(D){R=D,C||(C=!0,ee())}function te(D,W){I=_(function(){D(n.unstable_now())},W)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(D){D.callback=null},n.unstable_continueExecution=function(){v||m||(v=!0,ne(T))},n.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<D?Math.floor(1e3/D):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(D){switch(p){case 1:case 2:case 3:var W=3;break;default:W=p}var j=p;p=W;try{return D()}finally{p=j}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(D,W){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var j=p;p=D;try{return W()}finally{p=j}},n.unstable_scheduleCallback=function(D,W,j){var N=n.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?N+j:N):j=N,D){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=j+X,D={id:h++,callback:W,priorityLevel:D,startTime:j,expirationTime:X,sortIndex:-1},j>N?(D.sortIndex=j,e(c,D),t(l)===null&&D===t(c)&&(S?(g(I),I=-1):S=!0,te(E,j-N))):(D.sortIndex=X,e(l,D),v||m||(v=!0,ne(T))),D},n.unstable_shouldYield=U,n.unstable_wrapCallback=function(D){var W=p;return function(){var j=p;p=W;try{return D.apply(this,arguments)}finally{p=j}}}}(r6)),r6}var tS;function OX(){return tS||(tS=1,i6.exports=NX()),i6.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UX=function(e){var t={},i=k,r=OX(),s=Object.assign;function o(u){for(var f="https://reactjs.org/docs/error-decoder.html?invariant="+u,y=1;y<arguments.length;y++)f+="&args[]="+encodeURIComponent(arguments[y]);return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),c=Symbol.for("react.portal"),h=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),v=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),E=Symbol.for("react.offscreen"),T=Symbol.iterator;function C(u){return u===null||typeof u!="object"?null:(u=T&&u[T]||u["@@iterator"],typeof u=="function"?u:null)}function R(u){if(u==null)return null;if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case h:return"Fragment";case c:return"Portal";case p:return"Profiler";case d:return"StrictMode";case _:return"Suspense";case g:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case v:return(u.displayName||"Context")+".Consumer";case m:return(u._context.displayName||"Context")+".Provider";case S:var f=u.render;return u=u.displayName,u||(u=f.displayName||f.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case x:return f=u.displayName||null,f!==null?f:R(u.type)||"Memo";case A:f=u._payload,u=u._init;try{return R(u(f))}catch{}}return null}function I(u){var f=u.type;switch(u.tag){case 24:return"Cache";case 9:return(f.displayName||"Context")+".Consumer";case 10:return(f._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return u=f.render,u=u.displayName||u.name||"",f.displayName||(u!==""?"ForwardRef("+u+")":"ForwardRef");case 7:return"Fragment";case 5:return f;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return R(f);case 8:return f===d?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f}return null}function P(u){var f=u,y=u;if(u.alternate)for(;f.return;)f=f.return;else{u=f;do f=u,f.flags&4098&&(y=f.return),u=f.return;while(u)}return f.tag===3?y:null}function B(u){if(P(u)!==u)throw Error(o(188))}function U(u){var f=u.alternate;if(!f){if(f=P(u),f===null)throw Error(o(188));return f!==u?null:u}for(var y=u,M=f;;){var w=y.return;if(w===null)break;var b=w.alternate;if(b===null){if(M=w.return,M!==null){y=M;continue}break}if(w.child===b.child){for(b=w.child;b;){if(b===y)return B(w),u;if(b===M)return B(w),f;b=b.sibling}throw Error(o(188))}if(y.return!==M.return)y=w,M=b;else{for(var H=!1,Z=w.child;Z;){if(Z===y){H=!0,y=w,M=b;break}if(Z===M){H=!0,M=w,y=b;break}Z=Z.sibling}if(!H){for(Z=b.child;Z;){if(Z===y){H=!0,y=b,M=w;break}if(Z===M){H=!0,M=b,y=w;break}Z=Z.sibling}if(!H)throw Error(o(189))}}if(y.alternate!==M)throw Error(o(190))}if(y.tag!==3)throw Error(o(188));return y.stateNode.current===y?u:f}function Y(u){return u=U(u),u!==null?ee(u):null}function ee(u){if(u.tag===5||u.tag===6)return u;for(u=u.child;u!==null;){var f=ee(u);if(f!==null)return f;u=u.sibling}return null}function V(u){if(u.tag===5||u.tag===6)return u;for(u=u.child;u!==null;){if(u.tag!==4){var f=V(u);if(f!==null)return f}u=u.sibling}return null}var Q=Array.isArray,ne=e.getPublicInstance,te=e.getRootHostContext,D=e.getChildHostContext,W=e.prepareForCommit,j=e.resetAfterCommit,N=e.createInstance,X=e.appendInitialChild,ce=e.finalizeInitialChildren,me=e.prepareUpdate,ve=e.shouldSetTextContent,Pe=e.createTextInstance,Le=e.scheduleTimeout,Xe=e.cancelTimeout,pt=e.noTimeout,rt=e.isPrimaryRenderer,Me=e.supportsMutation,q=e.supportsPersistence,ge=e.supportsHydration,pe=e.getInstanceFromNode,Ee=e.preparePortalMount,ye=e.getCurrentEventPriority,We=e.detachDeletedInstance,He=e.supportsMicrotasks,Ve=e.scheduleMicrotask,et=e.supportsTestSelectors,xt=e.findFiberRoot,Ht=e.getBoundingRect,G=e.getTextContent,L=e.isHiddenSubtree,oe=e.matchAccessibilityRole,Te=e.setFocusIfFocusable,xe=e.setupIntersectionObserver,be=e.appendChild,Ye=e.appendChildToContainer,Ie=e.commitTextUpdate,Oe=e.commitMount,ot=e.commitUpdate,Ct=e.insertBefore,Re=e.insertInContainerBefore,Rt=e.removeChild,K=e.removeChildFromContainer,ue=e.resetTextContent,Se=e.hideInstance,z=e.hideTextInstance,Ae=e.unhideInstance,we=e.unhideTextInstance,Ne=e.clearContainer,Ue=e.cloneInstance,_e=e.createContainerChildSet,je=e.appendChildToContainerChildSet,tt=e.finalizeContainerChildren,cn=e.replaceContainerChildren,Bt=e.cloneHiddenInstance,kn=e.cloneHiddenTextInstance,vn=e.canHydrateInstance,zd=e.canHydrateTextInstance,Gd=e.canHydrateSuspenseInstance,Vd=e.isSuspenseInstancePending,yo=e.isSuspenseInstanceFallback,Wd=e.registerSuspenseInstanceRetry,as=e.getNextHydratableSibling,jd=e.getFirstHydratableChild,Bm=e.getFirstHydratableChildWithinContainer,Im=e.getFirstHydratableChildWithinSuspenseInstance,Lm=e.hydrateInstance,O=e.hydrateTextInstance,ie=e.hydrateSuspenseInstance,fe=e.getNextHydratableInstanceAfterSuspenseInstance,se=e.commitHydratedContainer,he=e.commitHydratedSuspenseInstance,Je=e.clearSuspenseBoundary,nt=e.clearSuspenseBoundaryFromContainer,ut=e.shouldDeleteUnhydratedTailInstances,ft=e.didNotMatchHydratedContainerTextInstance,wt=e.didNotMatchHydratedTextInstance,st;function dt(u){if(st===void 0)try{throw Error()}catch(y){var f=y.stack.trim().match(/\n( *(at )?)/);st=f&&f[1]||""}return`
`+st+u}var Jt=!1;function Zt(u,f){if(!u||Jt)return"";Jt=!0;var y=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(f)if(f=function(){throw Error()},Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(Be){var M=Be}Reflect.construct(u,[],f)}else{try{f.call()}catch(Be){M=Be}u.call(f.prototype)}else{try{throw Error()}catch(Be){M=Be}u()}}catch(Be){if(Be&&M&&typeof Be.stack=="string"){for(var w=Be.stack.split(`
`),b=M.stack.split(`
`),H=w.length-1,Z=b.length-1;1<=H&&0<=Z&&w[H]!==b[Z];)Z--;for(;1<=H&&0<=Z;H--,Z--)if(w[H]!==b[Z]){if(H!==1||Z!==1)do if(H--,Z--,0>Z||w[H]!==b[Z]){var le=`
`+w[H].replace(" at new "," at ");return u.displayName&&le.includes("<anonymous>")&&(le=le.replace("<anonymous>",u.displayName)),le}while(1<=H&&0<=Z);break}}}finally{Jt=!1,Error.prepareStackTrace=y}return(u=u?u.displayName||u.name:"")?dt(u):""}var Bi=Object.prototype.hasOwnProperty,ji=[],qt=-1;function mt(u){return{current:u}}function Gt(u){0>qt||(u.current=ji[qt],ji[qt]=null,qt--)}function ht(u,f){qt++,ji[qt]=u.current,u.current=f}var li={},Hn=mt(li),Rn=mt(!1),Nr=li;function yn(u,f){var y=u.type.contextTypes;if(!y)return li;var M=u.stateNode;if(M&&M.__reactInternalMemoizedUnmaskedChildContext===f)return M.__reactInternalMemoizedMaskedChildContext;var w={},b;for(b in y)w[b]=f[b];return M&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=f,u.__reactInternalMemoizedMaskedChildContext=w),w}function xn(u){return u=u.childContextTypes,u!=null}function xo(){Gt(Rn),Gt(Hn)}function ci(u,f,y){if(Hn.current!==li)throw Error(o(168));ht(Hn,f),ht(Rn,y)}function zl(u,f,y){var M=u.stateNode;if(f=f.childContextTypes,typeof M.getChildContext!="function")return y;M=M.getChildContext();for(var w in M)if(!(w in f))throw Error(o(108,I(u)||"Unknown",w));return s({},y,M)}function Gl(u){return u=(u=u.stateNode)&&u.__reactInternalMemoizedMergedChildContext||li,Nr=Hn.current,ht(Hn,u),ht(Rn,Rn.current),!0}function Wu(u,f,y){var M=u.stateNode;if(!M)throw Error(o(169));y?(u=zl(u,f,Nr),M.__reactInternalMemoizedMergedChildContext=u,Gt(Rn),Gt(Hn),ht(Hn,u)):Gt(Rn),ht(Rn,y)}var Or=Math.clz32?Math.clz32:KR,XR=Math.log,JR=Math.LN2;function KR(u){return u>>>=0,u===0?32:31-(XR(u)/JR|0)|0}var qd=64,Xd=4194304;function ju(u){switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return u&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return u}}function Jd(u,f){var y=u.pendingLanes;if(y===0)return 0;var M=0,w=u.suspendedLanes,b=u.pingedLanes,H=y&268435455;if(H!==0){var Z=H&~w;Z!==0?M=ju(Z):(b&=H,b!==0&&(M=ju(b)))}else H=y&~w,H!==0?M=ju(H):b!==0&&(M=ju(b));if(M===0)return 0;if(f!==0&&f!==M&&!(f&w)&&(w=M&-M,b=f&-f,w>=b||w===16&&(b&4194240)!==0))return f;if(M&4&&(M|=y&16),f=u.entangledLanes,f!==0)for(u=u.entanglements,f&=M;0<f;)y=31-Or(f),w=1<<y,M|=u[y],f&=~w;return M}function YR(u,f){switch(u){case 1:case 2:case 4:return f+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function QR(u,f){for(var y=u.suspendedLanes,M=u.pingedLanes,w=u.expirationTimes,b=u.pendingLanes;0<b;){var H=31-Or(b),Z=1<<H,le=w[H];le===-1?(!(Z&y)||Z&M)&&(w[H]=YR(Z,f)):le<=f&&(u.expiredLanes|=Z),b&=~Z}}function Dm(u){return u=u.pendingLanes&-1073741825,u!==0?u:u&1073741824?1073741824:0}function Fm(u){for(var f=[],y=0;31>y;y++)f.push(u);return f}function qu(u,f,y){u.pendingLanes|=f,f!==536870912&&(u.suspendedLanes=0,u.pingedLanes=0),u=u.eventTimes,f=31-Or(f),u[f]=y}function ZR(u,f){var y=u.pendingLanes&~f;u.pendingLanes=f,u.suspendedLanes=0,u.pingedLanes=0,u.expiredLanes&=f,u.mutableReadLanes&=f,u.entangledLanes&=f,f=u.entanglements;var M=u.eventTimes;for(u=u.expirationTimes;0<y;){var w=31-Or(y),b=1<<w;f[w]=0,M[w]=-1,u[w]=-1,y&=~b}}function Nm(u,f){var y=u.entangledLanes|=f;for(u=u.entanglements;y;){var M=31-Or(y),w=1<<M;w&f|u[M]&f&&(u[M]|=f),y&=~w}}var Nt=0;function M7(u){return u&=-u,1<u?4<u?u&268435455?16:536870912:4:1}var Om=r.unstable_scheduleCallback,E7=r.unstable_cancelCallback,$R=r.unstable_shouldYield,eB=r.unstable_requestPaint,Xn=r.unstable_now,Um=r.unstable_ImmediatePriority,tB=r.unstable_UserBlockingPriority,km=r.unstable_NormalPriority,nB=r.unstable_IdlePriority,Kd=null,ls=null;function iB(u){if(ls&&typeof ls.onCommitFiberRoot=="function")try{ls.onCommitFiberRoot(Kd,u,void 0,(u.current.flags&128)===128)}catch{}}function rB(u,f){return u===f&&(u!==0||1/u===1/f)||u!==u&&f!==f}var cs=typeof Object.is=="function"?Object.is:rB,Ns=null,Yd=!1,Hm=!1;function w7(u){Ns===null?Ns=[u]:Ns.push(u)}function sB(u){Yd=!0,w7(u)}function us(){if(!Hm&&Ns!==null){Hm=!0;var u=0,f=Nt;try{var y=Ns;for(Nt=1;u<y.length;u++){var M=y[u];do M=M(!0);while(M!==null)}Ns=null,Yd=!1}catch(w){throw Ns!==null&&(Ns=Ns.slice(u+1)),Om(Um,us),w}finally{Nt=f,Hm=!1}}return null}var oB=a.ReactCurrentBatchConfig;function Qd(u,f){if(cs(u,f))return!0;if(typeof u!="object"||u===null||typeof f!="object"||f===null)return!1;var y=Object.keys(u),M=Object.keys(f);if(y.length!==M.length)return!1;for(M=0;M<y.length;M++){var w=y[M];if(!Bi.call(f,w)||!cs(u[w],f[w]))return!1}return!0}function aB(u){switch(u.tag){case 5:return dt(u.type);case 16:return dt("Lazy");case 13:return dt("Suspense");case 19:return dt("SuspenseList");case 0:case 2:case 15:return u=Zt(u.type,!1),u;case 11:return u=Zt(u.type.render,!1),u;case 1:return u=Zt(u.type,!0),u;default:return""}}function Ur(u,f){if(u&&u.defaultProps){f=s({},f),u=u.defaultProps;for(var y in u)f[y]===void 0&&(f[y]=u[y]);return f}return f}var Zd=mt(null),$d=null,Vl=null,zm=null;function Gm(){zm=Vl=$d=null}function T7(u,f,y){rt?(ht(Zd,f._currentValue),f._currentValue=y):(ht(Zd,f._currentValue2),f._currentValue2=y)}function Vm(u){var f=Zd.current;Gt(Zd),rt?u._currentValue=f:u._currentValue2=f}function Wm(u,f,y){for(;u!==null;){var M=u.alternate;if((u.childLanes&f)!==f?(u.childLanes|=f,M!==null&&(M.childLanes|=f)):M!==null&&(M.childLanes&f)!==f&&(M.childLanes|=f),u===y)break;u=u.return}}function Wl(u,f){$d=u,zm=Vl=null,u=u.dependencies,u!==null&&u.firstContext!==null&&(u.lanes&f&&(Ji=!0),u.firstContext=null)}function cr(u){var f=rt?u._currentValue:u._currentValue2;if(zm!==u)if(u={context:u,memoizedValue:f,next:null},Vl===null){if($d===null)throw Error(o(308));Vl=u,$d.dependencies={lanes:0,firstContext:u}}else Vl=Vl.next=u;return f}var fs=null,_o=!1;function jm(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function C7(u,f){u=u.updateQueue,f.updateQueue===u&&(f.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,effects:u.effects})}function Os(u,f){return{eventTime:u,lane:f,tag:0,payload:null,callback:null,next:null}}function Ao(u,f){var y=u.updateQueue;y!==null&&(y=y.shared,Bn!==null&&u.mode&1&&!(Tt&2)?(u=y.interleaved,u===null?(f.next=f,fs===null?fs=[y]:fs.push(y)):(f.next=u.next,u.next=f),y.interleaved=f):(u=y.pending,u===null?f.next=f:(f.next=u.next,u.next=f),y.pending=f))}function e3(u,f,y){if(f=f.updateQueue,f!==null&&(f=f.shared,(y&4194240)!==0)){var M=f.lanes;M&=u.pendingLanes,y|=M,f.lanes=y,Nm(u,y)}}function b7(u,f){var y=u.updateQueue,M=u.alternate;if(M!==null&&(M=M.updateQueue,y===M)){var w=null,b=null;if(y=y.firstBaseUpdate,y!==null){do{var H={eventTime:y.eventTime,lane:y.lane,tag:y.tag,payload:y.payload,callback:y.callback,next:null};b===null?w=b=H:b=b.next=H,y=y.next}while(y!==null);b===null?w=b=f:b=b.next=f}else w=b=f;y={baseState:M.baseState,firstBaseUpdate:w,lastBaseUpdate:b,shared:M.shared,effects:M.effects},u.updateQueue=y;return}u=y.lastBaseUpdate,u===null?y.firstBaseUpdate=f:u.next=f,y.lastBaseUpdate=f}function t3(u,f,y,M){var w=u.updateQueue;_o=!1;var b=w.firstBaseUpdate,H=w.lastBaseUpdate,Z=w.shared.pending;if(Z!==null){w.shared.pending=null;var le=Z,Be=le.next;le.next=null,H===null?b=Be:H.next=Be,H=le;var Ke=u.alternate;Ke!==null&&(Ke=Ke.updateQueue,Z=Ke.lastBaseUpdate,Z!==H&&(Z===null?Ke.firstBaseUpdate=Be:Z.next=Be,Ke.lastBaseUpdate=le))}if(b!==null){var vt=w.baseState;H=0,Ke=Be=le=null,Z=b;do{var it=Z.lane,Xt=Z.eventTime;if((M&it)===it){Ke!==null&&(Ke=Ke.next={eventTime:Xt,lane:0,tag:Z.tag,payload:Z.payload,callback:Z.callback,next:null});e:{var $e=u,di=Z;switch(it=f,Xt=y,di.tag){case 1:if($e=di.payload,typeof $e=="function"){vt=$e.call(Xt,vt,it);break e}vt=$e;break e;case 3:$e.flags=$e.flags&-65537|128;case 0:if($e=di.payload,it=typeof $e=="function"?$e.call(Xt,vt,it):$e,it==null)break e;vt=s({},vt,it);break e;case 2:_o=!0}}Z.callback!==null&&Z.lane!==0&&(u.flags|=64,it=w.effects,it===null?w.effects=[Z]:it.push(Z))}else Xt={eventTime:Xt,lane:it,tag:Z.tag,payload:Z.payload,callback:Z.callback,next:null},Ke===null?(Be=Ke=Xt,le=vt):Ke=Ke.next=Xt,H|=it;if(Z=Z.next,Z===null){if(Z=w.shared.pending,Z===null)break;it=Z,Z=it.next,it.next=null,w.lastBaseUpdate=it,w.shared.pending=null}}while(1);if(Ke===null&&(le=vt),w.baseState=le,w.firstBaseUpdate=Be,w.lastBaseUpdate=Ke,f=w.shared.interleaved,f!==null){w=f;do H|=w.lane,w=w.next;while(w!==f)}else b===null&&(w.shared.lanes=0);$l|=H,u.lanes=H,u.memoizedState=vt}}function P7(u,f,y){if(u=f.effects,f.effects=null,u!==null)for(f=0;f<u.length;f++){var M=u[f],w=M.callback;if(w!==null){if(M.callback=null,M=y,typeof w!="function")throw Error(o(191,w));w.call(M)}}}var R7=new i.Component().refs;function qm(u,f,y,M){f=u.memoizedState,y=y(M,f),y=y==null?f:s({},f,y),u.memoizedState=y,u.lanes===0&&(u.updateQueue.baseState=y)}var n3={isMounted:function(u){return(u=u._reactInternals)?P(u)===u:!1},enqueueSetState:function(u,f,y){u=u._reactInternals;var M=Mi(),w=Eo(u),b=Os(M,w);b.payload=f,y!=null&&(b.callback=y),Ao(u,b),f=pr(u,w,M),f!==null&&e3(f,u,w)},enqueueReplaceState:function(u,f,y){u=u._reactInternals;var M=Mi(),w=Eo(u),b=Os(M,w);b.tag=1,b.payload=f,y!=null&&(b.callback=y),Ao(u,b),f=pr(u,w,M),f!==null&&e3(f,u,w)},enqueueForceUpdate:function(u,f){u=u._reactInternals;var y=Mi(),M=Eo(u),w=Os(y,M);w.tag=2,f!=null&&(w.callback=f),Ao(u,w),f=pr(u,M,y),f!==null&&e3(f,u,M)}};function B7(u,f,y,M,w,b,H){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(M,b,H):f.prototype&&f.prototype.isPureReactComponent?!Qd(y,M)||!Qd(w,b):!0}function I7(u,f,y){var M=!1,w=li,b=f.contextType;return typeof b=="object"&&b!==null?b=cr(b):(w=xn(f)?Nr:Hn.current,M=f.contextTypes,b=(M=M!=null)?yn(u,w):li),f=new f(y,b),u.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=n3,u.stateNode=f,f._reactInternals=u,M&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=w,u.__reactInternalMemoizedMaskedChildContext=b),f}function L7(u,f,y,M){u=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(y,M),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(y,M),f.state!==u&&n3.enqueueReplaceState(f,f.state,null)}function Xm(u,f,y,M){var w=u.stateNode;w.props=y,w.state=u.memoizedState,w.refs=R7,jm(u);var b=f.contextType;typeof b=="object"&&b!==null?w.context=cr(b):(b=xn(f)?Nr:Hn.current,w.context=yn(u,b)),w.state=u.memoizedState,b=f.getDerivedStateFromProps,typeof b=="function"&&(qm(u,f,b,y),w.state=u.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(f=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),f!==w.state&&n3.enqueueReplaceState(w,w.state,null),t3(u,y,w,M),w.state=u.memoizedState),typeof w.componentDidMount=="function"&&(u.flags|=4194308)}var jl=[],ql=0,i3=null,r3=0,ur=[],fr=0,Ea=null,Us=1,ks="";function wa(u,f){jl[ql++]=r3,jl[ql++]=i3,i3=u,r3=f}function D7(u,f,y){ur[fr++]=Us,ur[fr++]=ks,ur[fr++]=Ea,Ea=u;var M=Us;u=ks;var w=32-Or(M)-1;M&=~(1<<w),y+=1;var b=32-Or(f)+w;if(30<b){var H=w-w%5;b=(M&(1<<H)-1).toString(32),M>>=H,w-=H,Us=1<<32-Or(f)+w|y<<w|M,ks=b+u}else Us=1<<b|y<<w|M,ks=u}function Jm(u){u.return!==null&&(wa(u,1),D7(u,1,0))}function Km(u){for(;u===i3;)i3=jl[--ql],jl[ql]=null,r3=jl[--ql],jl[ql]=null;for(;u===Ea;)Ea=ur[--fr],ur[fr]=null,ks=ur[--fr],ur[fr]=null,Us=ur[--fr],ur[fr]=null}var qi=null,Xi=null,sn=!1,Xu=!1,kr=null;function F7(u,f){var y=mr(5,null,null,0);y.elementType="DELETED",y.stateNode=f,y.return=u,f=u.deletions,f===null?(u.deletions=[y],u.flags|=16):f.push(y)}function N7(u,f){switch(u.tag){case 5:return f=vn(f,u.type,u.pendingProps),f!==null?(u.stateNode=f,qi=u,Xi=jd(f),!0):!1;case 6:return f=zd(f,u.pendingProps),f!==null?(u.stateNode=f,qi=u,Xi=null,!0):!1;case 13:if(f=Gd(f),f!==null){var y=Ea!==null?{id:Us,overflow:ks}:null;return u.memoizedState={dehydrated:f,treeContext:y,retryLane:1073741824},y=mr(18,null,null,0),y.stateNode=f,y.return=u,u.child=y,qi=u,Xi=null,!0}return!1;default:return!1}}function Ym(u){return(u.mode&1)!==0&&(u.flags&128)===0}function Qm(u){if(sn){var f=Xi;if(f){var y=f;if(!N7(u,f)){if(Ym(u))throw Error(o(418));f=as(y);var M=qi;f&&N7(u,f)?F7(M,y):(u.flags=u.flags&-4097|2,sn=!1,qi=u)}}else{if(Ym(u))throw Error(o(418));u.flags=u.flags&-4097|2,sn=!1,qi=u}}}function O7(u){for(u=u.return;u!==null&&u.tag!==5&&u.tag!==3&&u.tag!==13;)u=u.return;qi=u}function Ju(u){if(!ge||u!==qi)return!1;if(!sn)return O7(u),sn=!0,!1;if(u.tag!==3&&(u.tag!==5||ut(u.type)&&!ve(u.type,u.memoizedProps))){var f=Xi;if(f){if(Ym(u)){for(u=Xi;u;)u=as(u);throw Error(o(418))}for(;f;)F7(u,f),f=as(f)}}if(O7(u),u.tag===13){if(!ge)throw Error(o(316));if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(o(317));Xi=fe(u)}else Xi=qi?as(u.stateNode):null;return!0}function Xl(){ge&&(Xi=qi=null,Xu=sn=!1)}function Zm(u){kr===null?kr=[u]:kr.push(u)}function Ku(u,f,y){if(u=y.ref,u!==null&&typeof u!="function"&&typeof u!="object"){if(y._owner){if(y=y._owner,y){if(y.tag!==1)throw Error(o(309));var M=y.stateNode}if(!M)throw Error(o(147,u));var w=M,b=""+u;return f!==null&&f.ref!==null&&typeof f.ref=="function"&&f.ref._stringRef===b?f.ref:(f=function(H){var Z=w.refs;Z===R7&&(Z=w.refs={}),H===null?delete Z[b]:Z[b]=H},f._stringRef=b,f)}if(typeof u!="string")throw Error(o(284));if(!y._owner)throw Error(o(290,u))}return u}function s3(u,f){throw u=Object.prototype.toString.call(f),Error(o(31,u==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":u))}function U7(u){var f=u._init;return f(u._payload)}function k7(u){function f(re,$){if(u){var ae=re.deletions;ae===null?(re.deletions=[$],re.flags|=16):ae.push($)}}function y(re,$){if(!u)return null;for(;$!==null;)f(re,$),$=$.sibling;return null}function M(re,$){for(re=new Map;$!==null;)$.key!==null?re.set($.key,$):re.set($.index,$),$=$.sibling;return re}function w(re,$){return re=To(re,$),re.index=0,re.sibling=null,re}function b(re,$,ae){return re.index=ae,u?(ae=re.alternate,ae!==null?(ae=ae.index,ae<$?(re.flags|=2,$):ae):(re.flags|=2,$)):(re.flags|=1048576,$)}function H(re){return u&&re.alternate===null&&(re.flags|=2),re}function Z(re,$,ae,Ge){return $===null||$.tag!==6?($=F1(ae,re.mode,Ge),$.return=re,$):($=w($,ae),$.return=re,$)}function le(re,$,ae,Ge){var Ze=ae.type;return Ze===h?Ke(re,$,ae.props.children,Ge,ae.key):$!==null&&($.elementType===Ze||typeof Ze=="object"&&Ze!==null&&Ze.$$typeof===A&&U7(Ze)===$.type)?(Ge=w($,ae.props),Ge.ref=Ku(re,$,ae),Ge.return=re,Ge):(Ge=N3(ae.type,ae.key,ae.props,null,re.mode,Ge),Ge.ref=Ku(re,$,ae),Ge.return=re,Ge)}function Be(re,$,ae,Ge){return $===null||$.tag!==4||$.stateNode.containerInfo!==ae.containerInfo||$.stateNode.implementation!==ae.implementation?($=N1(ae,re.mode,Ge),$.return=re,$):($=w($,ae.children||[]),$.return=re,$)}function Ke(re,$,ae,Ge,Ze){return $===null||$.tag!==7?($=Ia(ae,re.mode,Ge,Ze),$.return=re,$):($=w($,ae),$.return=re,$)}function vt(re,$,ae){if(typeof $=="string"&&$!==""||typeof $=="number")return $=F1(""+$,re.mode,ae),$.return=re,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case l:return ae=N3($.type,$.key,$.props,null,re.mode,ae),ae.ref=Ku(re,null,$),ae.return=re,ae;case c:return $=N1($,re.mode,ae),$.return=re,$;case A:var Ge=$._init;return vt(re,Ge($._payload),ae)}if(Q($)||C($))return $=Ia($,re.mode,ae,null),$.return=re,$;s3(re,$)}return null}function it(re,$,ae,Ge){var Ze=$!==null?$.key:null;if(typeof ae=="string"&&ae!==""||typeof ae=="number")return Ze!==null?null:Z(re,$,""+ae,Ge);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case l:return ae.key===Ze?le(re,$,ae,Ge):null;case c:return ae.key===Ze?Be(re,$,ae,Ge):null;case A:return Ze=ae._init,it(re,$,Ze(ae._payload),Ge)}if(Q(ae)||C(ae))return Ze!==null?null:Ke(re,$,ae,Ge,null);s3(re,ae)}return null}function Xt(re,$,ae,Ge,Ze){if(typeof Ge=="string"&&Ge!==""||typeof Ge=="number")return re=re.get(ae)||null,Z($,re,""+Ge,Ze);if(typeof Ge=="object"&&Ge!==null){switch(Ge.$$typeof){case l:return re=re.get(Ge.key===null?ae:Ge.key)||null,le($,re,Ge,Ze);case c:return re=re.get(Ge.key===null?ae:Ge.key)||null,Be($,re,Ge,Ze);case A:var Mt=Ge._init;return Xt(re,$,ae,Mt(Ge._payload),Ze)}if(Q(Ge)||C(Ge))return re=re.get(ae)||null,Ke($,re,Ge,Ze,null);s3($,Ge)}return null}function $e(re,$,ae,Ge){for(var Ze=null,Mt=null,yt=$,Ot=$=0,Kn=null;yt!==null&&Ot<ae.length;Ot++){yt.index>Ot?(Kn=yt,yt=null):Kn=yt.sibling;var Ut=it(re,yt,ae[Ot],Ge);if(Ut===null){yt===null&&(yt=Kn);break}u&&yt&&Ut.alternate===null&&f(re,yt),$=b(Ut,$,Ot),Mt===null?Ze=Ut:Mt.sibling=Ut,Mt=Ut,yt=Kn}if(Ot===ae.length)return y(re,yt),sn&&wa(re,Ot),Ze;if(yt===null){for(;Ot<ae.length;Ot++)yt=vt(re,ae[Ot],Ge),yt!==null&&($=b(yt,$,Ot),Mt===null?Ze=yt:Mt.sibling=yt,Mt=yt);return sn&&wa(re,Ot),Ze}for(yt=M(re,yt);Ot<ae.length;Ot++)Kn=Xt(yt,re,Ot,ae[Ot],Ge),Kn!==null&&(u&&Kn.alternate!==null&&yt.delete(Kn.key===null?Ot:Kn.key),$=b(Kn,$,Ot),Mt===null?Ze=Kn:Mt.sibling=Kn,Mt=Kn);return u&&yt.forEach(function(Co){return f(re,Co)}),sn&&wa(re,Ot),Ze}function di(re,$,ae,Ge){var Ze=C(ae);if(typeof Ze!="function")throw Error(o(150));if(ae=Ze.call(ae),ae==null)throw Error(o(151));for(var Mt=Ze=null,yt=$,Ot=$=0,Kn=null,Ut=ae.next();yt!==null&&!Ut.done;Ot++,Ut=ae.next()){yt.index>Ot?(Kn=yt,yt=null):Kn=yt.sibling;var Co=it(re,yt,Ut.value,Ge);if(Co===null){yt===null&&(yt=Kn);break}u&&yt&&Co.alternate===null&&f(re,yt),$=b(Co,$,Ot),Mt===null?Ze=Co:Mt.sibling=Co,Mt=Co,yt=Kn}if(Ut.done)return y(re,yt),sn&&wa(re,Ot),Ze;if(yt===null){for(;!Ut.done;Ot++,Ut=ae.next())Ut=vt(re,Ut.value,Ge),Ut!==null&&($=b(Ut,$,Ot),Mt===null?Ze=Ut:Mt.sibling=Ut,Mt=Ut);return sn&&wa(re,Ot),Ze}for(yt=M(re,yt);!Ut.done;Ot++,Ut=ae.next())Ut=Xt(yt,re,Ot,Ut.value,Ge),Ut!==null&&(u&&Ut.alternate!==null&&yt.delete(Ut.key===null?Ot:Ut.key),$=b(Ut,$,Ot),Mt===null?Ze=Ut:Mt.sibling=Ut,Mt=Ut);return u&&yt.forEach(function(OB){return f(re,OB)}),sn&&wa(re,Ot),Ze}function gr(re,$,ae,Ge){if(typeof ae=="object"&&ae!==null&&ae.type===h&&ae.key===null&&(ae=ae.props.children),typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case l:e:{for(var Ze=ae.key,Mt=$;Mt!==null;){if(Mt.key===Ze){if(Ze=ae.type,Ze===h){if(Mt.tag===7){y(re,Mt.sibling),$=w(Mt,ae.props.children),$.return=re,re=$;break e}}else if(Mt.elementType===Ze||typeof Ze=="object"&&Ze!==null&&Ze.$$typeof===A&&U7(Ze)===Mt.type){y(re,Mt.sibling),$=w(Mt,ae.props),$.ref=Ku(re,Mt,ae),$.return=re,re=$;break e}y(re,Mt);break}else f(re,Mt);Mt=Mt.sibling}ae.type===h?($=Ia(ae.props.children,re.mode,Ge,ae.key),$.return=re,re=$):(Ge=N3(ae.type,ae.key,ae.props,null,re.mode,Ge),Ge.ref=Ku(re,$,ae),Ge.return=re,re=Ge)}return H(re);case c:e:{for(Mt=ae.key;$!==null;){if($.key===Mt)if($.tag===4&&$.stateNode.containerInfo===ae.containerInfo&&$.stateNode.implementation===ae.implementation){y(re,$.sibling),$=w($,ae.children||[]),$.return=re,re=$;break e}else{y(re,$);break}else f(re,$);$=$.sibling}$=N1(ae,re.mode,Ge),$.return=re,re=$}return H(re);case A:return Mt=ae._init,gr(re,$,Mt(ae._payload),Ge)}if(Q(ae))return $e(re,$,ae,Ge);if(C(ae))return di(re,$,ae,Ge);s3(re,ae)}return typeof ae=="string"&&ae!==""||typeof ae=="number"?(ae=""+ae,$!==null&&$.tag===6?(y(re,$.sibling),$=w($,ae),$.return=re,re=$):(y(re,$),$=F1(ae,re.mode,Ge),$.return=re,re=$),H(re)):y(re,$)}return gr}var Jl=k7(!0),H7=k7(!1),Yu={},hr=mt(Yu),Qu=mt(Yu),Kl=mt(Yu);function hs(u){if(u===Yu)throw Error(o(174));return u}function $m(u,f){ht(Kl,f),ht(Qu,u),ht(hr,Yu),u=te(f),Gt(hr),ht(hr,u)}function Yl(){Gt(hr),Gt(Qu),Gt(Kl)}function z7(u){var f=hs(Kl.current),y=hs(hr.current);f=D(y,u.type,f),y!==f&&(ht(Qu,u),ht(hr,f))}function e1(u){Qu.current===u&&(Gt(hr),Gt(Qu))}var un=mt(0);function o3(u){for(var f=u;f!==null;){if(f.tag===13){var y=f.memoizedState;if(y!==null&&(y=y.dehydrated,y===null||Vd(y)||yo(y)))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if(f.flags&128)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var t1=[];function n1(){for(var u=0;u<t1.length;u++){var f=t1[u];rt?f._workInProgressVersionPrimary=null:f._workInProgressVersionSecondary=null}t1.length=0}var a3=a.ReactCurrentDispatcher,dr=a.ReactCurrentBatchConfig,Ql=0,_n=null,ui=null,Jn=null,l3=!1,Zu=!1,$u=0,lB=0;function fi(){throw Error(o(321))}function i1(u,f){if(f===null)return!1;for(var y=0;y<f.length&&y<u.length;y++)if(!cs(u[y],f[y]))return!1;return!0}function r1(u,f,y,M,w,b){if(Ql=b,_n=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,a3.current=u===null||u.memoizedState===null?hB:dB,u=y(M,w),Zu){b=0;do{if(Zu=!1,$u=0,25<=b)throw Error(o(301));b+=1,Jn=ui=null,f.updateQueue=null,a3.current=pB,u=y(M,w)}while(Zu)}if(a3.current=d3,f=ui!==null&&ui.next!==null,Ql=0,Jn=ui=_n=null,l3=!1,f)throw Error(o(300));return u}function s1(){var u=$u!==0;return $u=0,u}function Hs(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jn===null?_n.memoizedState=Jn=u:Jn=Jn.next=u,Jn}function ds(){if(ui===null){var u=_n.alternate;u=u!==null?u.memoizedState:null}else u=ui.next;var f=Jn===null?_n.memoizedState:Jn.next;if(f!==null)Jn=f,ui=u;else{if(u===null)throw Error(o(310));ui=u,u={memoizedState:ui.memoizedState,baseState:ui.baseState,baseQueue:ui.baseQueue,queue:ui.queue,next:null},Jn===null?_n.memoizedState=Jn=u:Jn=Jn.next=u}return Jn}function Ta(u,f){return typeof f=="function"?f(u):f}function c3(u){var f=ds(),y=f.queue;if(y===null)throw Error(o(311));y.lastRenderedReducer=u;var M=ui,w=M.baseQueue,b=y.pending;if(b!==null){if(w!==null){var H=w.next;w.next=b.next,b.next=H}M.baseQueue=w=b,y.pending=null}if(w!==null){b=w.next,M=M.baseState;var Z=H=null,le=null,Be=b;do{var Ke=Be.lane;if((Ql&Ke)===Ke)le!==null&&(le=le.next={lane:0,action:Be.action,hasEagerState:Be.hasEagerState,eagerState:Be.eagerState,next:null}),M=Be.hasEagerState?Be.eagerState:u(M,Be.action);else{var vt={lane:Ke,action:Be.action,hasEagerState:Be.hasEagerState,eagerState:Be.eagerState,next:null};le===null?(Z=le=vt,H=M):le=le.next=vt,_n.lanes|=Ke,$l|=Ke}Be=Be.next}while(Be!==null&&Be!==b);le===null?H=M:le.next=Z,cs(M,f.memoizedState)||(Ji=!0),f.memoizedState=M,f.baseState=H,f.baseQueue=le,y.lastRenderedState=M}if(u=y.interleaved,u!==null){w=u;do b=w.lane,_n.lanes|=b,$l|=b,w=w.next;while(w!==u)}else w===null&&(y.lanes=0);return[f.memoizedState,y.dispatch]}function u3(u){var f=ds(),y=f.queue;if(y===null)throw Error(o(311));y.lastRenderedReducer=u;var M=y.dispatch,w=y.pending,b=f.memoizedState;if(w!==null){y.pending=null;var H=w=w.next;do b=u(b,H.action),H=H.next;while(H!==w);cs(b,f.memoizedState)||(Ji=!0),f.memoizedState=b,f.baseQueue===null&&(f.baseState=b),y.lastRenderedState=b}return[b,M]}function G7(){}function V7(u,f){var y=_n,M=ds(),w=f(),b=!cs(M.memoizedState,w);if(b&&(M.memoizedState=w,Ji=!0),M=M.queue,tf(q7.bind(null,y,M,u),[u]),M.getSnapshot!==f||b||Jn!==null&&Jn.memoizedState.tag&1){if(y.flags|=2048,ef(9,j7.bind(null,y,M,w,f),void 0,null),Bn===null)throw Error(o(349));Ql&30||W7(y,f,w)}return w}function W7(u,f,y){u.flags|=16384,u={getSnapshot:f,value:y},f=_n.updateQueue,f===null?(f={lastEffect:null,stores:null},_n.updateQueue=f,f.stores=[u]):(y=f.stores,y===null?f.stores=[u]:y.push(u))}function j7(u,f,y,M){f.value=y,f.getSnapshot=M,X7(f)&&pr(u,1,-1)}function q7(u,f,y){return y(function(){X7(f)&&pr(u,1,-1)})}function X7(u){var f=u.getSnapshot;u=u.value;try{var y=f();return!cs(u,y)}catch{return!0}}function o1(u){var f=Hs();return typeof u=="function"&&(u=u()),f.memoizedState=f.baseState=u,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ta,lastRenderedState:u},f.queue=u,u=u.dispatch=fB.bind(null,_n,u),[f.memoizedState,u]}function ef(u,f,y,M){return u={tag:u,create:f,destroy:y,deps:M,next:null},f=_n.updateQueue,f===null?(f={lastEffect:null,stores:null},_n.updateQueue=f,f.lastEffect=u.next=u):(y=f.lastEffect,y===null?f.lastEffect=u.next=u:(M=y.next,y.next=u,u.next=M,f.lastEffect=u)),u}function J7(){return ds().memoizedState}function f3(u,f,y,M){var w=Hs();_n.flags|=u,w.memoizedState=ef(1|f,y,void 0,M===void 0?null:M)}function h3(u,f,y,M){var w=ds();M=M===void 0?null:M;var b=void 0;if(ui!==null){var H=ui.memoizedState;if(b=H.destroy,M!==null&&i1(M,H.deps)){w.memoizedState=ef(f,y,b,M);return}}_n.flags|=u,w.memoizedState=ef(1|f,y,b,M)}function a1(u,f){return f3(8390656,8,u,f)}function tf(u,f){return h3(2048,8,u,f)}function K7(u,f){return h3(4,2,u,f)}function Y7(u,f){return h3(4,4,u,f)}function Q7(u,f){if(typeof f=="function")return u=u(),f(u),function(){f(null)};if(f!=null)return u=u(),f.current=u,function(){f.current=null}}function Z7(u,f,y){return y=y!=null?y.concat([u]):null,h3(4,4,Q7.bind(null,f,u),y)}function l1(){}function $7(u,f){var y=ds();f=f===void 0?null:f;var M=y.memoizedState;return M!==null&&f!==null&&i1(f,M[1])?M[0]:(y.memoizedState=[u,f],u)}function ev(u,f){var y=ds();f=f===void 0?null:f;var M=y.memoizedState;return M!==null&&f!==null&&i1(f,M[1])?M[0]:(u=u(),y.memoizedState=[u,f],u)}function cB(u,f){var y=Nt;Nt=y!==0&&4>y?y:4,u(!0);var M=dr.transition;dr.transition={};try{u(!1),f()}finally{Nt=y,dr.transition=M}}function tv(){return ds().memoizedState}function uB(u,f,y){var M=Eo(u);y={lane:M,action:y,hasEagerState:!1,eagerState:null,next:null},nv(u)?iv(f,y):(rv(u,f,y),y=Mi(),u=pr(u,M,y),u!==null&&sv(u,f,M))}function fB(u,f,y){var M=Eo(u),w={lane:M,action:y,hasEagerState:!1,eagerState:null,next:null};if(nv(u))iv(f,w);else{rv(u,f,w);var b=u.alternate;if(u.lanes===0&&(b===null||b.lanes===0)&&(b=f.lastRenderedReducer,b!==null))try{var H=f.lastRenderedState,Z=b(H,y);if(w.hasEagerState=!0,w.eagerState=Z,cs(Z,H))return}catch{}finally{}y=Mi(),u=pr(u,M,y),u!==null&&sv(u,f,M)}}function nv(u){var f=u.alternate;return u===_n||f!==null&&f===_n}function iv(u,f){Zu=l3=!0;var y=u.pending;y===null?f.next=f:(f.next=y.next,y.next=f),u.pending=f}function rv(u,f,y){Bn!==null&&u.mode&1&&!(Tt&2)?(u=f.interleaved,u===null?(y.next=y,fs===null?fs=[f]:fs.push(f)):(y.next=u.next,u.next=y),f.interleaved=y):(u=f.pending,u===null?y.next=y:(y.next=u.next,u.next=y),f.pending=y)}function sv(u,f,y){if(y&4194240){var M=f.lanes;M&=u.pendingLanes,y|=M,f.lanes=y,Nm(u,y)}}var d3={readContext:cr,useCallback:fi,useContext:fi,useEffect:fi,useImperativeHandle:fi,useInsertionEffect:fi,useLayoutEffect:fi,useMemo:fi,useReducer:fi,useRef:fi,useState:fi,useDebugValue:fi,useDeferredValue:fi,useTransition:fi,useMutableSource:fi,useSyncExternalStore:fi,useId:fi,unstable_isNewReconciler:!1},hB={readContext:cr,useCallback:function(u,f){return Hs().memoizedState=[u,f===void 0?null:f],u},useContext:cr,useEffect:a1,useImperativeHandle:function(u,f,y){return y=y!=null?y.concat([u]):null,f3(4194308,4,Q7.bind(null,f,u),y)},useLayoutEffect:function(u,f){return f3(4194308,4,u,f)},useInsertionEffect:function(u,f){return f3(4,2,u,f)},useMemo:function(u,f){var y=Hs();return f=f===void 0?null:f,u=u(),y.memoizedState=[u,f],u},useReducer:function(u,f,y){var M=Hs();return f=y!==void 0?y(f):f,M.memoizedState=M.baseState=f,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:f},M.queue=u,u=u.dispatch=uB.bind(null,_n,u),[M.memoizedState,u]},useRef:function(u){var f=Hs();return u={current:u},f.memoizedState=u},useState:o1,useDebugValue:l1,useDeferredValue:function(u){var f=o1(u),y=f[0],M=f[1];return a1(function(){var w=dr.transition;dr.transition={};try{M(u)}finally{dr.transition=w}},[u]),y},useTransition:function(){var u=o1(!1),f=u[0];return u=cB.bind(null,u[1]),Hs().memoizedState=u,[f,u]},useMutableSource:function(){},useSyncExternalStore:function(u,f,y){var M=_n,w=Hs();if(sn){if(y===void 0)throw Error(o(407));y=y()}else{if(y=f(),Bn===null)throw Error(o(349));Ql&30||W7(M,f,y)}w.memoizedState=y;var b={value:y,getSnapshot:f};return w.queue=b,a1(q7.bind(null,M,b,u),[u]),M.flags|=2048,ef(9,j7.bind(null,M,b,y,f),void 0,null),y},useId:function(){var u=Hs(),f=Bn.identifierPrefix;if(sn){var y=ks,M=Us;y=(M&~(1<<32-Or(M)-1)).toString(32)+y,f=":"+f+"R"+y,y=$u++,0<y&&(f+="H"+y.toString(32)),f+=":"}else y=lB++,f=":"+f+"r"+y.toString(32)+":";return u.memoizedState=f},unstable_isNewReconciler:!1},dB={readContext:cr,useCallback:$7,useContext:cr,useEffect:tf,useImperativeHandle:Z7,useInsertionEffect:K7,useLayoutEffect:Y7,useMemo:ev,useReducer:c3,useRef:J7,useState:function(){return c3(Ta)},useDebugValue:l1,useDeferredValue:function(u){var f=c3(Ta),y=f[0],M=f[1];return tf(function(){var w=dr.transition;dr.transition={};try{M(u)}finally{dr.transition=w}},[u]),y},useTransition:function(){var u=c3(Ta)[0],f=ds().memoizedState;return[u,f]},useMutableSource:G7,useSyncExternalStore:V7,useId:tv,unstable_isNewReconciler:!1},pB={readContext:cr,useCallback:$7,useContext:cr,useEffect:tf,useImperativeHandle:Z7,useInsertionEffect:K7,useLayoutEffect:Y7,useMemo:ev,useReducer:u3,useRef:J7,useState:function(){return u3(Ta)},useDebugValue:l1,useDeferredValue:function(u){var f=u3(Ta),y=f[0],M=f[1];return tf(function(){var w=dr.transition;dr.transition={};try{M(u)}finally{dr.transition=w}},[u]),y},useTransition:function(){var u=u3(Ta)[0],f=ds().memoizedState;return[u,f]},useMutableSource:G7,useSyncExternalStore:V7,useId:tv,unstable_isNewReconciler:!1};function c1(u,f){try{var y="",M=f;do y+=aB(M),M=M.return;while(M);var w=y}catch(b){w=`
Error generating stack: `+b.message+`
`+b.stack}return{value:u,source:f,stack:w}}function u1(u,f){try{console.error(f.value)}catch(y){setTimeout(function(){throw y})}}var mB=typeof WeakMap=="function"?WeakMap:Map;function ov(u,f,y){y=Os(-1,y),y.tag=3,y.payload={element:null};var M=f.value;return y.callback=function(){P3||(P3=!0,b1=M),u1(u,f)},y}function av(u,f,y){y=Os(-1,y),y.tag=3;var M=u.type.getDerivedStateFromError;if(typeof M=="function"){var w=f.value;y.payload=function(){return M(w)},y.callback=function(){u1(u,f)}}var b=u.stateNode;return b!==null&&typeof b.componentDidCatch=="function"&&(y.callback=function(){u1(u,f),typeof M!="function"&&(So===null?So=new Set([this]):So.add(this));var H=f.stack;this.componentDidCatch(f.value,{componentStack:H!==null?H:""})}),y}function lv(u,f,y){var M=u.pingCache;if(M===null){M=u.pingCache=new mB;var w=new Set;M.set(f,w)}else w=M.get(f),w===void 0&&(w=new Set,M.set(f,w));w.has(y)||(w.add(y),u=PB.bind(null,u,f,y),f.then(u,u))}function cv(u){do{var f;if((f=u.tag===13)&&(f=u.memoizedState,f=f!==null?f.dehydrated!==null:!0),f)return u;u=u.return}while(u!==null);return null}function uv(u,f,y,M,w){return u.mode&1?(u.flags|=65536,u.lanes=w,u):(u===f?u.flags|=65536:(u.flags|=128,y.flags|=131072,y.flags&=-52805,y.tag===1&&(y.alternate===null?y.tag=17:(f=Os(-1,1),f.tag=2,Ao(y,f))),y.lanes|=1),u)}function ps(u){u.flags|=4}function fv(u,f){if(u!==null&&u.child===f.child)return!0;if(f.flags&16)return!1;for(u=f.child;u!==null;){if(u.flags&12854||u.subtreeFlags&12854)return!1;u=u.sibling}return!0}var nf,rf,p3,m3;if(Me)nf=function(u,f){for(var y=f.child;y!==null;){if(y.tag===5||y.tag===6)X(u,y.stateNode);else if(y.tag!==4&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===f)break;for(;y.sibling===null;){if(y.return===null||y.return===f)return;y=y.return}y.sibling.return=y.return,y=y.sibling}},rf=function(){},p3=function(u,f,y,M,w){if(u=u.memoizedProps,u!==M){var b=f.stateNode,H=hs(hr.current);y=me(b,y,u,M,w,H),(f.updateQueue=y)&&ps(f)}},m3=function(u,f,y,M){y!==M&&ps(f)};else if(q){nf=function(u,f,y,M){for(var w=f.child;w!==null;){if(w.tag===5){var b=w.stateNode;y&&M&&(b=Bt(b,w.type,w.memoizedProps,w)),X(u,b)}else if(w.tag===6)b=w.stateNode,y&&M&&(b=kn(b,w.memoizedProps,w)),X(u,b);else if(w.tag!==4){if(w.tag===22&&w.memoizedState!==null)b=w.child,b!==null&&(b.return=w),nf(u,w,!0,!0);else if(w.child!==null){w.child.return=w,w=w.child;continue}}if(w===f)break;for(;w.sibling===null;){if(w.return===null||w.return===f)return;w=w.return}w.sibling.return=w.return,w=w.sibling}};var hv=function(u,f,y,M){for(var w=f.child;w!==null;){if(w.tag===5){var b=w.stateNode;y&&M&&(b=Bt(b,w.type,w.memoizedProps,w)),je(u,b)}else if(w.tag===6)b=w.stateNode,y&&M&&(b=kn(b,w.memoizedProps,w)),je(u,b);else if(w.tag!==4){if(w.tag===22&&w.memoizedState!==null)b=w.child,b!==null&&(b.return=w),hv(u,w,!0,!0);else if(w.child!==null){w.child.return=w,w=w.child;continue}}if(w===f)break;for(;w.sibling===null;){if(w.return===null||w.return===f)return;w=w.return}w.sibling.return=w.return,w=w.sibling}};rf=function(u,f){var y=f.stateNode;if(!fv(u,f)){u=y.containerInfo;var M=_e(u);hv(M,f,!1,!1),y.pendingChildren=M,ps(f),tt(u,M)}},p3=function(u,f,y,M,w){var b=u.stateNode,H=u.memoizedProps;if((u=fv(u,f))&&H===M)f.stateNode=b;else{var Z=f.stateNode,le=hs(hr.current),Be=null;H!==M&&(Be=me(Z,y,H,M,w,le)),u&&Be===null?f.stateNode=b:(b=Ue(b,Be,y,H,M,f,u,Z),ce(b,y,M,w,le)&&ps(f),f.stateNode=b,u?ps(f):nf(b,f,!1,!1))}},m3=function(u,f,y,M){y!==M?(u=hs(Kl.current),y=hs(hr.current),f.stateNode=Pe(M,u,y,f),ps(f)):f.stateNode=u.stateNode}}else rf=function(){},p3=function(){},m3=function(){};function sf(u,f){if(!sn)switch(u.tailMode){case"hidden":f=u.tail;for(var y=null;f!==null;)f.alternate!==null&&(y=f),f=f.sibling;y===null?u.tail=null:y.sibling=null;break;case"collapsed":y=u.tail;for(var M=null;y!==null;)y.alternate!==null&&(M=y),y=y.sibling;M===null?f||u.tail===null?u.tail=null:u.tail.sibling=null:M.sibling=null}}function hi(u){var f=u.alternate!==null&&u.alternate.child===u.child,y=0,M=0;if(f)for(var w=u.child;w!==null;)y|=w.lanes|w.childLanes,M|=w.subtreeFlags&14680064,M|=w.flags&14680064,w.return=u,w=w.sibling;else for(w=u.child;w!==null;)y|=w.lanes|w.childLanes,M|=w.subtreeFlags,M|=w.flags,w.return=u,w=w.sibling;return u.subtreeFlags|=M,u.childLanes=y,f}function gB(u,f,y){var M=f.pendingProps;switch(Km(f),f.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return hi(f),null;case 1:return xn(f.type)&&xo(),hi(f),null;case 3:return M=f.stateNode,Yl(),Gt(Rn),Gt(Hn),n1(),M.pendingContext&&(M.context=M.pendingContext,M.pendingContext=null),(u===null||u.child===null)&&(Ju(f)?ps(f):u===null||u.memoizedState.isDehydrated&&!(f.flags&256)||(f.flags|=1024,kr!==null&&(B1(kr),kr=null))),rf(u,f),hi(f),null;case 5:e1(f),y=hs(Kl.current);var w=f.type;if(u!==null&&f.stateNode!=null)p3(u,f,w,M,y),u.ref!==f.ref&&(f.flags|=512,f.flags|=2097152);else{if(!M){if(f.stateNode===null)throw Error(o(166));return hi(f),null}if(u=hs(hr.current),Ju(f)){if(!ge)throw Error(o(175));u=Lm(f.stateNode,f.type,f.memoizedProps,y,u,f,!Xu),f.updateQueue=u,u!==null&&ps(f)}else{var b=N(w,M,y,u,f);nf(b,f,!1,!1),f.stateNode=b,ce(b,w,M,y,u)&&ps(f)}f.ref!==null&&(f.flags|=512,f.flags|=2097152)}return hi(f),null;case 6:if(u&&f.stateNode!=null)m3(u,f,u.memoizedProps,M);else{if(typeof M!="string"&&f.stateNode===null)throw Error(o(166));if(u=hs(Kl.current),y=hs(hr.current),Ju(f)){if(!ge)throw Error(o(176));if(u=f.stateNode,M=f.memoizedProps,(y=O(u,M,f,!Xu))&&(w=qi,w!==null))switch(b=(w.mode&1)!==0,w.tag){case 3:ft(w.stateNode.containerInfo,u,M,b);break;case 5:wt(w.type,w.memoizedProps,w.stateNode,u,M,b)}y&&ps(f)}else f.stateNode=Pe(M,u,y,f)}return hi(f),null;case 13:if(Gt(un),M=f.memoizedState,sn&&Xi!==null&&f.mode&1&&!(f.flags&128)){for(u=Xi;u;)u=as(u);return Xl(),f.flags|=98560,f}if(M!==null&&M.dehydrated!==null){if(M=Ju(f),u===null){if(!M)throw Error(o(318));if(!ge)throw Error(o(344));if(u=f.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(o(317));ie(u,f)}else Xl(),!(f.flags&128)&&(f.memoizedState=null),f.flags|=4;return hi(f),null}return kr!==null&&(B1(kr),kr=null),f.flags&128?(f.lanes=y,f):(M=M!==null,y=!1,u===null?Ju(f):y=u.memoizedState!==null,M&&!y&&(f.child.flags|=8192,f.mode&1&&(u===null||un.current&1?zn===0&&(zn=3):L1())),f.updateQueue!==null&&(f.flags|=4),hi(f),null);case 4:return Yl(),rf(u,f),u===null&&Ee(f.stateNode.containerInfo),hi(f),null;case 10:return Vm(f.type._context),hi(f),null;case 17:return xn(f.type)&&xo(),hi(f),null;case 19:if(Gt(un),w=f.memoizedState,w===null)return hi(f),null;if(M=(f.flags&128)!==0,b=w.rendering,b===null)if(M)sf(w,!1);else{if(zn!==0||u!==null&&u.flags&128)for(u=f.child;u!==null;){if(b=o3(u),b!==null){for(f.flags|=128,sf(w,!1),u=b.updateQueue,u!==null&&(f.updateQueue=u,f.flags|=4),f.subtreeFlags=0,u=y,M=f.child;M!==null;)y=M,w=u,y.flags&=14680066,b=y.alternate,b===null?(y.childLanes=0,y.lanes=w,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=b.childLanes,y.lanes=b.lanes,y.child=b.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=b.memoizedProps,y.memoizedState=b.memoizedState,y.updateQueue=b.updateQueue,y.type=b.type,w=b.dependencies,y.dependencies=w===null?null:{lanes:w.lanes,firstContext:w.firstContext}),M=M.sibling;return ht(un,un.current&1|2),f.child}u=u.sibling}w.tail!==null&&Xn()>C1&&(f.flags|=128,M=!0,sf(w,!1),f.lanes=4194304)}else{if(!M)if(u=o3(b),u!==null){if(f.flags|=128,M=!0,u=u.updateQueue,u!==null&&(f.updateQueue=u,f.flags|=4),sf(w,!0),w.tail===null&&w.tailMode==="hidden"&&!b.alternate&&!sn)return hi(f),null}else 2*Xn()-w.renderingStartTime>C1&&y!==1073741824&&(f.flags|=128,M=!0,sf(w,!1),f.lanes=4194304);w.isBackwards?(b.sibling=f.child,f.child=b):(u=w.last,u!==null?u.sibling=b:f.child=b,w.last=b)}return w.tail!==null?(f=w.tail,w.rendering=f,w.tail=f.sibling,w.renderingStartTime=Xn(),f.sibling=null,u=un.current,ht(un,M?u&1|2:u&1),f):(hi(f),null);case 22:case 23:return I1(),M=f.memoizedState!==null,u!==null&&u.memoizedState!==null!==M&&(f.flags|=8192),M&&f.mode&1?Ki&1073741824&&(hi(f),Me&&f.subtreeFlags&6&&(f.flags|=8192)):hi(f),null;case 24:return null;case 25:return null}throw Error(o(156,f.tag))}var vB=a.ReactCurrentOwner,Ji=!1;function Si(u,f,y,M){f.child=u===null?H7(f,null,y,M):Jl(f,u.child,y,M)}function dv(u,f,y,M,w){y=y.render;var b=f.ref;return Wl(f,w),M=r1(u,f,y,M,b,w),y=s1(),u!==null&&!Ji?(f.updateQueue=u.updateQueue,f.flags&=-2053,u.lanes&=~w,zs(u,f,w)):(sn&&y&&Jm(f),f.flags|=1,Si(u,f,M,w),f.child)}function pv(u,f,y,M,w){if(u===null){var b=y.type;return typeof b=="function"&&!D1(b)&&b.defaultProps===void 0&&y.compare===null&&y.defaultProps===void 0?(f.tag=15,f.type=b,mv(u,f,b,M,w)):(u=N3(y.type,null,M,f,f.mode,w),u.ref=f.ref,u.return=f,f.child=u)}if(b=u.child,!(u.lanes&w)){var H=b.memoizedProps;if(y=y.compare,y=y!==null?y:Qd,y(H,M)&&u.ref===f.ref)return zs(u,f,w)}return f.flags|=1,u=To(b,M),u.ref=f.ref,u.return=f,f.child=u}function mv(u,f,y,M,w){if(u!==null&&Qd(u.memoizedProps,M)&&u.ref===f.ref)if(Ji=!1,(u.lanes&w)!==0)u.flags&131072&&(Ji=!0);else return f.lanes=u.lanes,zs(u,f,w);return f1(u,f,y,M,w)}function gv(u,f,y){var M=f.pendingProps,w=M.children,b=u!==null?u.memoizedState:null;if(M.mode==="hidden")if(!(f.mode&1))f.memoizedState={baseLanes:0,cachePool:null},ht(Zl,Ki),Ki|=y;else if(y&1073741824)f.memoizedState={baseLanes:0,cachePool:null},M=b!==null?b.baseLanes:y,ht(Zl,Ki),Ki|=M;else return u=b!==null?b.baseLanes|y:y,f.lanes=f.childLanes=1073741824,f.memoizedState={baseLanes:u,cachePool:null},f.updateQueue=null,ht(Zl,Ki),Ki|=u,null;else b!==null?(M=b.baseLanes|y,f.memoizedState=null):M=y,ht(Zl,Ki),Ki|=M;return Si(u,f,w,y),f.child}function vv(u,f){var y=f.ref;(u===null&&y!==null||u!==null&&u.ref!==y)&&(f.flags|=512,f.flags|=2097152)}function f1(u,f,y,M,w){var b=xn(y)?Nr:Hn.current;return b=yn(f,b),Wl(f,w),y=r1(u,f,y,M,b,w),M=s1(),u!==null&&!Ji?(f.updateQueue=u.updateQueue,f.flags&=-2053,u.lanes&=~w,zs(u,f,w)):(sn&&M&&Jm(f),f.flags|=1,Si(u,f,y,w),f.child)}function yv(u,f,y,M,w){if(xn(y)){var b=!0;Gl(f)}else b=!1;if(Wl(f,w),f.stateNode===null)u!==null&&(u.alternate=null,f.alternate=null,f.flags|=2),I7(f,y,M),Xm(f,y,M,w),M=!0;else if(u===null){var H=f.stateNode,Z=f.memoizedProps;H.props=Z;var le=H.context,Be=y.contextType;typeof Be=="object"&&Be!==null?Be=cr(Be):(Be=xn(y)?Nr:Hn.current,Be=yn(f,Be));var Ke=y.getDerivedStateFromProps,vt=typeof Ke=="function"||typeof H.getSnapshotBeforeUpdate=="function";vt||typeof H.UNSAFE_componentWillReceiveProps!="function"&&typeof H.componentWillReceiveProps!="function"||(Z!==M||le!==Be)&&L7(f,H,M,Be),_o=!1;var it=f.memoizedState;H.state=it,t3(f,M,H,w),le=f.memoizedState,Z!==M||it!==le||Rn.current||_o?(typeof Ke=="function"&&(qm(f,y,Ke,M),le=f.memoizedState),(Z=_o||B7(f,y,Z,M,it,le,Be))?(vt||typeof H.UNSAFE_componentWillMount!="function"&&typeof H.componentWillMount!="function"||(typeof H.componentWillMount=="function"&&H.componentWillMount(),typeof H.UNSAFE_componentWillMount=="function"&&H.UNSAFE_componentWillMount()),typeof H.componentDidMount=="function"&&(f.flags|=4194308)):(typeof H.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=M,f.memoizedState=le),H.props=M,H.state=le,H.context=Be,M=Z):(typeof H.componentDidMount=="function"&&(f.flags|=4194308),M=!1)}else{H=f.stateNode,C7(u,f),Z=f.memoizedProps,Be=f.type===f.elementType?Z:Ur(f.type,Z),H.props=Be,vt=f.pendingProps,it=H.context,le=y.contextType,typeof le=="object"&&le!==null?le=cr(le):(le=xn(y)?Nr:Hn.current,le=yn(f,le));var Xt=y.getDerivedStateFromProps;(Ke=typeof Xt=="function"||typeof H.getSnapshotBeforeUpdate=="function")||typeof H.UNSAFE_componentWillReceiveProps!="function"&&typeof H.componentWillReceiveProps!="function"||(Z!==vt||it!==le)&&L7(f,H,M,le),_o=!1,it=f.memoizedState,H.state=it,t3(f,M,H,w);var $e=f.memoizedState;Z!==vt||it!==$e||Rn.current||_o?(typeof Xt=="function"&&(qm(f,y,Xt,M),$e=f.memoizedState),(Be=_o||B7(f,y,Be,M,it,$e,le)||!1)?(Ke||typeof H.UNSAFE_componentWillUpdate!="function"&&typeof H.componentWillUpdate!="function"||(typeof H.componentWillUpdate=="function"&&H.componentWillUpdate(M,$e,le),typeof H.UNSAFE_componentWillUpdate=="function"&&H.UNSAFE_componentWillUpdate(M,$e,le)),typeof H.componentDidUpdate=="function"&&(f.flags|=4),typeof H.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof H.componentDidUpdate!="function"||Z===u.memoizedProps&&it===u.memoizedState||(f.flags|=4),typeof H.getSnapshotBeforeUpdate!="function"||Z===u.memoizedProps&&it===u.memoizedState||(f.flags|=1024),f.memoizedProps=M,f.memoizedState=$e),H.props=M,H.state=$e,H.context=le,M=Be):(typeof H.componentDidUpdate!="function"||Z===u.memoizedProps&&it===u.memoizedState||(f.flags|=4),typeof H.getSnapshotBeforeUpdate!="function"||Z===u.memoizedProps&&it===u.memoizedState||(f.flags|=1024),M=!1)}return h1(u,f,y,M,b,w)}function h1(u,f,y,M,w,b){vv(u,f);var H=(f.flags&128)!==0;if(!M&&!H)return w&&Wu(f,y,!1),zs(u,f,b);M=f.stateNode,vB.current=f;var Z=H&&typeof y.getDerivedStateFromError!="function"?null:M.render();return f.flags|=1,u!==null&&H?(f.child=Jl(f,u.child,null,b),f.child=Jl(f,null,Z,b)):Si(u,f,Z,b),f.memoizedState=M.state,w&&Wu(f,y,!0),f.child}function xv(u){var f=u.stateNode;f.pendingContext?ci(u,f.pendingContext,f.pendingContext!==f.context):f.context&&ci(u,f.context,!1),$m(u,f.containerInfo)}function _v(u,f,y,M,w){return Xl(),Zm(w),f.flags|=256,Si(u,f,y,M),f.child}var g3={dehydrated:null,treeContext:null,retryLane:0};function v3(u){return{baseLanes:u,cachePool:null}}function Av(u,f,y){var M=f.pendingProps,w=un.current,b=!1,H=(f.flags&128)!==0,Z;if((Z=H)||(Z=u!==null&&u.memoizedState===null?!1:(w&2)!==0),Z?(b=!0,f.flags&=-129):(u===null||u.memoizedState!==null)&&(w|=1),ht(un,w&1),u===null)return Qm(f),u=f.memoizedState,u!==null&&(u=u.dehydrated,u!==null)?(f.mode&1?yo(u)?f.lanes=8:f.lanes=1073741824:f.lanes=1,null):(w=M.children,u=M.fallback,b?(M=f.mode,b=f.child,w={mode:"hidden",children:w},!(M&1)&&b!==null?(b.childLanes=0,b.pendingProps=w):b=O3(w,M,0,null),u=Ia(u,M,y,null),b.return=f,u.return=f,b.sibling=u,f.child=b,f.child.memoizedState=v3(y),f.memoizedState=g3,u):d1(f,w));if(w=u.memoizedState,w!==null){if(Z=w.dehydrated,Z!==null){if(H)return f.flags&256?(f.flags&=-257,y3(u,f,y,Error(o(422)))):f.memoizedState!==null?(f.child=u.child,f.flags|=128,null):(b=M.fallback,w=f.mode,M=O3({mode:"visible",children:M.children},w,0,null),b=Ia(b,w,y,null),b.flags|=2,M.return=f,b.return=f,M.sibling=b,f.child=M,f.mode&1&&Jl(f,u.child,null,y),f.child.memoizedState=v3(y),f.memoizedState=g3,b);if(!(f.mode&1))f=y3(u,f,y,null);else if(yo(Z))f=y3(u,f,y,Error(o(419)));else if(M=(y&u.childLanes)!==0,Ji||M){if(M=Bn,M!==null){switch(y&-y){case 4:b=2;break;case 16:b=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:b=32;break;case 536870912:b=268435456;break;default:b=0}M=b&(M.suspendedLanes|y)?0:b,M!==0&&M!==w.retryLane&&(w.retryLane=M,pr(u,M,-1))}L1(),f=y3(u,f,y,Error(o(421)))}else Vd(Z)?(f.flags|=128,f.child=u.child,f=RB.bind(null,u),Wd(Z,f),f=null):(y=w.treeContext,ge&&(Xi=Im(Z),qi=f,sn=!0,kr=null,Xu=!1,y!==null&&(ur[fr++]=Us,ur[fr++]=ks,ur[fr++]=Ea,Us=y.id,ks=y.overflow,Ea=f)),f=d1(f,f.pendingProps.children),f.flags|=4096);return f}return b?(M=Mv(u,f,M.children,M.fallback,y),b=f.child,w=u.child.memoizedState,b.memoizedState=w===null?v3(y):{baseLanes:w.baseLanes|y,cachePool:null},b.childLanes=u.childLanes&~y,f.memoizedState=g3,M):(y=Sv(u,f,M.children,y),f.memoizedState=null,y)}return b?(M=Mv(u,f,M.children,M.fallback,y),b=f.child,w=u.child.memoizedState,b.memoizedState=w===null?v3(y):{baseLanes:w.baseLanes|y,cachePool:null},b.childLanes=u.childLanes&~y,f.memoizedState=g3,M):(y=Sv(u,f,M.children,y),f.memoizedState=null,y)}function d1(u,f){return f=O3({mode:"visible",children:f},u.mode,0,null),f.return=u,u.child=f}function Sv(u,f,y,M){var w=u.child;return u=w.sibling,y=To(w,{mode:"visible",children:y}),!(f.mode&1)&&(y.lanes=M),y.return=f,y.sibling=null,u!==null&&(M=f.deletions,M===null?(f.deletions=[u],f.flags|=16):M.push(u)),f.child=y}function Mv(u,f,y,M,w){var b=f.mode;u=u.child;var H=u.sibling,Z={mode:"hidden",children:y};return!(b&1)&&f.child!==u?(y=f.child,y.childLanes=0,y.pendingProps=Z,f.deletions=null):(y=To(u,Z),y.subtreeFlags=u.subtreeFlags&14680064),H!==null?M=To(H,M):(M=Ia(M,b,w,null),M.flags|=2),M.return=f,y.return=f,y.sibling=M,f.child=y,M}function y3(u,f,y,M){return M!==null&&Zm(M),Jl(f,u.child,null,y),u=d1(f,f.pendingProps.children),u.flags|=2,f.memoizedState=null,u}function Ev(u,f,y){u.lanes|=f;var M=u.alternate;M!==null&&(M.lanes|=f),Wm(u.return,f,y)}function p1(u,f,y,M,w){var b=u.memoizedState;b===null?u.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:M,tail:y,tailMode:w}:(b.isBackwards=f,b.rendering=null,b.renderingStartTime=0,b.last=M,b.tail=y,b.tailMode=w)}function wv(u,f,y){var M=f.pendingProps,w=M.revealOrder,b=M.tail;if(Si(u,f,M.children,y),M=un.current,M&2)M=M&1|2,f.flags|=128;else{if(u!==null&&u.flags&128)e:for(u=f.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&Ev(u,y,f);else if(u.tag===19)Ev(u,y,f);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===f)break e;for(;u.sibling===null;){if(u.return===null||u.return===f)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}M&=1}if(ht(un,M),!(f.mode&1))f.memoizedState=null;else switch(w){case"forwards":for(y=f.child,w=null;y!==null;)u=y.alternate,u!==null&&o3(u)===null&&(w=y),y=y.sibling;y=w,y===null?(w=f.child,f.child=null):(w=y.sibling,y.sibling=null),p1(f,!1,w,y,b);break;case"backwards":for(y=null,w=f.child,f.child=null;w!==null;){if(u=w.alternate,u!==null&&o3(u)===null){f.child=w;break}u=w.sibling,w.sibling=y,y=w,w=u}p1(f,!0,y,null,b);break;case"together":p1(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function zs(u,f,y){if(u!==null&&(f.dependencies=u.dependencies),$l|=f.lanes,!(y&f.childLanes))return null;if(u!==null&&f.child!==u.child)throw Error(o(153));if(f.child!==null){for(u=f.child,y=To(u,u.pendingProps),f.child=y,y.return=f;u.sibling!==null;)u=u.sibling,y=y.sibling=To(u,u.pendingProps),y.return=f;y.sibling=null}return f.child}function yB(u,f,y){switch(f.tag){case 3:xv(f),Xl();break;case 5:z7(f);break;case 1:xn(f.type)&&Gl(f);break;case 4:$m(f,f.stateNode.containerInfo);break;case 10:T7(f,f.type._context,f.memoizedProps.value);break;case 13:var M=f.memoizedState;if(M!==null)return M.dehydrated!==null?(ht(un,un.current&1),f.flags|=128,null):y&f.child.childLanes?Av(u,f,y):(ht(un,un.current&1),u=zs(u,f,y),u!==null?u.sibling:null);ht(un,un.current&1);break;case 19:if(M=(y&f.childLanes)!==0,u.flags&128){if(M)return wv(u,f,y);f.flags|=128}var w=f.memoizedState;if(w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),ht(un,un.current),M)break;return null;case 22:case 23:return f.lanes=0,gv(u,f,y)}return zs(u,f,y)}function xB(u,f){switch(Km(f),f.tag){case 1:return xn(f.type)&&xo(),u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 3:return Yl(),Gt(Rn),Gt(Hn),n1(),u=f.flags,u&65536&&!(u&128)?(f.flags=u&-65537|128,f):null;case 5:return e1(f),null;case 13:if(Gt(un),u=f.memoizedState,u!==null&&u.dehydrated!==null){if(f.alternate===null)throw Error(o(340));Xl()}return u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 19:return Gt(un),null;case 4:return Yl(),null;case 10:return Vm(f.type._context),null;case 22:case 23:return I1(),null;case 24:return null;default:return null}}var x3=!1,Ca=!1,_B=typeof WeakSet=="function"?WeakSet:Set,ke=null;function _3(u,f){var y=u.ref;if(y!==null)if(typeof y=="function")try{y(null)}catch(M){Di(u,f,M)}else y.current=null}function m1(u,f,y){try{y()}catch(M){Di(u,f,M)}}var Tv=!1;function AB(u,f){for(W(u.containerInfo),ke=f;ke!==null;)if(u=ke,f=u.child,(u.subtreeFlags&1028)!==0&&f!==null)f.return=u,ke=f;else for(;ke!==null;){u=ke;try{var y=u.alternate;if(u.flags&1024)switch(u.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var M=y.memoizedProps,w=y.memoizedState,b=u.stateNode,H=b.getSnapshotBeforeUpdate(u.elementType===u.type?M:Ur(u.type,M),w);b.__reactInternalSnapshotBeforeUpdate=H}break;case 3:Me&&Ne(u.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(Z){Di(u,u.return,Z)}if(f=u.sibling,f!==null){f.return=u.return,ke=f;break}ke=u.return}return y=Tv,Tv=!1,y}function ba(u,f,y){var M=f.updateQueue;if(M=M!==null?M.lastEffect:null,M!==null){var w=M=M.next;do{if((w.tag&u)===u){var b=w.destroy;w.destroy=void 0,b!==void 0&&m1(f,y,b)}w=w.next}while(w!==M)}}function of(u,f){if(f=f.updateQueue,f=f!==null?f.lastEffect:null,f!==null){var y=f=f.next;do{if((y.tag&u)===u){var M=y.create;y.destroy=M()}y=y.next}while(y!==f)}}function g1(u){var f=u.ref;if(f!==null){var y=u.stateNode;switch(u.tag){case 5:u=ne(y);break;default:u=y}typeof f=="function"?f(u):f.current=u}}function Cv(u,f,y){if(ls&&typeof ls.onCommitFiberUnmount=="function")try{ls.onCommitFiberUnmount(Kd,f)}catch{}switch(f.tag){case 0:case 11:case 14:case 15:if(u=f.updateQueue,u!==null&&(u=u.lastEffect,u!==null)){var M=u=u.next;do{var w=M,b=w.destroy;w=w.tag,b!==void 0&&(w&2||w&4)&&m1(f,y,b),M=M.next}while(M!==u)}break;case 1:if(_3(f,y),u=f.stateNode,typeof u.componentWillUnmount=="function")try{u.props=f.memoizedProps,u.state=f.memoizedState,u.componentWillUnmount()}catch(H){Di(f,y,H)}break;case 5:_3(f,y);break;case 4:Me?Lv(u,f,y):q&&q&&(f=f.stateNode.containerInfo,y=_e(f),cn(f,y))}}function bv(u,f,y){for(var M=f;;)if(Cv(u,M,y),M.child===null||Me&&M.tag===4){if(M===f)break;for(;M.sibling===null;){if(M.return===null||M.return===f)return;M=M.return}M.sibling.return=M.return,M=M.sibling}else M.child.return=M,M=M.child}function Pv(u){var f=u.alternate;f!==null&&(u.alternate=null,Pv(f)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(f=u.stateNode,f!==null&&We(f)),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}function Rv(u){return u.tag===5||u.tag===3||u.tag===4}function Bv(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||Rv(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function Iv(u){if(Me){e:{for(var f=u.return;f!==null;){if(Rv(f))break e;f=f.return}throw Error(o(160))}var y=f;switch(y.tag){case 5:f=y.stateNode,y.flags&32&&(ue(f),y.flags&=-33),y=Bv(u),y1(u,y,f);break;case 3:case 4:f=y.stateNode.containerInfo,y=Bv(u),v1(u,y,f);break;default:throw Error(o(161))}}}function v1(u,f,y){var M=u.tag;if(M===5||M===6)u=u.stateNode,f?Re(y,u,f):Ye(y,u);else if(M!==4&&(u=u.child,u!==null))for(v1(u,f,y),u=u.sibling;u!==null;)v1(u,f,y),u=u.sibling}function y1(u,f,y){var M=u.tag;if(M===5||M===6)u=u.stateNode,f?Ct(y,u,f):be(y,u);else if(M!==4&&(u=u.child,u!==null))for(y1(u,f,y),u=u.sibling;u!==null;)y1(u,f,y),u=u.sibling}function Lv(u,f,y){for(var M=f,w=!1,b,H;;){if(!w){w=M.return;e:for(;;){if(w===null)throw Error(o(160));switch(b=w.stateNode,w.tag){case 5:H=!1;break e;case 3:b=b.containerInfo,H=!0;break e;case 4:b=b.containerInfo,H=!0;break e}w=w.return}w=!0}if(M.tag===5||M.tag===6)bv(u,M,y),H?K(b,M.stateNode):Rt(b,M.stateNode);else if(M.tag===18)H?nt(b,M.stateNode):Je(b,M.stateNode);else if(M.tag===4){if(M.child!==null){b=M.stateNode.containerInfo,H=!0,M.child.return=M,M=M.child;continue}}else if(Cv(u,M,y),M.child!==null){M.child.return=M,M=M.child;continue}if(M===f)break;for(;M.sibling===null;){if(M.return===null||M.return===f)return;M=M.return,M.tag===4&&(w=!1)}M.sibling.return=M.return,M=M.sibling}}function x1(u,f){if(Me){switch(f.tag){case 0:case 11:case 14:case 15:ba(3,f,f.return),of(3,f),ba(5,f,f.return);return;case 1:return;case 5:var y=f.stateNode;if(y!=null){var M=f.memoizedProps;u=u!==null?u.memoizedProps:M;var w=f.type,b=f.updateQueue;f.updateQueue=null,b!==null&&ot(y,b,w,u,M,f)}return;case 6:if(f.stateNode===null)throw Error(o(162));y=f.memoizedProps,Ie(f.stateNode,u!==null?u.memoizedProps:y,y);return;case 3:ge&&u!==null&&u.memoizedState.isDehydrated&&se(f.stateNode.containerInfo);return;case 12:return;case 13:A3(f);return;case 19:A3(f);return;case 17:return}throw Error(o(163))}switch(f.tag){case 0:case 11:case 14:case 15:ba(3,f,f.return),of(3,f),ba(5,f,f.return);return;case 12:return;case 13:A3(f);return;case 19:A3(f);return;case 3:ge&&u!==null&&u.memoizedState.isDehydrated&&se(f.stateNode.containerInfo);break;case 22:case 23:return}e:if(q){switch(f.tag){case 1:case 5:case 6:break e;case 3:case 4:f=f.stateNode,cn(f.containerInfo,f.pendingChildren);break e}throw Error(o(163))}}function A3(u){var f=u.updateQueue;if(f!==null){u.updateQueue=null;var y=u.stateNode;y===null&&(y=u.stateNode=new _B),f.forEach(function(M){var w=BB.bind(null,u,M);y.has(M)||(y.add(M),M.then(w,w))})}}function SB(u,f){for(ke=f;ke!==null;){f=ke;var y=f.deletions;if(y!==null)for(var M=0;M<y.length;M++){var w=y[M];try{var b=u;Me?Lv(b,w,f):bv(b,w,f);var H=w.alternate;H!==null&&(H.return=null),w.return=null}catch(Ze){Di(w,f,Ze)}}if(y=f.child,f.subtreeFlags&12854&&y!==null)y.return=f,ke=y;else for(;ke!==null;){f=ke;try{var Z=f.flags;if(Z&32&&Me&&ue(f.stateNode),Z&512){var le=f.alternate;if(le!==null){var Be=le.ref;Be!==null&&(typeof Be=="function"?Be(null):Be.current=null)}}if(Z&8192)switch(f.tag){case 13:if(f.memoizedState!==null){var Ke=f.alternate;(Ke===null||Ke.memoizedState===null)&&(T1=Xn())}break;case 22:var vt=f.memoizedState!==null,it=f.alternate,Xt=it!==null&&it.memoizedState!==null;if(y=f,Me){e:if(M=y,w=vt,b=null,Me)for(var $e=M;;){if($e.tag===5){if(b===null){b=$e;var di=$e.stateNode;w?Se(di):Ae($e.stateNode,$e.memoizedProps)}}else if($e.tag===6){if(b===null){var gr=$e.stateNode;w?z(gr):we(gr,$e.memoizedProps)}}else if(($e.tag!==22&&$e.tag!==23||$e.memoizedState===null||$e===M)&&$e.child!==null){$e.child.return=$e,$e=$e.child;continue}if($e===M)break;for(;$e.sibling===null;){if($e.return===null||$e.return===M)break e;b===$e&&(b=null),$e=$e.return}b===$e&&(b=null),$e.sibling.return=$e.return,$e=$e.sibling}}if(vt&&!Xt&&y.mode&1){ke=y;for(var re=y.child;re!==null;){for(y=ke=re;ke!==null;){M=ke;var $=M.child;switch(M.tag){case 0:case 11:case 14:case 15:ba(4,M,M.return);break;case 1:_3(M,M.return);var ae=M.stateNode;if(typeof ae.componentWillUnmount=="function"){var Ge=M.return;try{ae.props=M.memoizedProps,ae.state=M.memoizedState,ae.componentWillUnmount()}catch(Ze){Di(M,Ge,Ze)}}break;case 5:_3(M,M.return);break;case 22:if(M.memoizedState!==null){Nv(y);continue}}$!==null?($.return=M,ke=$):Nv(y)}re=re.sibling}}}switch(Z&4102){case 2:Iv(f),f.flags&=-3;break;case 6:Iv(f),f.flags&=-3,x1(f.alternate,f);break;case 4096:f.flags&=-4097;break;case 4100:f.flags&=-4097,x1(f.alternate,f);break;case 4:x1(f.alternate,f)}}catch(Ze){Di(f,f.return,Ze)}if(y=f.sibling,y!==null){y.return=f.return,ke=y;break}ke=f.return}}}function MB(u,f,y){ke=u,Dv(u)}function Dv(u,f,y){for(var M=(u.mode&1)!==0;ke!==null;){var w=ke,b=w.child;if(w.tag===22&&M){var H=w.memoizedState!==null||x3;if(!H){var Z=w.alternate,le=Z!==null&&Z.memoizedState!==null||Ca;Z=x3;var Be=Ca;if(x3=H,(Ca=le)&&!Be)for(ke=w;ke!==null;)H=ke,le=H.child,H.tag===22&&H.memoizedState!==null?Ov(w):le!==null?(le.return=H,ke=le):Ov(w);for(;b!==null;)ke=b,Dv(b),b=b.sibling;ke=w,x3=Z,Ca=Be}Fv(u)}else w.subtreeFlags&8772&&b!==null?(b.return=w,ke=b):Fv(u)}}function Fv(u){for(;ke!==null;){var f=ke;if(f.flags&8772){var y=f.alternate;try{if(f.flags&8772)switch(f.tag){case 0:case 11:case 15:Ca||of(5,f);break;case 1:var M=f.stateNode;if(f.flags&4&&!Ca)if(y===null)M.componentDidMount();else{var w=f.elementType===f.type?y.memoizedProps:Ur(f.type,y.memoizedProps);M.componentDidUpdate(w,y.memoizedState,M.__reactInternalSnapshotBeforeUpdate)}var b=f.updateQueue;b!==null&&P7(f,b,M);break;case 3:var H=f.updateQueue;if(H!==null){if(y=null,f.child!==null)switch(f.child.tag){case 5:y=ne(f.child.stateNode);break;case 1:y=f.child.stateNode}P7(f,H,y)}break;case 5:var Z=f.stateNode;y===null&&f.flags&4&&Oe(Z,f.type,f.memoizedProps,f);break;case 6:break;case 4:break;case 12:break;case 13:if(ge&&f.memoizedState===null){var le=f.alternate;if(le!==null){var Be=le.memoizedState;if(Be!==null){var Ke=Be.dehydrated;Ke!==null&&he(Ke)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}Ca||f.flags&512&&g1(f)}catch(vt){Di(f,f.return,vt)}}if(f===u){ke=null;break}if(y=f.sibling,y!==null){y.return=f.return,ke=y;break}ke=f.return}}function Nv(u){for(;ke!==null;){var f=ke;if(f===u){ke=null;break}var y=f.sibling;if(y!==null){y.return=f.return,ke=y;break}ke=f.return}}function Ov(u){for(;ke!==null;){var f=ke;try{switch(f.tag){case 0:case 11:case 15:var y=f.return;try{of(4,f)}catch(le){Di(f,y,le)}break;case 1:var M=f.stateNode;if(typeof M.componentDidMount=="function"){var w=f.return;try{M.componentDidMount()}catch(le){Di(f,w,le)}}var b=f.return;try{g1(f)}catch(le){Di(f,b,le)}break;case 5:var H=f.return;try{g1(f)}catch(le){Di(f,H,le)}}}catch(le){Di(f,f.return,le)}if(f===u){ke=null;break}var Z=f.sibling;if(Z!==null){Z.return=f.return,ke=Z;break}ke=f.return}}var S3=0,M3=1,E3=2,w3=3,T3=4;if(typeof Symbol=="function"&&Symbol.for){var af=Symbol.for;S3=af("selector.component"),M3=af("selector.has_pseudo_class"),E3=af("selector.role"),w3=af("selector.test_id"),T3=af("selector.text")}function _1(u){var f=pe(u);if(f!=null){if(typeof f.memoizedProps["data-testname"]!="string")throw Error(o(364));return f}if(u=xt(u),u===null)throw Error(o(362));return u.stateNode.current}function A1(u,f){switch(f.$$typeof){case S3:if(u.type===f.value)return!0;break;case M3:e:{f=f.value,u=[u,0];for(var y=0;y<u.length;){var M=u[y++],w=u[y++],b=f[w];if(M.tag!==5||!L(M)){for(;b!=null&&A1(M,b);)w++,b=f[w];if(w===f.length){f=!0;break e}else for(M=M.child;M!==null;)u.push(M,w),M=M.sibling}}f=!1}return f;case E3:if(u.tag===5&&oe(u.stateNode,f.value))return!0;break;case T3:if((u.tag===5||u.tag===6)&&(u=G(u),u!==null&&0<=u.indexOf(f.value)))return!0;break;case w3:if(u.tag===5&&(u=u.memoizedProps["data-testname"],typeof u=="string"&&u.toLowerCase()===f.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function S1(u){switch(u.$$typeof){case S3:return"<"+(R(u.value)||"Unknown")+">";case M3:return":has("+(S1(u)||"")+")";case E3:return'[role="'+u.value+'"]';case T3:return'"'+u.value+'"';case w3:return'[data-testname="'+u.value+'"]';default:throw Error(o(365))}}function Uv(u,f){var y=[];u=[u,0];for(var M=0;M<u.length;){var w=u[M++],b=u[M++],H=f[b];if(w.tag!==5||!L(w)){for(;H!=null&&A1(w,H);)b++,H=f[b];if(b===f.length)y.push(w);else for(w=w.child;w!==null;)u.push(w,b),w=w.sibling}}return y}function M1(u,f){if(!et)throw Error(o(363));u=_1(u),u=Uv(u,f),f=[],u=Array.from(u);for(var y=0;y<u.length;){var M=u[y++];if(M.tag===5)L(M)||f.push(M.stateNode);else for(M=M.child;M!==null;)u.push(M),M=M.sibling}return f}var EB=Math.ceil,C3=a.ReactCurrentDispatcher,E1=a.ReactCurrentOwner,Tn=a.ReactCurrentBatchConfig,Tt=0,Bn=null,In=null,ni=0,Ki=0,Zl=mt(0),zn=0,lf=null,$l=0,b3=0,w1=0,cf=null,Ii=null,T1=0,C1=1/0;function ec(){C1=Xn()+500}var P3=!1,b1=null,So=null,R3=!1,Mo=null,B3=0,uf=0,P1=null,I3=-1,L3=0;function Mi(){return Tt&6?Xn():I3!==-1?I3:I3=Xn()}function Eo(u){return u.mode&1?Tt&2&&ni!==0?ni&-ni:oB.transition!==null?(L3===0&&(u=qd,qd<<=1,!(qd&4194240)&&(qd=64),L3=u),L3):(u=Nt,u!==0?u:ye()):1}function pr(u,f,y){if(50<uf)throw uf=0,P1=null,Error(o(185));var M=D3(u,f);return M===null?null:(qu(M,f,y),(!(Tt&2)||M!==Bn)&&(M===Bn&&(!(Tt&2)&&(b3|=f),zn===4&&wo(M,ni)),Li(M,y),f===1&&Tt===0&&!(u.mode&1)&&(ec(),Yd&&us())),M)}function D3(u,f){u.lanes|=f;var y=u.alternate;for(y!==null&&(y.lanes|=f),y=u,u=u.return;u!==null;)u.childLanes|=f,y=u.alternate,y!==null&&(y.childLanes|=f),y=u,u=u.return;return y.tag===3?y.stateNode:null}function Li(u,f){var y=u.callbackNode;QR(u,f);var M=Jd(u,u===Bn?ni:0);if(M===0)y!==null&&E7(y),u.callbackNode=null,u.callbackPriority=0;else if(f=M&-M,u.callbackPriority!==f){if(y!=null&&E7(y),f===1)u.tag===0?sB(Hv.bind(null,u)):w7(Hv.bind(null,u)),He?Ve(function(){Tt===0&&us()}):Om(Um,us),y=null;else{switch(M7(M)){case 1:y=Um;break;case 4:y=tB;break;case 16:y=km;break;case 536870912:y=nB;break;default:y=km}y=Kv(y,kv.bind(null,u))}u.callbackPriority=f,u.callbackNode=y}}function kv(u,f){if(I3=-1,L3=0,Tt&6)throw Error(o(327));var y=u.callbackNode;if(Ba()&&u.callbackNode!==y)return null;var M=Jd(u,u===Bn?ni:0);if(M===0)return null;if(M&30||M&u.expiredLanes||f)f=F3(u,M);else{f=M;var w=Tt;Tt|=2;var b=Vv();(Bn!==u||ni!==f)&&(ec(),Pa(u,f));do try{CB();break}catch(Z){Gv(u,Z)}while(1);Gm(),C3.current=b,Tt=w,In!==null?f=0:(Bn=null,ni=0,f=zn)}if(f!==0){if(f===2&&(w=Dm(u),w!==0&&(M=w,f=R1(u,w))),f===1)throw y=lf,Pa(u,0),wo(u,M),Li(u,Xn()),y;if(f===6)wo(u,M);else{if(w=u.current.alternate,!(M&30)&&!wB(w)&&(f=F3(u,M),f===2&&(b=Dm(u),b!==0&&(M=b,f=R1(u,b))),f===1))throw y=lf,Pa(u,0),wo(u,M),Li(u,Xn()),y;switch(u.finishedWork=w,u.finishedLanes=M,f){case 0:case 1:throw Error(o(345));case 2:Ra(u,Ii);break;case 3:if(wo(u,M),(M&130023424)===M&&(f=T1+500-Xn(),10<f)){if(Jd(u,0)!==0)break;if(w=u.suspendedLanes,(w&M)!==M){Mi(),u.pingedLanes|=u.suspendedLanes&w;break}u.timeoutHandle=Le(Ra.bind(null,u,Ii),f);break}Ra(u,Ii);break;case 4:if(wo(u,M),(M&4194240)===M)break;for(f=u.eventTimes,w=-1;0<M;){var H=31-Or(M);b=1<<H,H=f[H],H>w&&(w=H),M&=~b}if(M=w,M=Xn()-M,M=(120>M?120:480>M?480:1080>M?1080:1920>M?1920:3e3>M?3e3:4320>M?4320:1960*EB(M/1960))-M,10<M){u.timeoutHandle=Le(Ra.bind(null,u,Ii),M);break}Ra(u,Ii);break;case 5:Ra(u,Ii);break;default:throw Error(o(329))}}}return Li(u,Xn()),u.callbackNode===y?kv.bind(null,u):null}function R1(u,f){var y=cf;return u.current.memoizedState.isDehydrated&&(Pa(u,f).flags|=256),u=F3(u,f),u!==2&&(f=Ii,Ii=y,f!==null&&B1(f)),u}function B1(u){Ii===null?Ii=u:Ii.push.apply(Ii,u)}function wB(u){for(var f=u;;){if(f.flags&16384){var y=f.updateQueue;if(y!==null&&(y=y.stores,y!==null))for(var M=0;M<y.length;M++){var w=y[M],b=w.getSnapshot;w=w.value;try{if(!cs(b(),w))return!1}catch{return!1}}}if(y=f.child,f.subtreeFlags&16384&&y!==null)y.return=f,f=y;else{if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function wo(u,f){for(f&=~w1,f&=~b3,u.suspendedLanes|=f,u.pingedLanes&=~f,u=u.expirationTimes;0<f;){var y=31-Or(f),M=1<<y;u[y]=-1,f&=~M}}function Hv(u){if(Tt&6)throw Error(o(327));Ba();var f=Jd(u,0);if(!(f&1))return Li(u,Xn()),null;var y=F3(u,f);if(u.tag!==0&&y===2){var M=Dm(u);M!==0&&(f=M,y=R1(u,M))}if(y===1)throw y=lf,Pa(u,0),wo(u,f),Li(u,Xn()),y;if(y===6)throw Error(o(345));return u.finishedWork=u.current.alternate,u.finishedLanes=f,Ra(u,Ii),Li(u,Xn()),null}function zv(u){Mo!==null&&Mo.tag===0&&!(Tt&6)&&Ba();var f=Tt;Tt|=1;var y=Tn.transition,M=Nt;try{if(Tn.transition=null,Nt=1,u)return u()}finally{Nt=M,Tn.transition=y,Tt=f,!(Tt&6)&&us()}}function I1(){Ki=Zl.current,Gt(Zl)}function Pa(u,f){u.finishedWork=null,u.finishedLanes=0;var y=u.timeoutHandle;if(y!==pt&&(u.timeoutHandle=pt,Xe(y)),In!==null)for(y=In.return;y!==null;){var M=y;switch(Km(M),M.tag){case 1:M=M.type.childContextTypes,M!=null&&xo();break;case 3:Yl(),Gt(Rn),Gt(Hn),n1();break;case 5:e1(M);break;case 4:Yl();break;case 13:Gt(un);break;case 19:Gt(un);break;case 10:Vm(M.type._context);break;case 22:case 23:I1()}y=y.return}if(Bn=u,In=u=To(u.current,null),ni=Ki=f,zn=0,lf=null,w1=b3=$l=0,Ii=cf=null,fs!==null){for(f=0;f<fs.length;f++)if(y=fs[f],M=y.interleaved,M!==null){y.interleaved=null;var w=M.next,b=y.pending;if(b!==null){var H=b.next;b.next=w,M.next=H}y.pending=M}fs=null}return u}function Gv(u,f){do{var y=In;try{if(Gm(),a3.current=d3,l3){for(var M=_n.memoizedState;M!==null;){var w=M.queue;w!==null&&(w.pending=null),M=M.next}l3=!1}if(Ql=0,Jn=ui=_n=null,Zu=!1,$u=0,E1.current=null,y===null||y.return===null){zn=1,lf=f,In=null;break}e:{var b=u,H=y.return,Z=y,le=f;if(f=ni,Z.flags|=32768,le!==null&&typeof le=="object"&&typeof le.then=="function"){var Be=le,Ke=Z,vt=Ke.tag;if(!(Ke.mode&1)&&(vt===0||vt===11||vt===15)){var it=Ke.alternate;it?(Ke.updateQueue=it.updateQueue,Ke.memoizedState=it.memoizedState,Ke.lanes=it.lanes):(Ke.updateQueue=null,Ke.memoizedState=null)}var Xt=cv(H);if(Xt!==null){Xt.flags&=-257,uv(Xt,H,Z,b,f),Xt.mode&1&&lv(b,Be,f),f=Xt,le=Be;var $e=f.updateQueue;if($e===null){var di=new Set;di.add(le),f.updateQueue=di}else $e.add(le);break e}else{if(!(f&1)){lv(b,Be,f),L1();break e}le=Error(o(426))}}else if(sn&&Z.mode&1){var gr=cv(H);if(gr!==null){!(gr.flags&65536)&&(gr.flags|=256),uv(gr,H,Z,b,f),Zm(le);break e}}b=le,zn!==4&&(zn=2),cf===null?cf=[b]:cf.push(b),le=c1(le,Z),Z=H;do{switch(Z.tag){case 3:Z.flags|=65536,f&=-f,Z.lanes|=f;var re=ov(Z,le,f);b7(Z,re);break e;case 1:b=le;var $=Z.type,ae=Z.stateNode;if(!(Z.flags&128)&&(typeof $.getDerivedStateFromError=="function"||ae!==null&&typeof ae.componentDidCatch=="function"&&(So===null||!So.has(ae)))){Z.flags|=65536,f&=-f,Z.lanes|=f;var Ge=av(Z,b,f);b7(Z,Ge);break e}}Z=Z.return}while(Z!==null)}jv(y)}catch(Ze){f=Ze,In===y&&y!==null&&(In=y=y.return);continue}break}while(1)}function Vv(){var u=C3.current;return C3.current=d3,u===null?d3:u}function L1(){(zn===0||zn===3||zn===2)&&(zn=4),Bn===null||!($l&268435455)&&!(b3&268435455)||wo(Bn,ni)}function F3(u,f){var y=Tt;Tt|=2;var M=Vv();Bn===u&&ni===f||Pa(u,f);do try{TB();break}catch(w){Gv(u,w)}while(1);if(Gm(),Tt=y,C3.current=M,In!==null)throw Error(o(261));return Bn=null,ni=0,zn}function TB(){for(;In!==null;)Wv(In)}function CB(){for(;In!==null&&!$R();)Wv(In)}function Wv(u){var f=Jv(u.alternate,u,Ki);u.memoizedProps=u.pendingProps,f===null?jv(u):In=f,E1.current=null}function jv(u){var f=u;do{var y=f.alternate;if(u=f.return,f.flags&32768){if(y=xB(y,f),y!==null){y.flags&=32767,In=y;return}if(u!==null)u.flags|=32768,u.subtreeFlags=0,u.deletions=null;else{zn=6,In=null;return}}else if(y=gB(y,f,Ki),y!==null){In=y;return}if(f=f.sibling,f!==null){In=f;return}In=f=u}while(f!==null);zn===0&&(zn=5)}function Ra(u,f){var y=Nt,M=Tn.transition;try{Tn.transition=null,Nt=1,bB(u,f,y)}finally{Tn.transition=M,Nt=y}return null}function bB(u,f,y){do Ba();while(Mo!==null);if(Tt&6)throw Error(o(327));var M=u.finishedWork,w=u.finishedLanes;if(M===null)return null;if(u.finishedWork=null,u.finishedLanes=0,M===u.current)throw Error(o(177));u.callbackNode=null,u.callbackPriority=0;var b=M.lanes|M.childLanes;if(ZR(u,b),u===Bn&&(In=Bn=null,ni=0),!(M.subtreeFlags&2064)&&!(M.flags&2064)||R3||(R3=!0,Kv(km,function(){return Ba(),null})),b=(M.flags&15990)!==0,M.subtreeFlags&15990||b){b=Tn.transition,Tn.transition=null;var H=Nt;Nt=1;var Z=Tt;Tt|=4,E1.current=null,AB(u,M),SB(u,M),j(u.containerInfo),u.current=M,MB(M),eB(),Tt=Z,Nt=H,Tn.transition=b}else u.current=M;if(R3&&(R3=!1,Mo=u,B3=w),b=u.pendingLanes,b===0&&(So=null),iB(M.stateNode),Li(u,Xn()),f!==null)for(y=u.onRecoverableError,M=0;M<f.length;M++)y(f[M]);if(P3)throw P3=!1,u=b1,b1=null,u;return B3&1&&u.tag!==0&&Ba(),b=u.pendingLanes,b&1?u===P1?uf++:(uf=0,P1=u):uf=0,us(),null}function Ba(){if(Mo!==null){var u=M7(B3),f=Tn.transition,y=Nt;try{if(Tn.transition=null,Nt=16>u?16:u,Mo===null)var M=!1;else{if(u=Mo,Mo=null,B3=0,Tt&6)throw Error(o(331));var w=Tt;for(Tt|=4,ke=u.current;ke!==null;){var b=ke,H=b.child;if(ke.flags&16){var Z=b.deletions;if(Z!==null){for(var le=0;le<Z.length;le++){var Be=Z[le];for(ke=Be;ke!==null;){var Ke=ke;switch(Ke.tag){case 0:case 11:case 15:ba(8,Ke,b)}var vt=Ke.child;if(vt!==null)vt.return=Ke,ke=vt;else for(;ke!==null;){Ke=ke;var it=Ke.sibling,Xt=Ke.return;if(Pv(Ke),Ke===Be){ke=null;break}if(it!==null){it.return=Xt,ke=it;break}ke=Xt}}}var $e=b.alternate;if($e!==null){var di=$e.child;if(di!==null){$e.child=null;do{var gr=di.sibling;di.sibling=null,di=gr}while(di!==null)}}ke=b}}if(b.subtreeFlags&2064&&H!==null)H.return=b,ke=H;else e:for(;ke!==null;){if(b=ke,b.flags&2048)switch(b.tag){case 0:case 11:case 15:ba(9,b,b.return)}var re=b.sibling;if(re!==null){re.return=b.return,ke=re;break e}ke=b.return}}var $=u.current;for(ke=$;ke!==null;){H=ke;var ae=H.child;if(H.subtreeFlags&2064&&ae!==null)ae.return=H,ke=ae;else e:for(H=$;ke!==null;){if(Z=ke,Z.flags&2048)try{switch(Z.tag){case 0:case 11:case 15:of(9,Z)}}catch(Ze){Di(Z,Z.return,Ze)}if(Z===H){ke=null;break e}var Ge=Z.sibling;if(Ge!==null){Ge.return=Z.return,ke=Ge;break e}ke=Z.return}}if(Tt=w,us(),ls&&typeof ls.onPostCommitFiberRoot=="function")try{ls.onPostCommitFiberRoot(Kd,u)}catch{}M=!0}return M}finally{Nt=y,Tn.transition=f}}return!1}function qv(u,f,y){f=c1(y,f),f=ov(u,f,1),Ao(u,f),f=Mi(),u=D3(u,1),u!==null&&(qu(u,1,f),Li(u,f))}function Di(u,f,y){if(u.tag===3)qv(u,u,y);else for(;f!==null;){if(f.tag===3){qv(f,u,y);break}else if(f.tag===1){var M=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof M.componentDidCatch=="function"&&(So===null||!So.has(M))){u=c1(y,u),u=av(f,u,1),Ao(f,u),u=Mi(),f=D3(f,1),f!==null&&(qu(f,1,u),Li(f,u));break}}f=f.return}}function PB(u,f,y){var M=u.pingCache;M!==null&&M.delete(f),f=Mi(),u.pingedLanes|=u.suspendedLanes&y,Bn===u&&(ni&y)===y&&(zn===4||zn===3&&(ni&130023424)===ni&&500>Xn()-T1?Pa(u,0):w1|=y),Li(u,f)}function Xv(u,f){f===0&&(u.mode&1?(f=Xd,Xd<<=1,!(Xd&130023424)&&(Xd=4194304)):f=1);var y=Mi();u=D3(u,f),u!==null&&(qu(u,f,y),Li(u,y))}function RB(u){var f=u.memoizedState,y=0;f!==null&&(y=f.retryLane),Xv(u,y)}function BB(u,f){var y=0;switch(u.tag){case 13:var M=u.stateNode,w=u.memoizedState;w!==null&&(y=w.retryLane);break;case 19:M=u.stateNode;break;default:throw Error(o(314))}M!==null&&M.delete(f),Xv(u,y)}var Jv;Jv=function(u,f,y){if(u!==null)if(u.memoizedProps!==f.pendingProps||Rn.current)Ji=!0;else{if(!(u.lanes&y)&&!(f.flags&128))return Ji=!1,yB(u,f,y);Ji=!!(u.flags&131072)}else Ji=!1,sn&&f.flags&1048576&&D7(f,r3,f.index);switch(f.lanes=0,f.tag){case 2:var M=f.type;u!==null&&(u.alternate=null,f.alternate=null,f.flags|=2),u=f.pendingProps;var w=yn(f,Hn.current);Wl(f,y),w=r1(null,f,M,u,w,y);var b=s1();return f.flags|=1,typeof w=="object"&&w!==null&&typeof w.render=="function"&&w.$$typeof===void 0?(f.tag=1,f.memoizedState=null,f.updateQueue=null,xn(M)?(b=!0,Gl(f)):b=!1,f.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,jm(f),w.updater=n3,f.stateNode=w,w._reactInternals=f,Xm(f,M,u,y),f=h1(null,f,M,!0,b,y)):(f.tag=0,sn&&b&&Jm(f),Si(null,f,w,y),f=f.child),f;case 16:M=f.elementType;e:{switch(u!==null&&(u.alternate=null,f.alternate=null,f.flags|=2),u=f.pendingProps,w=M._init,M=w(M._payload),f.type=M,w=f.tag=LB(M),u=Ur(M,u),w){case 0:f=f1(null,f,M,u,y);break e;case 1:f=yv(null,f,M,u,y);break e;case 11:f=dv(null,f,M,u,y);break e;case 14:f=pv(null,f,M,Ur(M.type,u),y);break e}throw Error(o(306,M,""))}return f;case 0:return M=f.type,w=f.pendingProps,w=f.elementType===M?w:Ur(M,w),f1(u,f,M,w,y);case 1:return M=f.type,w=f.pendingProps,w=f.elementType===M?w:Ur(M,w),yv(u,f,M,w,y);case 3:e:{if(xv(f),u===null)throw Error(o(387));M=f.pendingProps,b=f.memoizedState,w=b.element,C7(u,f),t3(f,M,null,y);var H=f.memoizedState;if(M=H.element,ge&&b.isDehydrated)if(b={element:M,isDehydrated:!1,cache:H.cache,transitions:H.transitions},f.updateQueue.baseState=b,f.memoizedState=b,f.flags&256){w=Error(o(423)),f=_v(u,f,M,y,w);break e}else if(M!==w){w=Error(o(424)),f=_v(u,f,M,y,w);break e}else for(ge&&(Xi=Bm(f.stateNode.containerInfo),qi=f,sn=!0,kr=null,Xu=!1),y=H7(f,null,M,y),f.child=y;y;)y.flags=y.flags&-3|4096,y=y.sibling;else{if(Xl(),M===w){f=zs(u,f,y);break e}Si(u,f,M,y)}f=f.child}return f;case 5:return z7(f),u===null&&Qm(f),M=f.type,w=f.pendingProps,b=u!==null?u.memoizedProps:null,H=w.children,ve(M,w)?H=null:b!==null&&ve(M,b)&&(f.flags|=32),vv(u,f),Si(u,f,H,y),f.child;case 6:return u===null&&Qm(f),null;case 13:return Av(u,f,y);case 4:return $m(f,f.stateNode.containerInfo),M=f.pendingProps,u===null?f.child=Jl(f,null,M,y):Si(u,f,M,y),f.child;case 11:return M=f.type,w=f.pendingProps,w=f.elementType===M?w:Ur(M,w),dv(u,f,M,w,y);case 7:return Si(u,f,f.pendingProps,y),f.child;case 8:return Si(u,f,f.pendingProps.children,y),f.child;case 12:return Si(u,f,f.pendingProps.children,y),f.child;case 10:e:{if(M=f.type._context,w=f.pendingProps,b=f.memoizedProps,H=w.value,T7(f,M,H),b!==null)if(cs(b.value,H)){if(b.children===w.children&&!Rn.current){f=zs(u,f,y);break e}}else for(b=f.child,b!==null&&(b.return=f);b!==null;){var Z=b.dependencies;if(Z!==null){H=b.child;for(var le=Z.firstContext;le!==null;){if(le.context===M){if(b.tag===1){le=Os(-1,y&-y),le.tag=2;var Be=b.updateQueue;if(Be!==null){Be=Be.shared;var Ke=Be.pending;Ke===null?le.next=le:(le.next=Ke.next,Ke.next=le),Be.pending=le}}b.lanes|=y,le=b.alternate,le!==null&&(le.lanes|=y),Wm(b.return,y,f),Z.lanes|=y;break}le=le.next}}else if(b.tag===10)H=b.type===f.type?null:b.child;else if(b.tag===18){if(H=b.return,H===null)throw Error(o(341));H.lanes|=y,Z=H.alternate,Z!==null&&(Z.lanes|=y),Wm(H,y,f),H=b.sibling}else H=b.child;if(H!==null)H.return=b;else for(H=b;H!==null;){if(H===f){H=null;break}if(b=H.sibling,b!==null){b.return=H.return,H=b;break}H=H.return}b=H}Si(u,f,w.children,y),f=f.child}return f;case 9:return w=f.type,M=f.pendingProps.children,Wl(f,y),w=cr(w),M=M(w),f.flags|=1,Si(u,f,M,y),f.child;case 14:return M=f.type,w=Ur(M,f.pendingProps),w=Ur(M.type,w),pv(u,f,M,w,y);case 15:return mv(u,f,f.type,f.pendingProps,y);case 17:return M=f.type,w=f.pendingProps,w=f.elementType===M?w:Ur(M,w),u!==null&&(u.alternate=null,f.alternate=null,f.flags|=2),f.tag=1,xn(M)?(u=!0,Gl(f)):u=!1,Wl(f,y),I7(f,M,w),Xm(f,M,w,y),h1(null,f,M,!0,u,y);case 19:return wv(u,f,y);case 22:return gv(u,f,y)}throw Error(o(156,f.tag))};function Kv(u,f){return Om(u,f)}function IB(u,f,y,M){this.tag=u,this.key=y,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=M,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mr(u,f,y,M){return new IB(u,f,y,M)}function D1(u){return u=u.prototype,!(!u||!u.isReactComponent)}function LB(u){if(typeof u=="function")return D1(u)?1:0;if(u!=null){if(u=u.$$typeof,u===S)return 11;if(u===x)return 14}return 2}function To(u,f){var y=u.alternate;return y===null?(y=mr(u.tag,f,u.key,u.mode),y.elementType=u.elementType,y.type=u.type,y.stateNode=u.stateNode,y.alternate=u,u.alternate=y):(y.pendingProps=f,y.type=u.type,y.flags=0,y.subtreeFlags=0,y.deletions=null),y.flags=u.flags&14680064,y.childLanes=u.childLanes,y.lanes=u.lanes,y.child=u.child,y.memoizedProps=u.memoizedProps,y.memoizedState=u.memoizedState,y.updateQueue=u.updateQueue,f=u.dependencies,y.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},y.sibling=u.sibling,y.index=u.index,y.ref=u.ref,y}function N3(u,f,y,M,w,b){var H=2;if(M=u,typeof u=="function")D1(u)&&(H=1);else if(typeof u=="string")H=5;else e:switch(u){case h:return Ia(y.children,w,b,f);case d:H=8,w|=8;break;case p:return u=mr(12,y,f,w|2),u.elementType=p,u.lanes=b,u;case _:return u=mr(13,y,f,w),u.elementType=_,u.lanes=b,u;case g:return u=mr(19,y,f,w),u.elementType=g,u.lanes=b,u;case E:return O3(y,w,b,f);default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case m:H=10;break e;case v:H=9;break e;case S:H=11;break e;case x:H=14;break e;case A:H=16,M=null;break e}throw Error(o(130,u==null?u:typeof u,""))}return f=mr(H,y,f,w),f.elementType=u,f.type=M,f.lanes=b,f}function Ia(u,f,y,M){return u=mr(7,u,M,f),u.lanes=y,u}function O3(u,f,y,M){return u=mr(22,u,M,f),u.elementType=E,u.lanes=y,u.stateNode={},u}function F1(u,f,y){return u=mr(6,u,null,f),u.lanes=y,u}function N1(u,f,y){return f=mr(4,u.children!==null?u.children:[],u.key,f),f.lanes=y,f.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},f}function DB(u,f,y,M,w){this.tag=f,this.containerInfo=u,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=pt,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fm(0),this.expirationTimes=Fm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fm(0),this.identifierPrefix=M,this.onRecoverableError=w,ge&&(this.mutableSourceEagerHydrationData=null)}function Yv(u,f,y,M,w,b,H,Z,le){return u=new DB(u,f,y,Z,le),f===1?(f=1,b===!0&&(f|=8)):f=0,b=mr(3,null,null,f),u.current=b,b.stateNode=u,b.memoizedState={element:M,isDehydrated:y,cache:null,transitions:null},jm(b),u}function Qv(u){if(!u)return li;u=u._reactInternals;e:{if(P(u)!==u||u.tag!==1)throw Error(o(170));var f=u;do{switch(f.tag){case 3:f=f.stateNode.context;break e;case 1:if(xn(f.type)){f=f.stateNode.__reactInternalMemoizedMergedChildContext;break e}}f=f.return}while(f!==null);throw Error(o(171))}if(u.tag===1){var y=u.type;if(xn(y))return zl(u,y,f)}return f}function Zv(u){var f=u._reactInternals;if(f===void 0)throw typeof u.render=="function"?Error(o(188)):(u=Object.keys(u).join(","),Error(o(268,u)));return u=Y(f),u===null?null:u.stateNode}function $v(u,f){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var y=u.retryLane;u.retryLane=y!==0&&y<f?y:f}}function O1(u,f){$v(u,f),(u=u.alternate)&&$v(u,f)}function FB(u){return u=Y(u),u===null?null:u.stateNode}function NB(){return null}return t.attemptContinuousHydration=function(u){if(u.tag===13){var f=Mi();pr(u,134217728,f),O1(u,134217728)}},t.attemptHydrationAtCurrentPriority=function(u){if(u.tag===13){var f=Mi(),y=Eo(u);pr(u,y,f),O1(u,y)}},t.attemptSynchronousHydration=function(u){switch(u.tag){case 3:var f=u.stateNode;if(f.current.memoizedState.isDehydrated){var y=ju(f.pendingLanes);y!==0&&(Nm(f,y|1),Li(f,Xn()),!(Tt&6)&&(ec(),us()))}break;case 13:var M=Mi();zv(function(){return pr(u,1,M)}),O1(u,1)}},t.batchedUpdates=function(u,f){var y=Tt;Tt|=1;try{return u(f)}finally{Tt=y,Tt===0&&(ec(),Yd&&us())}},t.createComponentSelector=function(u){return{$$typeof:S3,value:u}},t.createContainer=function(u,f,y,M,w,b,H){return Yv(u,f,!1,null,y,M,w,b,H)},t.createHasPseudoClassSelector=function(u){return{$$typeof:M3,value:u}},t.createHydrationContainer=function(u,f,y,M,w,b,H,Z,le){return u=Yv(y,M,!0,u,w,b,H,Z,le),u.context=Qv(null),y=u.current,M=Mi(),w=Eo(y),b=Os(M,w),b.callback=f??null,Ao(y,b),u.current.lanes=w,qu(u,w,M),Li(u,M),u},t.createPortal=function(u,f,y){var M=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:M==null?null:""+M,children:u,containerInfo:f,implementation:y}},t.createRoleSelector=function(u){return{$$typeof:E3,value:u}},t.createTestNameSelector=function(u){return{$$typeof:w3,value:u}},t.createTextSelector=function(u){return{$$typeof:T3,value:u}},t.deferredUpdates=function(u){var f=Nt,y=Tn.transition;try{return Tn.transition=null,Nt=16,u()}finally{Nt=f,Tn.transition=y}},t.discreteUpdates=function(u,f,y,M,w){var b=Nt,H=Tn.transition;try{return Tn.transition=null,Nt=1,u(f,y,M,w)}finally{Nt=b,Tn.transition=H,Tt===0&&ec()}},t.findAllNodes=M1,t.findBoundingRects=function(u,f){if(!et)throw Error(o(363));f=M1(u,f),u=[];for(var y=0;y<f.length;y++)u.push(Ht(f[y]));for(f=u.length-1;0<f;f--){y=u[f];for(var M=y.x,w=M+y.width,b=y.y,H=b+y.height,Z=f-1;0<=Z;Z--)if(f!==Z){var le=u[Z],Be=le.x,Ke=Be+le.width,vt=le.y,it=vt+le.height;if(M>=Be&&b>=vt&&w<=Ke&&H<=it){u.splice(f,1);break}else if(M!==Be||y.width!==le.width||it<b||vt>H){if(!(b!==vt||y.height!==le.height||Ke<M||Be>w)){Be>M&&(le.width+=Be-M,le.x=M),Ke<w&&(le.width=w-Be),u.splice(f,1);break}}else{vt>b&&(le.height+=vt-b,le.y=b),it<H&&(le.height=H-vt),u.splice(f,1);break}}}return u},t.findHostInstance=Zv,t.findHostInstanceWithNoPortals=function(u){return u=U(u),u=u!==null?V(u):null,u===null?null:u.stateNode},t.findHostInstanceWithWarning=function(u){return Zv(u)},t.flushControlled=function(u){var f=Tt;Tt|=1;var y=Tn.transition,M=Nt;try{Tn.transition=null,Nt=1,u()}finally{Nt=M,Tn.transition=y,Tt=f,Tt===0&&(ec(),us())}},t.flushPassiveEffects=Ba,t.flushSync=zv,t.focusWithin=function(u,f){if(!et)throw Error(o(363));for(u=_1(u),f=Uv(u,f),f=Array.from(f),u=0;u<f.length;){var y=f[u++];if(!L(y)){if(y.tag===5&&Te(y.stateNode))return!0;for(y=y.child;y!==null;)f.push(y),y=y.sibling}}return!1},t.getCurrentUpdatePriority=function(){return Nt},t.getFindAllNodesFailureDescription=function(u,f){if(!et)throw Error(o(363));var y=0,M=[];u=[_1(u),0];for(var w=0;w<u.length;){var b=u[w++],H=u[w++],Z=f[H];if((b.tag!==5||!L(b))&&(A1(b,Z)&&(M.push(S1(Z)),H++,H>y&&(y=H)),H<f.length))for(b=b.child;b!==null;)u.push(b,H),b=b.sibling}if(y<f.length){for(u=[];y<f.length;y++)u.push(S1(f[y]));return`findAllNodes was able to match part of the selector:
  `+(M.join(" > ")+`

No matching component was found for:
  `)+u.join(" > ")}return null},t.getPublicRootInstance=function(u){if(u=u.current,!u.child)return null;switch(u.child.tag){case 5:return ne(u.child.stateNode);default:return u.child.stateNode}},t.injectIntoDevTools=function(u){if(u={bundleType:u.bundleType,version:u.version,rendererPackageName:u.rendererPackageName,rendererConfig:u.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:FB,findFiberByHostInstance:u.findFiberByHostInstance||NB,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")u=!1;else{var f=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(f.isDisabled||!f.supportsFiber)u=!0;else{try{Kd=f.inject(u),ls=f}catch{}u=!!f.checkDCE}}return u},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(u,f,y,M){if(!et)throw Error(o(363));u=M1(u,f);var w=xe(u,y,M).disconnect;return{disconnect:function(){w()}}},t.registerMutableSourceForHydration=function(u,f){var y=f._getVersion;y=y(f._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[f,y]:u.mutableSourceEagerHydrationData.push(f,y)},t.runWithPriority=function(u,f){var y=Nt;try{return Nt=u,f()}finally{Nt=y}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(u,f,y,M){var w=f.current,b=Mi(),H=Eo(w);return y=Qv(y),f.context===null?f.context=y:f.pendingContext=y,f=Os(b,H),f.payload={element:u},M=M===void 0?null:M,M!==null&&(f.callback=M),Ao(w,f),u=pr(w,H,b),u!==null&&e3(u,w,H),H},t};SP.exports=UX;var kX=SP.exports;const HX=z8(kX);var MP={exports:{}},EP={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(D,W){var j=D.length;D.push(W);e:for(;0<j;){var N=j-1>>>1,X=D[N];if(0<r(X,W))D[N]=W,D[j]=X,j=N;else break e}}function t(D){return D.length===0?null:D[0]}function i(D){if(D.length===0)return null;var W=D[0],j=D.pop();if(j!==W){D[0]=j;e:for(var N=0,X=D.length,ce=X>>>1;N<ce;){var me=2*(N+1)-1,ve=D[me],Pe=me+1,Le=D[Pe];if(0>r(ve,j))Pe<X&&0>r(Le,ve)?(D[N]=Le,D[Pe]=j,N=Pe):(D[N]=ve,D[me]=j,N=me);else if(Pe<X&&0>r(Le,j))D[N]=Le,D[Pe]=j,N=Pe;else break e}}return W}function r(D,W){var j=D.sortIndex-W.sortIndex;return j!==0?j:D.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],h=1,d=null,p=3,m=!1,v=!1,S=!1,_=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(D){for(var W=t(c);W!==null;){if(W.callback===null)i(c);else if(W.startTime<=D)i(c),W.sortIndex=W.expirationTime,e(l,W);else break;W=t(c)}}function E(D){if(S=!1,A(D),!v)if(t(l)!==null)v=!0,ne(T);else{var W=t(c);W!==null&&te(E,W.startTime-D)}}function T(D,W){v=!1,S&&(S=!1,g(I),I=-1),m=!0;var j=p;try{for(A(W),d=t(l);d!==null&&(!(d.expirationTime>W)||D&&!U());){var N=d.callback;if(typeof N=="function"){d.callback=null,p=d.priorityLevel;var X=N(d.expirationTime<=W);W=n.unstable_now(),typeof X=="function"?d.callback=X:d===t(l)&&i(l),A(W)}else i(l);d=t(l)}if(d!==null)var ce=!0;else{var me=t(c);me!==null&&te(E,me.startTime-W),ce=!1}return ce}finally{d=null,p=j,m=!1}}var C=!1,R=null,I=-1,P=5,B=-1;function U(){return!(n.unstable_now()-B<P)}function Y(){if(R!==null){var D=n.unstable_now();B=D;var W=!0;try{W=R(!0,D)}finally{W?ee():(C=!1,R=null)}}else C=!1}var ee;if(typeof x=="function")ee=function(){x(Y)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,Q=V.port2;V.port1.onmessage=Y,ee=function(){Q.postMessage(null)}}else ee=function(){_(Y,0)};function ne(D){R=D,C||(C=!0,ee())}function te(D,W){I=_(function(){D(n.unstable_now())},W)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(D){D.callback=null},n.unstable_continueExecution=function(){v||m||(v=!0,ne(T))},n.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<D?Math.floor(1e3/D):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(D){switch(p){case 1:case 2:case 3:var W=3;break;default:W=p}var j=p;p=W;try{return D()}finally{p=j}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(D,W){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var j=p;p=D;try{return W()}finally{p=j}},n.unstable_scheduleCallback=function(D,W,j){var N=n.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?N+j:N):j=N,D){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=j+X,D={id:h++,callback:W,priorityLevel:D,startTime:j,expirationTime:X,sortIndex:-1},j>N?(D.sortIndex=j,e(c,D),t(l)===null&&D===t(c)&&(S?(g(I),I=-1):S=!0,te(E,j-N))):(D.sortIndex=X,e(l,D),v||m||(v=!0,ne(T))),D},n.unstable_shouldYield=U,n.unstable_wrapCallback=function(D){var W=p;return function(){var j=p;p=W;try{return D.apply(this,arguments)}finally{p=j}}}})(EP);MP.exports=EP;var nS=MP.exports;const zX=n=>typeof n=="object"&&typeof n.then=="function",ul=[];function wP(n,e,t=(i,r)=>i===r){if(n===e)return!0;if(!n||!e)return!1;const i=n.length;if(e.length!==i)return!1;for(let r=0;r<i;r++)if(!t(n[r],e[r]))return!1;return!0}function TP(n,e=null,t=!1,i={}){e===null&&(e=[n]);for(const s of ul)if(wP(e,s.keys,s.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return i.lifespan&&i.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,i.lifespan)),s.response;if(!t)throw s.promise}const r={keys:e,equal:i.equal,remove:()=>{const s=ul.indexOf(r);s!==-1&&ul.splice(s,1)},promise:(zX(n)?n:n(...e)).then(s=>{r.response=s,i.lifespan&&i.lifespan>0&&(r.timeout=setTimeout(r.remove,i.lifespan))}).catch(s=>r.error=s)};if(ul.push(r),!t)throw r.promise}const CP=(n,e,t)=>TP(n,e,!1,t),bP=(n,e,t)=>void TP(n,e,!0,t),PP=n=>{if(n===void 0||n.length===0)ul.splice(0,ul.length);else{const e=ul.find(t=>wP(n,t.keys,t.equal));e&&e.remove()}},e7={},RP=n=>void Object.assign(e7,n);function GX(n,e){function t(h,{args:d=[],attach:p,...m},v){let S=`${h[0].toUpperCase()}${h.slice(1)}`,_;if(h==="primitive"){if(m.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const g=m.object;_=Pc(g,{type:h,root:v,attach:p,primitive:!0})}else{const g=e7[S];if(!g)throw new Error(`R3F: ${S} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(d))throw new Error("R3F: The args prop must be an array!");_=Pc(new g(...d),{type:h,root:v,attach:p,memoizedProps:{args:d}})}return _.__r3f.attach===void 0&&(_ instanceof _t?_.__r3f.attach="geometry":_ instanceof On&&(_.__r3f.attach="material")),S!=="inject"&&a6(_,m),_}function i(h,d){let p=!1;if(d){var m,v;(m=d.__r3f)!=null&&m.attach?o6(h,d,d.__r3f.attach):d.isObject3D&&h.isObject3D&&(h.add(d),p=!0),p||(v=h.__r3f)==null||v.objects.push(d),d.__r3f||Pc(d,{}),d.__r3f.parent=h,M8(d),Rc(d)}}function r(h,d,p){let m=!1;if(d){var v,S;if((v=d.__r3f)!=null&&v.attach)o6(h,d,d.__r3f.attach);else if(d.isObject3D&&h.isObject3D){d.parent=h,d.dispatchEvent({type:"added"});const _=h.children.filter(x=>x!==d),g=_.indexOf(p);h.children=[..._.slice(0,g),d,..._.slice(g)],m=!0}m||(S=h.__r3f)==null||S.objects.push(d),d.__r3f||Pc(d,{}),d.__r3f.parent=h,M8(d),Rc(d)}}function s(h,d,p=!1){h&&[...h].forEach(m=>o(d,m,p))}function o(h,d,p){if(d){var m,v,S;if(d.__r3f&&(d.__r3f.parent=null),(m=h.__r3f)!=null&&m.objects&&(h.__r3f.objects=h.__r3f.objects.filter(E=>E!==d)),(v=d.__r3f)!=null&&v.attach)aS(h,d,d.__r3f.attach);else if(d.isObject3D&&h.isObject3D){var _;h.remove(d),(_=d.__r3f)!=null&&_.root&&YX(d.__r3f.root,d)}const x=(S=d.__r3f)==null?void 0:S.primitive,A=p===void 0?d.dispose!==null&&!x:p;if(!x){var g;s((g=d.__r3f)==null?void 0:g.objects,d,A),s(d.children,d,A)}delete d.__r3f,A&&d.dispose&&d.type!=="Scene"&&nS.unstable_scheduleCallback(nS.unstable_IdlePriority,()=>{try{d.dispose()}catch{}}),Rc(h)}}function a(h,d,p,m){var v;const S=(v=h.__r3f)==null?void 0:v.parent;if(!S)return;const _=t(d,p,h.__r3f.root);if(h.children){for(const g of h.children)g.__r3f&&i(_,g);h.children=h.children.filter(g=>!g.__r3f)}h.__r3f.objects.forEach(g=>i(_,g)),h.__r3f.objects=[],h.__r3f.autoRemovedBeforeAppend||o(S,h),_.parent&&(_.__r3f.autoRemovedBeforeAppend=!0),i(S,_),_.raycast&&_.__r3f.eventCount&&_.__r3f.root.getState().internal.interaction.push(_),[m,m.alternate].forEach(g=>{g!==null&&(g.stateNode=_,g.ref&&(typeof g.ref=="function"?g.ref(_):g.ref.current=_))})}const l=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:HX({createInstance:t,removeChild:o,appendChild:i,appendInitialChild:i,insertBefore:r,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(h,d)=>{if(!d)return;const p=h.getState().scene;p.__r3f&&(p.__r3f.root=h,i(p,d))},removeChildFromContainer:(h,d)=>{d&&o(h.getState().scene,d)},insertInContainerBefore:(h,d,p)=>{if(!d||!p)return;const m=h.getState().scene;m.__r3f&&r(m,d,p)},getRootHostContext:()=>null,getChildHostContext:h=>h,finalizeInitialChildren(h){var d;return!!((d=h==null?void 0:h.__r3f)!=null?d:{}).handlers},prepareUpdate(h,d,p,m){var v;if(((v=h==null?void 0:h.__r3f)!=null?v:{}).primitive&&m.object&&m.object!==h)return[!0];{const{args:_=[],children:g,...x}=m,{args:A=[],children:E,...T}=p;if(!Array.isArray(_))throw new Error("R3F: the args prop must be an array!");if(_.some((R,I)=>R!==A[I]))return[!0];const C=OP(h,x,T,!0);return C.changes.length?[!1,C]:null}},commitUpdate(h,[d,p],m,v,S,_){d?a(h,m,S,_):a6(h,p)},commitMount(h,d,p,m){var v;const S=(v=h.__r3f)!=null?v:{};h.raycast&&S.handlers&&S.eventCount&&h.__r3f.root.getState().internal.interaction.push(h)},getPublicInstance:h=>h,prepareForCommit:()=>null,preparePortalMount:h=>Pc(h.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(h){var d;const{attach:p,parent:m}=(d=h.__r3f)!=null?d:{};p&&m&&aS(m,h,p),h.isObject3D&&(h.visible=!1),Rc(h)},unhideInstance(h,d){var p;const{attach:m,parent:v}=(p=h.__r3f)!=null?p:{};m&&v&&o6(v,h,m),(h.isObject3D&&d.visible==null||d.visible)&&(h.visible=!0),Rc(h)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():Zc.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&en.fun(performance.now)?performance.now:en.fun(Date.now)?Date.now:()=>0,scheduleTimeout:en.fun(setTimeout)?setTimeout:void 0,cancelTimeout:en.fun(clearTimeout)?clearTimeout:void 0}),applyProps:a6}}var iS,rS;const s6=n=>"colorSpace"in n||"outputColorSpace"in n,BP=()=>{var n;return(n=e7.ColorManagement)!=null?n:null},IP=n=>n&&n.isOrthographicCamera,VX=n=>n&&n.hasOwnProperty("current"),Id=typeof window<"u"&&((iS=window.document)!=null&&iS.createElement||((rS=window.navigator)==null?void 0:rS.product)==="ReactNative")?k.useLayoutEffect:k.useEffect;function LP(n){const e=k.useRef(n);return Id(()=>void(e.current=n),[n]),e}function WX({set:n}){return Id(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}class DP extends k.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}DP.getDerivedStateFromError=()=>({error:!0});const FP="__default",sS=new Map,jX=n=>n&&!!n.memoized&&!!n.changes;function NP(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}const If=n=>{var e;return(e=n.__r3f)==null?void 0:e.root.getState()},en={obj:n=>n===Object(n)&&!en.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:i="reference",strict:r=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(en.str(n)||en.num(n))return n===e;const s=en.obj(n);if(s&&i==="reference")return n===e;const o=en.arr(n);if(o&&t==="reference")return n===e;if((o||s)&&n===e)return!0;let a;for(a in n)if(!(a in e))return!1;if(s&&t==="shallow"&&i==="shallow"){for(a in r?e:n)if(!en.equ(n[a],e[a],{strict:r,objects:"reference"}))return!1}else for(a in r?e:n)if(n[a]!==e[a])return!1;if(en.und(a)){if(o&&n.length===0&&e.length===0||s&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function qX(n){const e={nodes:{},materials:{}};return n&&n.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material)}),e}function XX(n){n.dispose&&n.type!=="Scene"&&n.dispose();for(const e in n)e.dispose==null||e.dispose(),delete n[e]}function Pc(n,e){const t=n;return t.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},n}function S8(n,e){let t=n;if(e.includes("-")){const i=e.split("-"),r=i.pop();return t=i.reduce((s,o)=>s[o],n),{target:t,key:r}}else return{target:t,key:e}}const oS=/-\d+$/;function o6(n,e,t){if(en.str(t)){if(oS.test(t)){const s=t.replace(oS,""),{target:o,key:a}=S8(n,s);Array.isArray(o[a])||(o[a]=[])}const{target:i,key:r}=S8(n,t);e.__r3f.previousAttach=i[r],i[r]=e}else e.__r3f.previousAttach=t(n,e)}function aS(n,e,t){var i,r;if(en.str(t)){const{target:s,key:o}=S8(n,t),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(i=e.__r3f)==null||i.previousAttach==null||i.previousAttach(n,e);(r=e.__r3f)==null||delete r.previousAttach}function OP(n,{children:e,key:t,ref:i,...r},{children:s,key:o,ref:a,...l}={},c=!1){var h;const d=(h=n==null?void 0:n.__r3f)!=null?h:{},p=Object.entries(r),m=[];if(c){const S=Object.keys(l);for(let _=0;_<S.length;_++)r.hasOwnProperty(S[_])||p.unshift([S[_],FP+"remove"])}p.forEach(([S,_])=>{var g;if((g=n.__r3f)!=null&&g.primitive&&S==="object"||en.equ(_,l[S]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(S))return m.push([S,_,!0,[]]);let x=[];S.includes("-")&&(x=S.split("-")),m.push([S,_,!1,x]);for(const A in r){const E=r[A];A.startsWith(`${S}-`)&&m.push([A,E,!1,A.split("-")])}});const v={...r};return d.memoizedProps&&d.memoizedProps.args&&(v.args=d.memoizedProps.args),d.memoizedProps&&d.memoizedProps.attach&&(v.attach=d.memoizedProps.attach),{memoized:v,changes:m}}function a6(n,e){var t,i,r;const s=(t=n.__r3f)!=null?t:{},o=s.root,a=(i=o==null||o.getState==null?void 0:o.getState())!=null?i:{},{memoized:l,changes:c}=jX(e)?e:OP(n,e),h=s.eventCount;n.__r3f&&(n.__r3f.memoizedProps=l);for(let p=0;p<c.length;p++){let[m,v,S,_]=c[p];if(s6(n)){const E="srgb",T="srgb-linear";m==="encoding"?(m="colorSpace",v=v===3001?E:T):m==="outputEncoding"&&(m="outputColorSpace",v=v===3001?E:T)}let g=n,x=g[m];if(_.length&&(x=_.reduce((A,E)=>A[E],n),!(x&&x.set))){const[A,...E]=_.reverse();g=E.reverse().reduce((T,C)=>T[C],n),m=A}if(v===FP+"remove")if(g.constructor){let A=sS.get(g.constructor);A||(A=new g.constructor,sS.set(g.constructor,A)),v=A[m]}else v=0;if(S)v?s.handlers[m]=v:delete s.handlers[m],s.eventCount=Object.keys(s.handlers).length;else if(x&&x.set&&(x.copy||x instanceof gl)){if(Array.isArray(v))x.fromArray?x.fromArray(v):x.set(...v);else if(x.copy&&v&&v.constructor&&x.constructor===v.constructor)x.copy(v);else if(v!==void 0){const A=x instanceof ze;!A&&x.setScalar?x.setScalar(v):x instanceof gl&&v instanceof gl?x.mask=v.mask:x.set(v),!BP()&&!a.linear&&A&&x.convertSRGBToLinear()}}else if(g[m]=v,g[m]instanceof ln&&g[m].format===Ui&&g[m].type===Cs){const A=g[m];s6(A)&&s6(a.gl)?A.colorSpace=a.gl.outputColorSpace:A.encoding=a.gl.outputEncoding}Rc(n)}if(s.parent&&a.internal&&n.raycast&&h!==s.eventCount){const p=a.internal.interaction.indexOf(n);p>-1&&a.internal.interaction.splice(p,1),s.eventCount&&a.internal.interaction.push(n)}return!(c.length===1&&c[0][0]==="onUpdate")&&c.length&&(r=n.__r3f)!=null&&r.parent&&M8(n),n}function Rc(n){var e,t;const i=(e=n.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();i&&i.internal.frames===0&&i.invalidate()}function M8(n){n.onUpdate==null||n.onUpdate(n)}function JX(n,e){n.manual||(IP(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix(),n.updateMatrixWorld())}function X0(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function KX(){var n;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return Zc.DefaultEventPriority;switch((n=e.event)==null?void 0:n.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Zc.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Zc.ContinuousEventPriority;default:return Zc.DefaultEventPriority}}function UP(n,e,t,i){const r=t.get(e);r&&(t.delete(e),t.size===0&&(n.delete(i),r.target.releasePointerCapture(i)))}function YX(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(i=>i!==e),t.initialHits=t.initialHits.filter(i=>i!==e),t.hovered.forEach((i,r)=>{(i.eventObject===e||i.object===e)&&t.hovered.delete(r)}),t.capturedMap.forEach((i,r)=>{UP(t.capturedMap,e,i,r)})}function QX(n){function e(l){const{internal:c}=n.getState(),h=l.offsetX-c.initialClick[0],d=l.offsetY-c.initialClick[1];return Math.round(Math.sqrt(h*h+d*d))}function t(l){return l.filter(c=>["Move","Over","Enter","Out","Leave"].some(h=>{var d;return(d=c.__r3f)==null?void 0:d.handlers["onPointer"+h]}))}function i(l,c){const h=n.getState(),d=new Set,p=[],m=c?c(h.internal.interaction):h.internal.interaction;for(let g=0;g<m.length;g++){const x=If(m[g]);x&&(x.raycaster.camera=void 0)}h.previousRoot||h.events.compute==null||h.events.compute(l,h);function v(g){const x=If(g);if(!x||!x.events.enabled||x.raycaster.camera===null)return[];if(x.raycaster.camera===void 0){var A;x.events.compute==null||x.events.compute(l,x,(A=x.previousRoot)==null?void 0:A.getState()),x.raycaster.camera===void 0&&(x.raycaster.camera=null)}return x.raycaster.camera?x.raycaster.intersectObject(g,!0):[]}let S=m.flatMap(v).sort((g,x)=>{const A=If(g.object),E=If(x.object);return!A||!E?g.distance-x.distance:E.events.priority-A.events.priority||g.distance-x.distance}).filter(g=>{const x=X0(g);return d.has(x)?!1:(d.add(x),!0)});h.events.filter&&(S=h.events.filter(S,h));for(const g of S){let x=g.object;for(;x;){var _;(_=x.__r3f)!=null&&_.eventCount&&p.push({...g,eventObject:x}),x=x.parent}}if("pointerId"in l&&h.internal.capturedMap.has(l.pointerId))for(let g of h.internal.capturedMap.get(l.pointerId).values())d.has(X0(g.intersection))||p.push(g.intersection);return p}function r(l,c,h,d){const p=n.getState();if(l.length){const m={stopped:!1};for(const v of l){const S=If(v.object)||p,{raycaster:_,pointer:g,camera:x,internal:A}=S,E=new F(g.x,g.y,0).unproject(x),T=B=>{var U,Y;return(U=(Y=A.capturedMap.get(B))==null?void 0:Y.has(v.eventObject))!=null?U:!1},C=B=>{const U={intersection:v,target:c.target};A.capturedMap.has(B)?A.capturedMap.get(B).set(v.eventObject,U):A.capturedMap.set(B,new Map([[v.eventObject,U]])),c.target.setPointerCapture(B)},R=B=>{const U=A.capturedMap.get(B);U&&UP(A.capturedMap,v.eventObject,U,B)};let I={};for(let B in c){let U=c[B];typeof U!="function"&&(I[B]=U)}let P={...v,...I,pointer:g,intersections:l,stopped:m.stopped,delta:h,unprojectedPoint:E,ray:_.ray,camera:x,stopPropagation(){const B="pointerId"in c&&A.capturedMap.get(c.pointerId);if((!B||B.has(v.eventObject))&&(P.stopped=m.stopped=!0,A.hovered.size&&Array.from(A.hovered.values()).find(U=>U.eventObject===v.eventObject))){const U=l.slice(0,l.indexOf(v));s([...U,v])}},target:{hasPointerCapture:T,setPointerCapture:C,releasePointerCapture:R},currentTarget:{hasPointerCapture:T,setPointerCapture:C,releasePointerCapture:R},nativeEvent:c};if(d(P),m.stopped===!0)break}}return l}function s(l){const{internal:c}=n.getState();for(const h of c.hovered.values())if(!l.length||!l.find(d=>d.object===h.object&&d.index===h.index&&d.instanceId===h.instanceId)){const p=h.eventObject.__r3f,m=p==null?void 0:p.handlers;if(c.hovered.delete(X0(h)),p!=null&&p.eventCount){const v={...h,intersections:l};m.onPointerOut==null||m.onPointerOut(v),m.onPointerLeave==null||m.onPointerLeave(v)}}}function o(l,c){for(let h=0;h<c.length;h++){const d=c[h].__r3f;d==null||d.handlers.onPointerMissed==null||d.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return c=>{const{internal:h}=n.getState();"pointerId"in c&&h.capturedMap.has(c.pointerId)&&requestAnimationFrame(()=>{h.capturedMap.has(c.pointerId)&&(h.capturedMap.delete(c.pointerId),s([]))})}}return function(h){const{onPointerMissed:d,internal:p}=n.getState();p.lastEvent.current=h;const m=l==="onPointerMove",v=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",_=i(h,m?t:void 0),g=v?e(h):0;l==="onPointerDown"&&(p.initialClick=[h.offsetX,h.offsetY],p.initialHits=_.map(A=>A.eventObject)),v&&!_.length&&g<=2&&(o(h,p.interaction),d&&d(h)),m&&s(_);function x(A){const E=A.eventObject,T=E.__r3f,C=T==null?void 0:T.handlers;if(T!=null&&T.eventCount)if(m){if(C.onPointerOver||C.onPointerEnter||C.onPointerOut||C.onPointerLeave){const R=X0(A),I=p.hovered.get(R);I?I.stopped&&A.stopPropagation():(p.hovered.set(R,A),C.onPointerOver==null||C.onPointerOver(A),C.onPointerEnter==null||C.onPointerEnter(A))}C.onPointerMove==null||C.onPointerMove(A)}else{const R=C[l];R?(!v||p.initialHits.includes(E))&&(o(h,p.interaction.filter(I=>!p.initialHits.includes(I))),R(A)):v&&p.initialHits.includes(E)&&o(h,p.interaction.filter(I=>!p.initialHits.includes(I)))}}r(_,h,g,x)}}return{handlePointer:a}}const kP=n=>!!(n!=null&&n.render),HP=k.createContext(null),ZX=(n,e)=>{const t=AP((a,l)=>{const c=new F,h=new F,d=new F;function p(g=l().camera,x=h,A=l().size){const{width:E,height:T,top:C,left:R}=A,I=E/T;x instanceof F?d.copy(x):d.set(...x);const P=g.getWorldPosition(c).distanceTo(d);if(IP(g))return{width:E/g.zoom,height:T/g.zoom,top:C,left:R,factor:1,distance:P,aspect:I};{const B=g.fov*Math.PI/180,U=2*Math.tan(B/2)*P,Y=U*(E/T);return{width:Y,height:U,top:C,left:R,factor:E/Y,distance:P,aspect:I}}}let m;const v=g=>a(x=>({performance:{...x.performance,current:g}})),S=new de;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(g=1)=>n(l(),g),advance:(g,x)=>e(g,x,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new Y9,pointer:S,mouse:S,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const g=l();m&&clearTimeout(m),g.performance.current!==g.performance.min&&v(g.performance.min),m=setTimeout(()=>v(l().performance.max),g.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:p},setEvents:g=>a(x=>({...x,events:{...x.events,...g}})),setSize:(g,x,A,E,T)=>{const C=l().camera,R={width:g,height:x,top:E||0,left:T||0,updateStyle:A};a(I=>({size:R,viewport:{...I.viewport,...p(C,h,R)}}))},setDpr:g=>a(x=>{const A=NP(g);return{viewport:{...x.viewport,dpr:A,initialDpr:x.viewport.initialDpr||A}}}),setFrameloop:(g="always")=>{const x=l().clock;x.stop(),x.elapsedTime=0,g!=="never"&&(x.start(),x.elapsedTime=0),a(()=>({frameloop:g}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:k.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(g,x,A)=>{const E=l().internal;return E.priority=E.priority+(x>0?1:0),E.subscribers.push({ref:g,priority:x,store:A}),E.subscribers=E.subscribers.sort((T,C)=>T.priority-C.priority),()=>{const T=l().internal;T!=null&&T.subscribers&&(T.priority=T.priority-(x>0?1:0),T.subscribers=T.subscribers.filter(C=>C.ref!==g))}}}}}),i=t.getState();let r=i.size,s=i.viewport.dpr,o=i.camera;return t.subscribe(()=>{const{camera:a,size:l,viewport:c,gl:h,set:d}=t.getState();if(l!==r||c.dpr!==s){var p;r=l,s=c.dpr,JX(a,l),h.setPixelRatio(c.dpr);const m=(p=l.updateStyle)!=null?p:typeof HTMLCanvasElement<"u"&&h.domElement instanceof HTMLCanvasElement;h.setSize(l.width,l.height,m)}a!==o&&(o=a,d(m=>({viewport:{...m.viewport,...m.viewport.getCurrentViewport(a)}})))}),t.subscribe(a=>n(a)),t};function $X(n,e){const t={callback:n};return e.add(t),()=>void e.delete(t)}let J0,zP=new Set,eJ=new Set,tJ=new Set;const nJ=n=>$X(n,zP);function l6(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function Lf(n,e){switch(n){case"before":return l6(zP,e);case"after":return l6(eJ,e);case"tail":return l6(tJ,e)}}let c6,u6;function f6(n,e,t){let i=e.clock.getDelta();for(e.frameloop==="never"&&typeof n=="number"&&(i=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),c6=e.internal.subscribers,J0=0;J0<c6.length;J0++)u6=c6[J0],u6.ref.current(u6.store.getState(),i,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function iJ(n){let e=!1,t,i,r;function s(l){i=requestAnimationFrame(s),e=!0,t=0,Lf("before",l);for(const h of n.values()){var c;r=h.store.getState(),r.internal.active&&(r.frameloop==="always"||r.internal.frames>0)&&!((c=r.gl.xr)!=null&&c.isPresenting)&&(t+=f6(l,r))}if(Lf("after",l),t===0)return Lf("tail",l),e=!1,cancelAnimationFrame(i)}function o(l,c=1){var h;if(!l)return n.forEach(d=>o(d.store.getState()),c);(h=l.gl.xr)!=null&&h.isPresenting||!l.internal.active||l.frameloop==="never"||(l.internal.frames=Math.min(60,l.internal.frames+c),e||(e=!0,requestAnimationFrame(s)))}function a(l,c=!0,h,d){if(c&&Lf("before",l),h)f6(l,h,d);else for(const p of n.values())f6(l,p.store.getState());c&&Lf("after",l)}return{loop:s,invalidate:o,advance:a}}function GP(){const n=k.useContext(HP);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function Ar(n=t=>t,e){return GP()(n,e)}function Ld(n,e=0){const t=GP(),i=t.getState().internal.subscribe,r=LP(n);return Id(()=>i(r,e,t),[e,i,t]),null}const lS=new WeakMap;function VP(n,e){return function(t,...i){let r=lS.get(t);return r||(r=new t,lS.set(t,r)),n&&n(r),Promise.all(i.map(s=>new Promise((o,a)=>r.load(s,l=>{l.scene&&Object.assign(l,qX(l.scene)),o(l)},e,l=>a(new Error(`Could not load ${s}: ${l==null?void 0:l.message}`)))))).finally(()=>r.dispose==null?void 0:r.dispose())}}function Dd(n,e,t,i){const r=Array.isArray(e)?e:[e],s=CP(VP(t,i),[n,...r],{equal:en.equ});return Array.isArray(e)?s:s[0]}Dd.preload=function(n,e,t){const i=Array.isArray(e)?e:[e];return bP(VP(t),[n,...i])};Dd.clear=function(n,e){const t=Array.isArray(e)?e:[e];return PP([n,...t])};const Ru=new Map,{invalidate:cS,advance:uS}=iJ(Ru),{reconciler:f2,applyProps:Za}=GX(Ru,KX),Ec={objects:"shallow",strict:!1},rJ=(n,e)=>{const t=typeof n=="function"?n(e):n;return kP(t)?t:new P9({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...n})};function sJ(n,e){if(e)return e;if(typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:t,height:i,top:r,left:s}=n.parentElement.getBoundingClientRect();return{width:t,height:i,top:r,left:s}}else if(typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0};return{width:0,height:0,top:0,left:0}}function oJ(n){const e=Ru.get(n),t=e==null?void 0:e.fiber,i=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const r=typeof reportError=="function"?reportError:console.error,s=i||ZX(cS,uS),o=t||f2.createContainer(s,Zc.ConcurrentRoot,null,!1,null,"",r,null);e||Ru.set(n,{fiber:o,store:s});let a,l=!1,c;return{configure(h={}){let{gl:d,size:p,scene:m,events:v,onCreated:S,shadows:_=!1,linear:g=!1,flat:x=!1,legacy:A=!1,orthographic:E=!1,frameloop:T="always",dpr:C=[1,2],performance:R,raycaster:I,camera:P,onPointerMissed:B}=h,U=s.getState(),Y=U.gl;U.gl||U.set({gl:Y=rJ(d,n)});let ee=U.raycaster;ee||U.set({raycaster:ee=new gP});const{params:V,...Q}=I||{};if(en.equ(Q,ee,Ec)||Za(ee,{...Q}),en.equ(V,ee.params,Ec)||Za(ee,{params:{...ee.params,...V}}),!U.camera||U.camera===c&&!en.equ(c,P,Ec)){c=P;const X=P instanceof Ad,ce=X?P:E?new Pr(0,0,0,0,.1,1e3):new tn(75,0,.1,1e3);X||(ce.position.z=5,P&&Za(ce,P),!U.camera&&!(P!=null&&P.rotation)&&ce.lookAt(0,0,0)),U.set({camera:ce})}if(!U.scene){let X;m instanceof c2?X=m:(X=new c2,m&&Za(X,m)),U.set({scene:Pc(X)})}if(!U.xr){var ne;const X=(ve,Pe)=>{const Le=s.getState();Le.frameloop!=="never"&&uS(ve,!0,Le,Pe)},ce=()=>{const ve=s.getState();ve.gl.xr.enabled=ve.gl.xr.isPresenting,ve.gl.xr.setAnimationLoop(ve.gl.xr.isPresenting?X:null),ve.gl.xr.isPresenting||cS(ve)},me={connect(){const ve=s.getState().gl;ve.xr.addEventListener("sessionstart",ce),ve.xr.addEventListener("sessionend",ce)},disconnect(){const ve=s.getState().gl;ve.xr.removeEventListener("sessionstart",ce),ve.xr.removeEventListener("sessionend",ce)}};typeof((ne=Y.xr)==null?void 0:ne.addEventListener)=="function"&&me.connect(),U.set({xr:me})}if(Y.shadowMap){const X=Y.shadowMap.enabled,ce=Y.shadowMap.type;if(Y.shadowMap.enabled=!!_,en.boo(_))Y.shadowMap.type=uh;else if(en.str(_)){var te;const me={basic:yC,percentage:Y2,soft:uh,variance:Wr};Y.shadowMap.type=(te=me[_])!=null?te:uh}else en.obj(_)&&Object.assign(Y.shadowMap,_);(X!==Y.shadowMap.enabled||ce!==Y.shadowMap.type)&&(Y.shadowMap.needsUpdate=!0)}const D=BP();D&&("enabled"in D?D.enabled=!A:"legacyMode"in D&&(D.legacyMode=A)),Za(Y,{outputEncoding:g?3e3:3001,toneMapping:x?Ts:u9}),U.legacy!==A&&U.set(()=>({legacy:A})),U.linear!==g&&U.set(()=>({linear:g})),U.flat!==x&&U.set(()=>({flat:x})),d&&!en.fun(d)&&!kP(d)&&!en.equ(d,Y,Ec)&&Za(Y,d),v&&!U.events.handlers&&U.set({events:v(s)});const N=sJ(n,p);return en.equ(N,U.size,Ec)||U.setSize(N.width,N.height,N.updateStyle,N.top,N.left),C&&U.viewport.dpr!==NP(C)&&U.setDpr(C),U.frameloop!==T&&U.setFrameloop(T),U.onPointerMissed||U.set({onPointerMissed:B}),R&&!en.equ(R,U.performance,Ec)&&U.set(X=>({performance:{...X.performance,...R}})),a=S,l=!0,this},render(h){return l||this.configure(),f2.updateContainer(k.createElement(aJ,{store:s,children:h,onCreated:a,rootElement:n}),o,null,()=>{}),s},unmount(){WP(n)}}}function aJ({store:n,children:e,onCreated:t,rootElement:i}){return Id(()=>{const r=n.getState();r.set(s=>({internal:{...s.internal,active:!0}})),t&&t(r),n.getState().events.connected||r.events.connect==null||r.events.connect(i)},[]),k.createElement(HP.Provider,{value:n},e)}function WP(n,e){const t=Ru.get(n),i=t==null?void 0:t.fiber;if(i){const r=t==null?void 0:t.store.getState();r&&(r.internal.active=!1),f2.updateContainer(null,i,null,()=>{r&&setTimeout(()=>{try{var s,o,a,l;r.events.disconnect==null||r.events.disconnect(),(s=r.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=r.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=r.gl)!=null&&l.xr&&r.xr.disconnect(),XX(r),Ru.delete(n),e&&e(n)}catch{}},500)})}}f2.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:k.version});function E8(n,e,t){var i,r,s,o,a;e==null&&(e=100);function l(){var h=Date.now()-o;h<e&&h>=0?i=setTimeout(l,e-h):(i=null,t||(a=n.apply(s,r),s=r=null))}var c=function(){s=this,r=arguments,o=Date.now();var h=t&&!i;return i||(i=setTimeout(l,e)),h&&(a=n.apply(s,r),s=r=null),a};return c.clear=function(){i&&(clearTimeout(i),i=null)},c.flush=function(){i&&(a=n.apply(s,r),s=r=null,clearTimeout(i),i=null)},c}E8.debounce=E8;var lJ=E8;const fS=z8(lJ);function cJ(n){let{debounce:e,scroll:t,polyfill:i,offsetSize:r}=n===void 0?{debounce:0,scroll:!1,offsetSize:!1}:n;const s=i||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,a]=k.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=k.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o}),c=e?typeof e=="number"?e:e.scroll:null,h=e?typeof e=="number"?e:e.resize:null,d=k.useRef(!1);k.useEffect(()=>(d.current=!0,()=>void(d.current=!1)));const[p,m,v]=k.useMemo(()=>{const x=()=>{if(!l.current.element)return;const{left:A,top:E,width:T,height:C,bottom:R,right:I,x:P,y:B}=l.current.element.getBoundingClientRect(),U={left:A,top:E,width:T,height:C,bottom:R,right:I,x:P,y:B};l.current.element instanceof HTMLElement&&r&&(U.height=l.current.element.offsetHeight,U.width=l.current.element.offsetWidth),Object.freeze(U),d.current&&!dJ(l.current.lastBounds,U)&&a(l.current.lastBounds=U)};return[x,h?fS(x,h):x,c?fS(x,c):x]},[a,r,c,h]);function S(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(x=>x.removeEventListener("scroll",v,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null)}function _(){l.current.element&&(l.current.resizeObserver=new s(v),l.current.resizeObserver.observe(l.current.element),t&&l.current.scrollContainers&&l.current.scrollContainers.forEach(x=>x.addEventListener("scroll",v,{capture:!0,passive:!0})))}const g=x=>{!x||x===l.current.element||(S(),l.current.element=x,l.current.scrollContainers=jP(x),_())};return fJ(v,!!t),uJ(m),k.useEffect(()=>{S(),_()},[t,v,m]),k.useEffect(()=>S,[]),[g,o,p]}function uJ(n){k.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function fJ(n,e){k.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function jP(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:i,overflowY:r}=window.getComputedStyle(n);return[t,i,r].some(s=>s==="auto"||s==="scroll")&&e.push(n),[...e,...jP(n.parentElement)]}const hJ=["x","y","top","bottom","left","right","width","height"],dJ=(n,e)=>hJ.every(t=>n[t]===e[t]);var pJ=Object.defineProperty,mJ=Object.defineProperties,gJ=Object.getOwnPropertyDescriptors,hS=Object.getOwnPropertySymbols,vJ=Object.prototype.hasOwnProperty,yJ=Object.prototype.propertyIsEnumerable,dS=(n,e,t)=>e in n?pJ(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,pS=(n,e)=>{for(var t in e||(e={}))vJ.call(e,t)&&dS(n,t,e[t]);if(hS)for(var t of hS(e))yJ.call(e,t)&&dS(n,t,e[t]);return n},xJ=(n,e)=>mJ(n,gJ(e));function qP(n,e,t){if(!n)return;if(t(n)===!0)return n;let i=e?n.return:n.child;for(;i;){const r=qP(i,e,t);if(r)return r;i=e?null:i.sibling}}function XP(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const t7=XP(k.createContext(null));class JP extends k.Component{render(){return k.createElement(t7.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner:mS,ReactCurrentDispatcher:gS}=k.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function _J(){const n=k.useContext(t7);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=k.useId();return k.useMemo(()=>{for(const i of[mS==null?void 0:mS.current,n,n==null?void 0:n.alternate]){if(!i)continue;const r=qP(i,!1,s=>{let o=s.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(r)return r}},[n,e])}function AJ(){var n,e;const t=_J(),[i]=k.useState(()=>new Map);i.clear();let r=t;for(;r;){const s=(n=r.type)==null?void 0:n._context;s&&s!==t7&&!i.has(s)&&i.set(s,(e=gS==null?void 0:gS.current)==null?void 0:e.readContext(XP(s))),r=r.return}return i}function SJ(){const n=AJ();return k.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>i=>k.createElement(e,null,k.createElement(t.Provider,xJ(pS({},i),{value:n.get(t)}))),e=>k.createElement(JP,pS({},e))),[n])}const h6={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function MJ(n){const{handlePointer:e}=QX(n);return{priority:1,enabled:!0,compute(t,i,r){i.pointer.set(t.offsetX/i.size.width*2-1,-(t.offsetY/i.size.height)*2+1),i.raycaster.setFromCamera(i.pointer,i.camera)},connected:void 0,handlers:Object.keys(h6).reduce((t,i)=>({...t,[i]:e(i)}),{}),update:()=>{var t;const{events:i,internal:r}=n.getState();(t=r.lastEvent)!=null&&t.current&&i.handlers&&i.handlers.onPointerMove(r.lastEvent.current)},connect:t=>{var i;const{set:r,events:s}=n.getState();s.disconnect==null||s.disconnect(),r(o=>({events:{...o.events,connected:t}})),Object.entries((i=s.handlers)!=null?i:[]).forEach(([o,a])=>{const[l,c]=h6[o];t.addEventListener(l,a,{passive:c})})},disconnect:()=>{const{set:t,events:i}=n.getState();if(i.connected){var r;Object.entries((r=i.handlers)!=null?r:[]).forEach(([s,o])=>{if(i&&i.connected instanceof HTMLElement){const[a]=h6[s];i.connected.removeEventListener(a,o)}}),t(s=>({events:{...s.events,connected:void 0}}))}}}}const EJ=k.forwardRef(function({children:e,fallback:t,resize:i,style:r,gl:s,events:o=MJ,eventSource:a,eventPrefix:l,shadows:c,linear:h,flat:d,legacy:p,orthographic:m,frameloop:v,dpr:S,performance:_,raycaster:g,camera:x,scene:A,onPointerMissed:E,onCreated:T,...C},R){k.useMemo(()=>RP(xP),[]);const I=SJ(),[P,B]=cJ({scroll:!0,debounce:{scroll:50,resize:0},...i}),U=k.useRef(null),Y=k.useRef(null);k.useImperativeHandle(R,()=>U.current);const ee=LP(E),[V,Q]=k.useState(!1),[ne,te]=k.useState(!1);if(V)throw V;if(ne)throw ne;const D=k.useRef(null);Id(()=>{const j=U.current;B.width>0&&B.height>0&&j&&(D.current||(D.current=oJ(j)),D.current.configure({gl:s,events:o,shadows:c,linear:h,flat:d,legacy:p,orthographic:m,frameloop:v,dpr:S,performance:_,raycaster:g,camera:x,scene:A,size:B,onPointerMissed:(...N)=>ee.current==null?void 0:ee.current(...N),onCreated:N=>{N.events.connect==null||N.events.connect(a?VX(a)?a.current:a:Y.current),l&&N.setEvents({compute:(X,ce)=>{const me=X[l+"X"],ve=X[l+"Y"];ce.pointer.set(me/ce.size.width*2-1,-(ve/ce.size.height)*2+1),ce.raycaster.setFromCamera(ce.pointer,ce.camera)}}),T==null||T(N)}}),D.current.render(k.createElement(I,null,k.createElement(DP,{set:te},k.createElement(k.Suspense,{fallback:k.createElement(WX,{set:Q})},e)))))}),k.useEffect(()=>{const j=U.current;if(j)return()=>WP(j)},[]);const W=a?"none":"auto";return k.createElement("div",or({ref:Y,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:W,...r}},C),k.createElement("div",{ref:P,style:{width:"100%",height:"100%"}},k.createElement("canvas",{ref:U,style:{display:"block"}},t)))}),KP=k.forwardRef(function(e,t){return k.createElement(JP,null,k.createElement(EJ,or({},e,{ref:t})))}),Fd=new F,n7=new F,wJ=new F;function TJ(n,e,t){const i=Fd.setFromMatrixPosition(n.matrixWorld);i.project(e);const r=t.width/2,s=t.height/2;return[i.x*r+r,-(i.y*s)+s]}function CJ(n,e){const t=Fd.setFromMatrixPosition(n.matrixWorld),i=n7.setFromMatrixPosition(e.matrixWorld),r=t.sub(i),s=e.getWorldDirection(wJ);return r.angleTo(s)>Math.PI/2}function bJ(n,e,t,i){const r=Fd.setFromMatrixPosition(n.matrixWorld),s=r.clone();s.project(e),t.setFromCamera(s,e);const o=t.intersectObjects(i,!0);if(o.length){const a=o[0].distance;return r.distanceTo(t.ray.origin)<a}return!0}function PJ(n,e){if(e instanceof Pr)return e.zoom;if(e instanceof tn){const t=Fd.setFromMatrixPosition(n.matrixWorld),i=n7.setFromMatrixPosition(e.matrixWorld),r=e.fov*Math.PI/180,s=t.distanceTo(i);return 1/(2*Math.tan(r/2)*s)}else return 1}function RJ(n,e,t){if(e instanceof tn||e instanceof Pr){const i=Fd.setFromMatrixPosition(n.matrixWorld),r=n7.setFromMatrixPosition(e.matrixWorld),s=i.distanceTo(r),o=(t[1]-t[0])/(e.far-e.near),a=t[1]-o*e.far;return Math.round(o*s+a)}}const w8=n=>Math.abs(n)<1e-10?0:n;function YP(n,e,t=""){let i="matrix3d(";for(let r=0;r!==16;r++)i+=w8(e[r]*n.elements[r])+(r!==15?",":")");return t+i}const BJ=(n=>e=>YP(e,n))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),IJ=(n=>(e,t)=>YP(e,n(t),"translate(-50%,-50%)"))(n=>[1/n,1/n,1/n,1,-1/n,-1/n,-1/n,-1,1/n,1/n,1/n,1,1,1,1,1]);function LJ(n){return n&&typeof n=="object"&&"current"in n}const QP=k.forwardRef(({children:n,eps:e=.001,style:t,className:i,prepend:r,center:s,fullscreen:o,portal:a,distanceFactor:l,sprite:c=!1,transform:h=!1,occlude:d,onOcclude:p,castShadow:m,receiveShadow:v,material:S,geometry:_,zIndexRange:g=[16777271,0],calculatePosition:x=TJ,as:A="div",wrapperClass:E,pointerEvents:T="auto",...C},R)=>{const{gl:I,camera:P,scene:B,size:U,raycaster:Y,events:ee,viewport:V}=Ar(),[Q]=k.useState(()=>document.createElement(A)),ne=k.useRef(),te=k.useRef(null),D=k.useRef(0),W=k.useRef([0,0]),j=k.useRef(null),N=k.useRef(null),X=(a==null?void 0:a.current)||ee.connected||I.domElement.parentNode,ce=k.useRef(null),me=k.useRef(!1),ve=k.useMemo(()=>d&&d!=="blending"||Array.isArray(d)&&d.length&&LJ(d[0]),[d]);k.useLayoutEffect(()=>{const rt=I.domElement;d&&d==="blending"?(rt.style.zIndex=`${Math.floor(g[0]/2)}`,rt.style.position="absolute",rt.style.pointerEvents="none"):(rt.style.zIndex=null,rt.style.position=null,rt.style.pointerEvents=null)},[d]),k.useLayoutEffect(()=>{if(te.current){const rt=ne.current=N4(Q);if(B.updateMatrixWorld(),h)Q.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const Me=x(te.current,P,U);Q.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${Me[0]}px,${Me[1]}px,0);transform-origin:0 0;`}return X&&(r?X.prepend(Q):X.appendChild(Q)),()=>{X&&X.removeChild(Q),rt.unmount()}}},[X,h]),k.useLayoutEffect(()=>{E&&(Q.className=E)},[E]);const Pe=k.useMemo(()=>h?{position:"absolute",top:0,left:0,width:U.width,height:U.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:s?"translate3d(-50%,-50%,0)":"none",...o&&{top:-U.height/2,left:-U.width/2,width:U.width,height:U.height},...t},[t,s,o,U,h]),Le=k.useMemo(()=>({position:"absolute",pointerEvents:T}),[T]);k.useLayoutEffect(()=>{if(me.current=!1,h){var rt;(rt=ne.current)==null||rt.render(k.createElement("div",{ref:j,style:Pe},k.createElement("div",{ref:N,style:Le},k.createElement("div",{ref:R,className:i,style:t,children:n}))))}else{var Me;(Me=ne.current)==null||Me.render(k.createElement("div",{ref:R,style:Pe,className:i,children:n}))}});const Xe=k.useRef(!0);Ld(rt=>{if(te.current){P.updateMatrixWorld(),te.current.updateWorldMatrix(!0,!1);const Me=h?W.current:x(te.current,P,U);if(h||Math.abs(D.current-P.zoom)>e||Math.abs(W.current[0]-Me[0])>e||Math.abs(W.current[1]-Me[1])>e){const q=CJ(te.current,P);let ge=!1;ve&&(Array.isArray(d)?ge=d.map(We=>We.current):d!=="blending"&&(ge=[B]));const pe=Xe.current;if(ge){const We=bJ(te.current,P,Y,ge);Xe.current=We&&!q}else Xe.current=!q;pe!==Xe.current&&(p?p(!Xe.current):Q.style.display=Xe.current?"block":"none");const Ee=Math.floor(g[0]/2),ye=d?ve?[g[0],Ee]:[Ee-1,0]:g;if(Q.style.zIndex=`${RJ(te.current,P,ye)}`,h){const[We,He]=[U.width/2,U.height/2],Ve=P.projectionMatrix.elements[5]*He,{isOrthographicCamera:et,top:xt,left:Ht,bottom:G,right:L}=P,oe=BJ(P.matrixWorldInverse),Te=et?`scale(${Ve})translate(${w8(-(L+Ht)/2)}px,${w8((xt+G)/2)}px)`:`translateZ(${Ve}px)`;let xe=te.current.matrixWorld;c&&(xe=P.matrixWorldInverse.clone().transpose().copyPosition(xe).scale(te.current.scale),xe.elements[3]=xe.elements[7]=xe.elements[11]=0,xe.elements[15]=1),Q.style.width=U.width+"px",Q.style.height=U.height+"px",Q.style.perspective=et?"":`${Ve}px`,j.current&&N.current&&(j.current.style.transform=`${Te}${oe}translate(${We}px,${He}px)`,N.current.style.transform=IJ(xe,1/((l||10)/400)))}else{const We=l===void 0?1:PJ(te.current,P)*l;Q.style.transform=`translate3d(${Me[0]}px,${Me[1]}px,0) scale(${We})`}W.current=Me,D.current=P.zoom}}if(!ve&&ce.current&&!me.current)if(h){if(j.current){const Me=j.current.children[0];if(Me!=null&&Me.clientWidth&&Me!=null&&Me.clientHeight){const{isOrthographicCamera:q}=P;if(q||_)C.scale&&(Array.isArray(C.scale)?C.scale instanceof F?ce.current.scale.copy(C.scale.clone().divideScalar(1)):ce.current.scale.set(1/C.scale[0],1/C.scale[1],1/C.scale[2]):ce.current.scale.setScalar(1/C.scale));else{const ge=(l||10)/400,pe=Me.clientWidth*ge,Ee=Me.clientHeight*ge;ce.current.scale.set(pe,Ee,1)}me.current=!0}}}else{const Me=Q.children[0];if(Me!=null&&Me.clientWidth&&Me!=null&&Me.clientHeight){const q=1/V.factor,ge=Me.clientWidth*q,pe=Me.clientHeight*q;ce.current.scale.set(ge,pe,1),me.current=!0}ce.current.lookAt(rt.camera.position)}});const pt=k.useMemo(()=>({vertexShader:h?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom" 
            is false. 
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;
            
            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[h]);return k.createElement("group",or({},C,{ref:te}),d&&!ve&&k.createElement("mesh",{castShadow:m,receiveShadow:v,ref:ce},_||k.createElement("planeGeometry",null),S||k.createElement("shaderMaterial",{side:Tr,vertexShader:pt.vertexShader,fragmentShader:pt.fragmentShader})))});let Df=0;const DJ=AP(n=>(Qc.onStart=(e,t,i)=>{n({active:!0,item:e,loaded:t,total:i,progress:(t-Df)/(i-Df)*100})},Qc.onLoad=()=>{n({active:!1})},Qc.onError=e=>n(t=>({errors:[...t.errors,e]})),Qc.onProgress=(e,t,i)=>{t===i&&(Df=i),n({active:!0,item:e,loaded:t,total:i,progress:(t-Df)/(i-Df)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0}));function ZP(n){return function(e){n.forEach(function(t){typeof t=="function"?t(e):t!=null&&(t.current=e)})}}let i7=Od();const gt=n=>Nd(n,i7);let r7=Od();gt.write=n=>Nd(n,r7);let Mm=Od();gt.onStart=n=>Nd(n,Mm);let s7=Od();gt.onFrame=n=>Nd(n,s7);let o7=Od();gt.onFinish=n=>Nd(n,o7);let cu=[];gt.setTimeout=(n,e)=>{let t=gt.now()+e,i=()=>{let s=cu.findIndex(o=>o.cancel==i);~s&&cu.splice(s,1),Jo-=~s?1:0},r={time:t,handler:n,cancel:i};return cu.splice($P(t),0,r),Jo+=1,eR(),r};let $P=n=>~(~cu.findIndex(e=>e.time>n)||~cu.length);gt.cancel=n=>{Mm.delete(n),s7.delete(n),o7.delete(n),i7.delete(n),r7.delete(n)};gt.sync=n=>{T8=!0,gt.batchedUpdates(n),T8=!1};gt.throttle=n=>{let e;function t(){try{n(...e)}finally{e=null}}function i(...r){e=r,gt.onStart(t)}return i.handler=n,i.cancel=()=>{Mm.delete(t),e=null},i};let a7=typeof window<"u"?window.requestAnimationFrame:()=>{};gt.use=n=>a7=n;gt.now=typeof performance<"u"?()=>performance.now():Date.now;gt.batchedUpdates=n=>n();gt.catch=console.error;gt.frameLoop="always";gt.advance=()=>{gt.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):nR()};let Xo=-1,Jo=0,T8=!1;function Nd(n,e){T8?(e.delete(n),n(0)):(e.add(n),eR())}function eR(){Xo<0&&(Xo=0,gt.frameLoop!=="demand"&&a7(tR))}function FJ(){Xo=-1}function tR(){~Xo&&(a7(tR),gt.batchedUpdates(nR))}function nR(){let n=Xo;Xo=gt.now();let e=$P(Xo);if(e&&(iR(cu.splice(0,e),t=>t.handler()),Jo-=e),!Jo){FJ();return}Mm.flush(),i7.flush(n?Math.min(64,Xo-n):16.667),s7.flush(),r7.flush(),o7.flush()}function Od(){let n=new Set,e=n;return{add(t){Jo+=e==n&&!n.has(t)?1:0,n.add(t)},delete(t){return Jo-=e==n&&n.has(t)?1:0,n.delete(t)},flush(t){e.size&&(n=new Set,Jo-=e.size,iR(e,i=>i(t)&&n.add(i)),Jo+=n.size,e=n)}}}function iR(n,e){n.forEach(t=>{try{e(t)}catch(i){gt.catch(i)}})}function C8(){}const NJ=(n,e,t)=>Object.defineProperty(n,e,{value:t,writable:!0,configurable:!0}),De={arr:Array.isArray,obj:n=>!!n&&n.constructor.name==="Object",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",und:n=>n===void 0};function Ys(n,e){if(De.arr(n)){if(!De.arr(e)||n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}return n===e}const zt=(n,e)=>n.forEach(e);function go(n,e,t){if(De.arr(n)){for(let i=0;i<n.length;i++)e.call(t,n[i],`${i}`);return}for(const i in n)n.hasOwnProperty(i)&&e.call(t,n[i],i)}const Rr=n=>De.und(n)?[]:De.arr(n)?n:[n];function mh(n,e){if(n.size){const t=Array.from(n);n.clear(),zt(t,e)}}const Xf=(n,...e)=>mh(n,t=>t(...e)),l7=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent);let c7,rR,aa=null,sR=!1,u7=C8;const OJ=n=>{n.to&&(rR=n.to),n.now&&(gt.now=n.now),n.colors!==void 0&&(aa=n.colors),n.skipAnimation!=null&&(sR=n.skipAnimation),n.createStringInterpolator&&(c7=n.createStringInterpolator),n.requestAnimationFrame&&gt.use(n.requestAnimationFrame),n.batchedUpdates&&(gt.batchedUpdates=n.batchedUpdates),n.willAdvance&&(u7=n.willAdvance),n.frameLoop&&(gt.frameLoop=n.frameLoop)};var Ls=Object.freeze({__proto__:null,get createStringInterpolator(){return c7},get to(){return rR},get colors(){return aa},get skipAnimation(){return sR},get willAdvance(){return u7},assign:OJ});const gh=new Set;let Cr=[],d6=[],h2=0;const Em={get idle(){return!gh.size&&!Cr.length},start(n){h2>n.priority?(gh.add(n),gt.onStart(UJ)):(oR(n),gt(b8))},advance:b8,sort(n){if(h2)gt.onFrame(()=>Em.sort(n));else{const e=Cr.indexOf(n);~e&&(Cr.splice(e,1),aR(n))}},clear(){Cr=[],gh.clear()}};function UJ(){gh.forEach(oR),gh.clear(),gt(b8)}function oR(n){Cr.includes(n)||aR(n)}function aR(n){Cr.splice(kJ(Cr,e=>e.priority>n.priority),0,n)}function b8(n){const e=d6;for(let t=0;t<Cr.length;t++){const i=Cr[t];h2=i.priority,i.idle||(u7(i),i.advance(n),i.idle||e.push(i))}return h2=0,d6=Cr,d6.length=0,Cr=e,Cr.length>0}function kJ(n,e){const t=n.findIndex(e);return t<0?n.length:t}const HJ=(n,e,t)=>Math.min(Math.max(t,n),e),zJ={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},Yr="[-+]?\\d*\\.?\\d+",d2=Yr+"%";function wm(...n){return"\\(\\s*("+n.join(")\\s*,\\s*(")+")\\s*\\)"}const GJ=new RegExp("rgb"+wm(Yr,Yr,Yr)),VJ=new RegExp("rgba"+wm(Yr,Yr,Yr,Yr)),WJ=new RegExp("hsl"+wm(Yr,d2,d2)),jJ=new RegExp("hsla"+wm(Yr,d2,d2,Yr)),qJ=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,XJ=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,JJ=/^#([0-9a-fA-F]{6})$/,KJ=/^#([0-9a-fA-F]{8})$/;function YJ(n){let e;return typeof n=="number"?n>>>0===n&&n>=0&&n<=4294967295?n:null:(e=JJ.exec(n))?parseInt(e[1]+"ff",16)>>>0:aa&&aa[n]!==void 0?aa[n]:(e=GJ.exec(n))?(wc(e[1])<<24|wc(e[2])<<16|wc(e[3])<<8|255)>>>0:(e=VJ.exec(n))?(wc(e[1])<<24|wc(e[2])<<16|wc(e[3])<<8|xS(e[4]))>>>0:(e=qJ.exec(n))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+"ff",16)>>>0:(e=KJ.exec(n))?parseInt(e[1],16)>>>0:(e=XJ.exec(n))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+e[4]+e[4],16)>>>0:(e=WJ.exec(n))?(vS(yS(e[1]),K0(e[2]),K0(e[3]))|255)>>>0:(e=jJ.exec(n))?(vS(yS(e[1]),K0(e[2]),K0(e[3]))|xS(e[4]))>>>0:null}function p6(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function vS(n,e,t){const i=t<.5?t*(1+e):t+e-t*e,r=2*t-i,s=p6(r,i,n+1/3),o=p6(r,i,n),a=p6(r,i,n-1/3);return Math.round(s*255)<<24|Math.round(o*255)<<16|Math.round(a*255)<<8}function wc(n){const e=parseInt(n,10);return e<0?0:e>255?255:e}function yS(n){return(parseFloat(n)%360+360)%360/360}function xS(n){const e=parseFloat(n);return e<0?0:e>1?255:Math.round(e*255)}function K0(n){const e=parseFloat(n);return e<0?0:e>100?1:e/100}function _S(n){let e=YJ(n);if(e===null)return n;e=e||0;let t=(e&4278190080)>>>24,i=(e&16711680)>>>16,r=(e&65280)>>>8,s=(e&255)/255;return`rgba(${t}, ${i}, ${r}, ${s})`}const nd=(n,e,t)=>{if(De.fun(n))return n;if(De.arr(n))return nd({range:n,output:e,extrapolate:t});if(De.str(n.output[0]))return c7(n);const i=n,r=i.output,s=i.range||[0,1],o=i.extrapolateLeft||i.extrapolate||"extend",a=i.extrapolateRight||i.extrapolate||"extend",l=i.easing||(c=>c);return c=>{const h=ZJ(c,s);return QJ(c,s[h],s[h+1],r[h],r[h+1],l,o,a,i.map)}};function QJ(n,e,t,i,r,s,o,a,l){let c=l?l(n):n;if(c<e){if(o==="identity")return c;o==="clamp"&&(c=e)}if(c>t){if(a==="identity")return c;a==="clamp"&&(c=t)}return i===r?i:e===t?n<=e?i:r:(e===-1/0?c=-c:t===1/0?c=c-e:c=(c-e)/(t-e),c=s(c),i===-1/0?c=-c:r===1/0?c=c+i:c=c*(r-i)+i,c)}function ZJ(n,e){for(var t=1;t<e.length-1&&!(e[t]>=n);++t);return t-1}const $J=(n,e="end")=>t=>{t=e==="end"?Math.min(t,.999):Math.max(t,.001);const i=t*n,r=e==="end"?Math.floor(i):Math.ceil(i);return HJ(0,1,r/n)},p2=1.70158,Y0=p2*1.525,AS=p2+1,SS=2*Math.PI/3,MS=2*Math.PI/4.5,Q0=n=>n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375,eK={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>1-(1-n)*(1-n),easeInOutQuad:n=>n<.5?2*n*n:1-Math.pow(-2*n+2,2)/2,easeInCubic:n=>n*n*n,easeOutCubic:n=>1-Math.pow(1-n,3),easeInOutCubic:n=>n<.5?4*n*n*n:1-Math.pow(-2*n+2,3)/2,easeInQuart:n=>n*n*n*n,easeOutQuart:n=>1-Math.pow(1-n,4),easeInOutQuart:n=>n<.5?8*n*n*n*n:1-Math.pow(-2*n+2,4)/2,easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>1-Math.pow(1-n,5),easeInOutQuint:n=>n<.5?16*n*n*n*n*n:1-Math.pow(-2*n+2,5)/2,easeInSine:n=>1-Math.cos(n*Math.PI/2),easeOutSine:n=>Math.sin(n*Math.PI/2),easeInOutSine:n=>-(Math.cos(Math.PI*n)-1)/2,easeInExpo:n=>n===0?0:Math.pow(2,10*n-10),easeOutExpo:n=>n===1?1:1-Math.pow(2,-10*n),easeInOutExpo:n=>n===0?0:n===1?1:n<.5?Math.pow(2,20*n-10)/2:(2-Math.pow(2,-20*n+10))/2,easeInCirc:n=>1-Math.sqrt(1-Math.pow(n,2)),easeOutCirc:n=>Math.sqrt(1-Math.pow(n-1,2)),easeInOutCirc:n=>n<.5?(1-Math.sqrt(1-Math.pow(2*n,2)))/2:(Math.sqrt(1-Math.pow(-2*n+2,2))+1)/2,easeInBack:n=>AS*n*n*n-p2*n*n,easeOutBack:n=>1+AS*Math.pow(n-1,3)+p2*Math.pow(n-1,2),easeInOutBack:n=>n<.5?Math.pow(2*n,2)*((Y0+1)*2*n-Y0)/2:(Math.pow(2*n-2,2)*((Y0+1)*(n*2-2)+Y0)+2)/2,easeInElastic:n=>n===0?0:n===1?1:-Math.pow(2,10*n-10)*Math.sin((n*10-10.75)*SS),easeOutElastic:n=>n===0?0:n===1?1:Math.pow(2,-10*n)*Math.sin((n*10-.75)*SS)+1,easeInOutElastic:n=>n===0?0:n===1?1:n<.5?-(Math.pow(2,20*n-10)*Math.sin((20*n-11.125)*MS))/2:Math.pow(2,-20*n+10)*Math.sin((20*n-11.125)*MS)/2+1,easeInBounce:n=>1-Q0(1-n),easeOutBounce:Q0,easeInOutBounce:n=>n<.5?(1-Q0(1-2*n))/2:(1+Q0(2*n-1))/2,steps:$J};function P8(){return P8=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},P8.apply(this,arguments)}const Bu=Symbol.for("FluidValue.get"),bl=Symbol.for("FluidValue.observers"),xs=n=>!!(n&&n[Bu]),Sr=n=>n&&n[Bu]?n[Bu]():n,ES=n=>n[bl]||null;function tK(n,e){n.eventObserved?n.eventObserved(e):n(e)}function m2(n,e){let t=n[bl];t&&t.forEach(i=>{tK(i,e)})}class nK{constructor(e){if(this[Bu]=void 0,this[bl]=void 0,!e&&!(e=this.get))throw Error("Unknown getter");iK(this,e)}}const iK=(n,e)=>lR(n,Bu,e);function Ud(n,e){if(n[Bu]){let t=n[bl];t||lR(n,bl,t=new Set),t.has(e)||(t.add(e),n.observerAdded&&n.observerAdded(t.size,e))}return e}function g2(n,e){let t=n[bl];if(t&&t.has(e)){const i=t.size-1;i?t.delete(e):n[bl]=null,n.observerRemoved&&n.observerRemoved(i,e)}}const lR=(n,e,t)=>Object.defineProperty(n,e,{value:t,writable:!0,configurable:!0}),wp=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,rK=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,wS=new RegExp(`(${wp.source})(%|[a-z]+)`,"i"),sK=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,Tm=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,cR=n=>{const[e,t]=oK(n);if(!e||l7())return n;const i=window.getComputedStyle(document.documentElement).getPropertyValue(e);if(i)return i.trim();if(t&&t.startsWith("--")){const r=window.getComputedStyle(document.documentElement).getPropertyValue(t);return r||n}else{if(t&&Tm.test(t))return cR(t);if(t)return t}return n},oK=n=>{const e=Tm.exec(n);if(!e)return[,];const[,t,i]=e;return[t,i]};let m6;const aK=(n,e,t,i,r)=>`rgba(${Math.round(e)}, ${Math.round(t)}, ${Math.round(i)}, ${r})`,uR=n=>{m6||(m6=aa?new RegExp(`(${Object.keys(aa).join("|")})(?!\\w)`,"g"):/^\b$/);const e=n.output.map(s=>Sr(s).replace(Tm,cR).replace(rK,_S).replace(m6,_S)),t=e.map(s=>s.match(wp).map(Number)),r=t[0].map((s,o)=>t.map(a=>{if(!(o in a))throw Error('The arity of each "output" value must be equal');return a[o]})).map(s=>nd(P8({},n,{output:s})));return s=>{var o;const a=!wS.test(e[0])&&((o=e.find(c=>wS.test(c)))==null?void 0:o.replace(wp,""));let l=0;return e[0].replace(wp,()=>`${r[l++](s)}${a||""}`).replace(sK,aK)}},f7="react-spring: ",fR=n=>{const e=n;let t=!1;if(typeof e!="function")throw new TypeError(`${f7}once requires a function parameter`);return(...i)=>{t||(e(...i),t=!0)}},lK=fR(console.warn);function cK(){lK(`${f7}The "interpolate" function is deprecated in v9 (use "to" instead)`)}const uK=fR(console.warn);function fK(){uK(`${f7}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function Cm(n){return De.str(n)&&(n[0]=="#"||/\d/.test(n)||!l7()&&Tm.test(n)||n in(aa||{}))}const h7=l7()?k.useEffect:k.useLayoutEffect,hK=()=>{const n=k.useRef(!1);return h7(()=>(n.current=!0,()=>{n.current=!1}),[]),n};function hR(){const n=k.useState()[1],e=hK();return()=>{e.current&&n(Math.random())}}function dK(n,e){const[t]=k.useState(()=>({inputs:e,result:n()})),i=k.useRef(),r=i.current;let s=r;return s?e&&s.inputs&&pK(e,s.inputs)||(s={inputs:e,result:n()}):s=t,k.useEffect(()=>{i.current=s,r==t&&(t.inputs=t.result=void 0)},[s]),s.result}function pK(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}const dR=n=>k.useEffect(n,mK),mK=[];function TS(n){const e=k.useRef();return k.useEffect(()=>{e.current=n}),e.current}const id=Symbol.for("Animated:node"),gK=n=>!!n&&n[id]===n,ys=n=>n&&n[id],d7=(n,e)=>NJ(n,id,e),bm=n=>n&&n[id]&&n[id].getPayload();class pR{constructor(){this.payload=void 0,d7(this,this)}getPayload(){return this.payload||[]}}class Vu extends pR{constructor(e){super(),this.done=!0,this.elapsedTime=void 0,this.lastPosition=void 0,this.lastVelocity=void 0,this.v0=void 0,this.durationProgress=0,this._value=e,De.num(this._value)&&(this.lastPosition=this._value)}static create(e){return new Vu(e)}getPayload(){return[this]}getValue(){return this._value}setValue(e,t){return De.num(e)&&(this.lastPosition=e,t&&(e=Math.round(e/t)*t,this.done&&(this.lastPosition=e))),this._value===e?!1:(this._value=e,!0)}reset(){const{done:e}=this;this.done=!1,De.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}}class Iu extends Vu{constructor(e){super(0),this._string=null,this._toString=void 0,this._toString=nd({output:[e,e]})}static create(e){return new Iu(e)}getValue(){let e=this._string;return e??(this._string=this._toString(this._value))}setValue(e){if(De.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else if(super.setValue(e))this._string=null;else return!1;return!0}reset(e){e&&(this._toString=nd({output:[this.getValue(),e]})),this._value=0,super.reset()}}const v2={dependencies:null};class p7 extends pR{constructor(e){super(),this.source=e,this.setValue(e)}getValue(e){const t={};return go(this.source,(i,r)=>{gK(i)?t[r]=i.getValue(e):xs(i)?t[r]=Sr(i):e||(t[r]=i)}),t}setValue(e){this.source=e,this.payload=this._makePayload(e)}reset(){this.payload&&zt(this.payload,e=>e.reset())}_makePayload(e){if(e){const t=new Set;return go(e,this._addToPayload,t),Array.from(t)}}_addToPayload(e){v2.dependencies&&xs(e)&&v2.dependencies.add(e);const t=bm(e);t&&zt(t,i=>this.add(i))}}class m7 extends p7{constructor(e){super(e)}static create(e){return new m7(e)}getValue(){return this.source.map(e=>e.getValue())}setValue(e){const t=this.getPayload();return e.length==t.length?t.map((i,r)=>i.setValue(e[r])).some(Boolean):(super.setValue(e.map(vK)),!0)}}function vK(n){return(Cm(n)?Iu:Vu).create(n)}function R8(n){const e=ys(n);return e?e.constructor:De.arr(n)?m7:Cm(n)?Iu:Vu}function y2(){return y2=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},y2.apply(this,arguments)}const CS=(n,e)=>{const t=!De.fun(n)||n.prototype&&n.prototype.isReactComponent;return k.forwardRef((i,r)=>{const s=k.useRef(null),o=t&&k.useCallback(v=>{s.current=_K(r,v)},[r]),[a,l]=xK(i,e),c=hR(),h=()=>{const v=s.current;if(t&&!v)return;(v?e.applyAnimatedValues(v,a.getValue(!0)):!1)===!1&&c()},d=new yK(h,l),p=k.useRef();h7(()=>(p.current=d,zt(l,v=>Ud(v,d)),()=>{p.current&&(zt(p.current.deps,v=>g2(v,p.current)),gt.cancel(p.current.update))})),k.useEffect(h,[]),dR(()=>()=>{const v=p.current;zt(v.deps,S=>g2(S,v))});const m=e.getComponentProps(a.getValue());return k.createElement(n,y2({},m,{ref:o}))})};class yK{constructor(e,t){this.update=e,this.deps=t}eventObserved(e){e.type=="change"&&gt.write(this.update)}}function xK(n,e){const t=new Set;return v2.dependencies=t,n.style&&(n=y2({},n,{style:e.createAnimatedStyle(n.style)})),n=new p7(n),v2.dependencies=null,[n,t]}function _K(n,e){return n&&(De.fun(n)?n(e):n.current=e),e}const bS=Symbol.for("AnimatedComponent"),AK=(n,{applyAnimatedValues:e=()=>!1,createAnimatedStyle:t=r=>new p7(r),getComponentProps:i=r=>r}={})=>{const r={applyAnimatedValues:e,createAnimatedStyle:t,getComponentProps:i},s=o=>{const a=PS(o)||"Anonymous";return De.str(o)?o=s[o]||(s[o]=CS(o,r)):o=o[bS]||(o[bS]=CS(o,r)),o.displayName=`Animated(${a})`,o};return go(n,(o,a)=>{De.arr(n)&&(a=PS(o)),s[a]=s(o)}),{animated:s}},PS=n=>De.str(n)?n:n&&De.str(n.displayName)?n.displayName:De.fun(n)&&n.name||null;function $n(){return $n=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},$n.apply(this,arguments)}function tl(n,...e){return De.fun(n)?n(...e):n}const vh=(n,e)=>n===!0||!!(e&&n&&(De.fun(n)?n(e):Rr(n).includes(e))),mR=(n,e)=>De.obj(n)?e&&n[e]:n,gR=(n,e)=>n.default===!0?n[e]:n.default?n.default[e]:void 0,SK=n=>n,g7=(n,e=SK)=>{let t=MK;n.default&&n.default!==!0&&(n=n.default,t=Object.keys(n));const i={};for(const r of t){const s=e(n[r],r);De.und(s)||(i[r]=s)}return i},MK=["config","onProps","onStart","onChange","onPause","onResume","onRest"],EK={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function wK(n){const e={};let t=0;if(go(n,(i,r)=>{EK[r]||(e[r]=i,t++)}),t)return e}function vR(n){const e=wK(n);if(e){const t={to:e};return go(n,(i,r)=>r in e||(t[r]=i)),t}return $n({},n)}function rd(n){return n=Sr(n),De.arr(n)?n.map(rd):Cm(n)?Ls.createStringInterpolator({range:[0,1],output:[n,n]})(1):n}function TK(n){for(const e in n)return!0;return!1}function B8(n){return De.fun(n)||De.arr(n)&&De.obj(n[0])}function CK(n,e){var t;(t=n.ref)==null||t.delete(n),e==null||e.delete(n)}function bK(n,e){if(e&&n.ref!==e){var t;(t=n.ref)==null||t.delete(n),e.add(n),n.ref=e}}const PK={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},I8=$n({},PK.default,{mass:1,damping:1,easing:eK.linear,clamp:!1});class RK{constructor(){this.tension=void 0,this.friction=void 0,this.frequency=void 0,this.damping=void 0,this.mass=void 0,this.velocity=0,this.restVelocity=void 0,this.precision=void 0,this.progress=void 0,this.duration=void 0,this.easing=void 0,this.clamp=void 0,this.bounce=void 0,this.decay=void 0,this.round=void 0,Object.assign(this,I8)}}function BK(n,e,t){t&&(t=$n({},t),RS(t,e),e=$n({},t,e)),RS(n,e),Object.assign(n,e);for(const o in I8)n[o]==null&&(n[o]=I8[o]);let{mass:i,frequency:r,damping:s}=n;return De.und(r)||(r<.01&&(r=.01),s<0&&(s=0),n.tension=Math.pow(2*Math.PI/r,2)*i,n.friction=4*Math.PI*s*i/r),n}function RS(n,e){if(!De.und(e.decay))n.duration=void 0;else{const t=!De.und(e.tension)||!De.und(e.friction);(t||!De.und(e.frequency)||!De.und(e.damping)||!De.und(e.mass))&&(n.duration=void 0,n.decay=void 0),t&&(n.frequency=void 0)}}const BS=[];class IK{constructor(){this.changed=!1,this.values=BS,this.toValues=null,this.fromValues=BS,this.to=void 0,this.from=void 0,this.config=new RK,this.immediate=!1}}function yR(n,{key:e,props:t,defaultProps:i,state:r,actions:s}){return new Promise((o,a)=>{var l;let c,h,d=vh((l=t.cancel)!=null?l:i==null?void 0:i.cancel,e);if(d)v();else{De.und(t.pause)||(r.paused=vh(t.pause,e));let S=i==null?void 0:i.pause;S!==!0&&(S=r.paused||vh(S,e)),c=tl(t.delay||0,e),S?(r.resumeQueue.add(m),s.pause()):(s.resume(),m())}function p(){r.resumeQueue.add(m),r.timeouts.delete(h),h.cancel(),c=h.time-gt.now()}function m(){c>0&&!Ls.skipAnimation?(r.delayed=!0,h=gt.setTimeout(v,c),r.pauseQueue.add(p),r.timeouts.add(h)):v()}function v(){r.delayed&&(r.delayed=!1),r.pauseQueue.delete(p),r.timeouts.delete(h),n<=(r.cancelId||0)&&(d=!0);try{s.start($n({},t,{callId:n,cancel:d}),o)}catch(S){a(S)}}})}const v7=(n,e)=>e.length==1?e[0]:e.some(t=>t.cancelled)?uu(n.get()):e.every(t=>t.noop)?xR(n.get()):Jr(n.get(),e.every(t=>t.finished)),xR=n=>({value:n,noop:!0,finished:!0,cancelled:!1}),Jr=(n,e,t=!1)=>({value:n,finished:e,cancelled:t}),uu=n=>({value:n,cancelled:!0,finished:!1});function _R(n,e,t,i){const{callId:r,parentId:s,onRest:o}=e,{asyncTo:a,promise:l}=t;return!s&&n===a&&!e.reset?l:t.promise=(async()=>{t.asyncId=r,t.asyncTo=n;const c=g7(e,(_,g)=>g==="onRest"?void 0:_);let h,d;const p=new Promise((_,g)=>(h=_,d=g)),m=_=>{const g=r<=(t.cancelId||0)&&uu(i)||r!==t.asyncId&&Jr(i,!1);if(g)throw _.result=g,d(_),_},v=(_,g)=>{const x=new IS,A=new LS;return(async()=>{if(Ls.skipAnimation)throw sd(t),A.result=Jr(i,!1),d(A),A;m(x);const E=De.obj(_)?$n({},_):$n({},g,{to:_});E.parentId=r,go(c,(C,R)=>{De.und(E[R])&&(E[R]=C)});const T=await i.start(E);return m(x),t.paused&&await new Promise(C=>{t.resumeQueue.add(C)}),T})()};let S;if(Ls.skipAnimation)return sd(t),Jr(i,!1);try{let _;De.arr(n)?_=(async g=>{for(const x of g)await v(x)})(n):_=Promise.resolve(n(v,i.stop.bind(i))),await Promise.all([_.then(h),p]),S=Jr(i.get(),!0,!1)}catch(_){if(_ instanceof IS)S=_.result;else if(_ instanceof LS)S=_.result;else throw _}finally{r==t.asyncId&&(t.asyncId=s,t.asyncTo=s?a:void 0,t.promise=s?l:void 0)}return De.fun(o)&&gt.batchedUpdates(()=>{o(S,i,i.item)}),S})()}function sd(n,e){mh(n.timeouts,t=>t.cancel()),n.pauseQueue.clear(),n.resumeQueue.clear(),n.asyncId=n.asyncTo=n.promise=void 0,e&&(n.cancelId=e)}class IS extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise."),this.result=void 0}}class LS extends Error{constructor(){super("SkipAnimationSignal"),this.result=void 0}}const L8=n=>n instanceof y7;let LK=1;class y7 extends nK{constructor(...e){super(...e),this.id=LK++,this.key=void 0,this._priority=0}get priority(){return this._priority}set priority(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}get(){const e=ys(this);return e&&e.getValue()}to(...e){return Ls.to(this,e)}interpolate(...e){return cK(),Ls.to(this,e)}toJSON(){return this.get()}observerAdded(e){e==1&&this._attach()}observerRemoved(e){e==0&&this._detach()}_attach(){}_detach(){}_onChange(e,t=!1){m2(this,{type:"change",parent:this,value:e,idle:t})}_onPriorityChange(e){this.idle||Em.sort(this),m2(this,{type:"priority",parent:this,priority:e})}}const Pl=Symbol.for("SpringPhase"),AR=1,D8=2,F8=4,g6=n=>(n[Pl]&AR)>0,Fo=n=>(n[Pl]&D8)>0,Ff=n=>(n[Pl]&F8)>0,DS=(n,e)=>e?n[Pl]|=D8|AR:n[Pl]&=~D8,FS=(n,e)=>e?n[Pl]|=F8:n[Pl]&=~F8;class DK extends y7{constructor(e,t){if(super(),this.key=void 0,this.animation=new IK,this.queue=void 0,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!De.und(e)||!De.und(t)){const i=De.obj(e)?$n({},e):$n({},t,{from:e});De.und(i.default)&&(i.default=!0),this.start(i)}}get idle(){return!(Fo(this)||this._state.asyncTo)||Ff(this)}get goal(){return Sr(this.animation.to)}get velocity(){const e=ys(this);return e instanceof Vu?e.lastVelocity||0:e.getPayload().map(t=>t.lastVelocity||0)}get hasAnimated(){return g6(this)}get isAnimating(){return Fo(this)}get isPaused(){return Ff(this)}get isDelayed(){return this._state.delayed}advance(e){let t=!0,i=!1;const r=this.animation;let{config:s,toValues:o}=r;const a=bm(r.to);!a&&xs(r.to)&&(o=Rr(Sr(r.to))),r.values.forEach((h,d)=>{if(h.done)return;const p=h.constructor==Iu?1:a?a[d].lastPosition:o[d];let m=r.immediate,v=p;if(!m){if(v=h.lastPosition,s.tension<=0){h.done=!0;return}let S=h.elapsedTime+=e;const _=r.fromValues[d],g=h.v0!=null?h.v0:h.v0=De.arr(s.velocity)?s.velocity[d]:s.velocity;let x;const A=s.precision||(_==p?.005:Math.min(1,Math.abs(p-_)*.001));if(De.und(s.duration))if(s.decay){const E=s.decay===!0?.998:s.decay,T=Math.exp(-(1-E)*S);v=_+g/(1-E)*(1-T),m=Math.abs(h.lastPosition-v)<=A,x=g*T}else{x=h.lastVelocity==null?g:h.lastVelocity;const E=s.restVelocity||A/10,T=s.clamp?0:s.bounce,C=!De.und(T),R=_==p?h.v0>0:_<p;let I,P=!1;const B=1,U=Math.ceil(e/B);for(let Y=0;Y<U&&(I=Math.abs(x)>E,!(!I&&(m=Math.abs(p-v)<=A,m)));++Y){C&&(P=v==p||v>p==R,P&&(x=-x*T,v=p));const ee=-s.tension*1e-6*(v-p),V=-s.friction*.001*x,Q=(ee+V)/s.mass;x=x+Q*B,v=v+x*B}}else{let E=1;s.duration>0&&(this._memoizedDuration!==s.duration&&(this._memoizedDuration=s.duration,h.durationProgress>0&&(h.elapsedTime=s.duration*h.durationProgress,S=h.elapsedTime+=e)),E=(s.progress||0)+S/this._memoizedDuration,E=E>1?1:E<0?0:E,h.durationProgress=E),v=_+s.easing(E)*(p-_),x=(v-h.lastPosition)/e,m=E==1}h.lastVelocity=x,Number.isNaN(v)&&(console.warn("Got NaN while animating:",this),m=!0)}a&&!a[d].done&&(m=!1),m?h.done=!0:t=!1,h.setValue(v,s.round)&&(i=!0)});const l=ys(this),c=l.getValue();if(t){const h=Sr(r.to);(c!==h||i)&&!s.decay?(l.setValue(h),this._onChange(h)):i&&s.decay&&this._onChange(c),this._stop()}else i&&this._onChange(c)}set(e){return gt.batchedUpdates(()=>{this._stop(),this._focus(e),this._set(e)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(Fo(this)){const{to:e,config:t}=this.animation;gt.batchedUpdates(()=>{this._onStart(),t.decay||this._set(e,!1),this._stop()})}return this}update(e){return(this.queue||(this.queue=[])).push(e),this}start(e,t){let i;return De.und(e)?(i=this.queue||[],this.queue=[]):i=[De.obj(e)?e:$n({},t,{to:e})],Promise.all(i.map(r=>this._update(r))).then(r=>v7(this,r))}stop(e){const{to:t}=this.animation;return this._focus(this.get()),sd(this._state,e&&this._lastCallId),gt.batchedUpdates(()=>this._stop(t,e)),this}reset(){this._update({reset:!0})}eventObserved(e){e.type=="change"?this._start():e.type=="priority"&&(this.priority=e.priority+1)}_prepareNode(e){const t=this.key||"";let{to:i,from:r}=e;i=De.obj(i)?i[t]:i,(i==null||B8(i))&&(i=void 0),r=De.obj(r)?r[t]:r,r==null&&(r=void 0);const s={to:i,from:r};return g6(this)||(e.reverse&&([i,r]=[r,i]),r=Sr(r),De.und(r)?ys(this)||this._set(i):this._set(r)),s}_update(e,t){let i=$n({},e);const{key:r,defaultProps:s}=this;i.default&&Object.assign(s,g7(i,(l,c)=>/^on/.test(c)?mR(l,r):l)),OS(this,i,"onProps"),Of(this,"onProps",i,this);const o=this._prepareNode(i);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const a=this._state;return yR(++this._lastCallId,{key:r,props:i,defaultProps:s,state:a,actions:{pause:()=>{Ff(this)||(FS(this,!0),Xf(a.pauseQueue),Of(this,"onPause",Jr(this,Nf(this,this.animation.to)),this))},resume:()=>{Ff(this)&&(FS(this,!1),Fo(this)&&this._resume(),Xf(a.resumeQueue),Of(this,"onResume",Jr(this,Nf(this,this.animation.to)),this))},start:this._merge.bind(this,o)}}).then(l=>{if(i.loop&&l.finished&&!(t&&l.noop)){const c=SR(i);if(c)return this._update(c,!0)}return l})}_merge(e,t,i){if(t.cancel)return this.stop(!0),i(uu(this));const r=!De.und(e.to),s=!De.und(e.from);if(r||s)if(t.callId>this._lastToId)this._lastToId=t.callId;else return i(uu(this));const{key:o,defaultProps:a,animation:l}=this,{to:c,from:h}=l;let{to:d=c,from:p=h}=e;s&&!r&&(!t.default||De.und(d))&&(d=p),t.reverse&&([d,p]=[p,d]);const m=!Ys(p,h);m&&(l.from=p),p=Sr(p);const v=!Ys(d,c);v&&this._focus(d);const S=B8(t.to),{config:_}=l,{decay:g,velocity:x}=_;(r||s)&&(_.velocity=0),t.config&&!S&&BK(_,tl(t.config,o),t.config!==a.config?tl(a.config,o):void 0);let A=ys(this);if(!A||De.und(d))return i(Jr(this,!0));const E=De.und(t.reset)?s&&!t.default:!De.und(p)&&vh(t.reset,o),T=E?p:this.get(),C=rd(d),R=De.num(C)||De.arr(C)||Cm(C),I=!S&&(!R||vh(a.immediate||t.immediate,o));if(v){const Y=R8(d);if(Y!==A.constructor)if(I)A=this._set(C);else throw Error(`Cannot animate between ${A.constructor.name} and ${Y.name}, as the "to" prop suggests`)}const P=A.constructor;let B=xs(d),U=!1;if(!B){const Y=E||!g6(this)&&m;(v||Y)&&(U=Ys(rd(T),C),B=!U),(!Ys(l.immediate,I)&&!I||!Ys(_.decay,g)||!Ys(_.velocity,x))&&(B=!0)}if(U&&Fo(this)&&(l.changed&&!E?B=!0:B||this._stop(c)),!S&&((B||xs(c))&&(l.values=A.getPayload(),l.toValues=xs(d)?null:P==Iu?[1]:Rr(C)),l.immediate!=I&&(l.immediate=I,!I&&!E&&this._set(c)),B)){const{onRest:Y}=l;zt(NK,V=>OS(this,t,V));const ee=Jr(this,Nf(this,c));Xf(this._pendingCalls,ee),this._pendingCalls.add(i),l.changed&&gt.batchedUpdates(()=>{l.changed=!E,Y==null||Y(ee,this),E?tl(a.onRest,ee):l.onStart==null||l.onStart(ee,this)})}E&&this._set(T),S?i(_R(t.to,t,this._state,this)):B?this._start():Fo(this)&&!v?this._pendingCalls.add(i):i(xR(T))}_focus(e){const t=this.animation;e!==t.to&&(ES(this)&&this._detach(),t.to=e,ES(this)&&this._attach())}_attach(){let e=0;const{to:t}=this.animation;xs(t)&&(Ud(t,this),L8(t)&&(e=t.priority+1)),this.priority=e}_detach(){const{to:e}=this.animation;xs(e)&&g2(e,this)}_set(e,t=!0){const i=Sr(e);if(!De.und(i)){const r=ys(this);if(!r||!Ys(i,r.getValue())){const s=R8(i);!r||r.constructor!=s?d7(this,s.create(i)):r.setValue(i),r&&gt.batchedUpdates(()=>{this._onChange(i,t)})}}return ys(this)}_onStart(){const e=this.animation;e.changed||(e.changed=!0,Of(this,"onStart",Jr(this,Nf(this,e.to)),this))}_onChange(e,t){t||(this._onStart(),tl(this.animation.onChange,e,this)),tl(this.defaultProps.onChange,e,this),super._onChange(e,t)}_start(){const e=this.animation;ys(this).reset(Sr(e.to)),e.immediate||(e.fromValues=e.values.map(t=>t.lastPosition)),Fo(this)||(DS(this,!0),Ff(this)||this._resume())}_resume(){Ls.skipAnimation?this.finish():Em.start(this)}_stop(e,t){if(Fo(this)){DS(this,!1);const i=this.animation;zt(i.values,s=>{s.done=!0}),i.toValues&&(i.onChange=i.onPause=i.onResume=void 0),m2(this,{type:"idle",parent:this});const r=t?uu(this.get()):Jr(this.get(),Nf(this,e??i.to));Xf(this._pendingCalls,r),i.changed&&(i.changed=!1,Of(this,"onRest",r,this))}}}function Nf(n,e){const t=rd(e),i=rd(n.get());return Ys(i,t)}function SR(n,e=n.loop,t=n.to){let i=tl(e);if(i){const r=i!==!0&&vR(i),s=(r||n).reverse,o=!r||r.reset;return od($n({},n,{loop:e,default:!1,pause:void 0,to:!s||B8(t)?t:void 0,from:o?n.from:void 0,reset:o},r))}}function od(n){const{to:e,from:t}=n=vR(n),i=new Set;return De.obj(e)&&NS(e,i),De.obj(t)&&NS(t,i),n.keys=i.size?Array.from(i):null,n}function FK(n){const e=od(n);return De.und(e.default)&&(e.default=g7(e)),e}function NS(n,e){go(n,(t,i)=>t!=null&&e.add(i))}const NK=["onStart","onRest","onChange","onPause","onResume"];function OS(n,e,t){n.animation[t]=e[t]!==gR(e,t)?mR(e[t],n.key):void 0}function Of(n,e,...t){var i,r,s,o;(i=(r=n.animation)[e])==null||i.call(r,...t),(s=(o=n.defaultProps)[e])==null||s.call(o,...t)}const OK=["onStart","onChange","onRest"];let UK=1,kK=class{constructor(e,t){this.id=UK++,this.springs={},this.queue=[],this.ref=void 0,this._flush=void 0,this._initialProps=void 0,this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._item=void 0,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),t&&(this._flush=t),e&&this.start($n({default:!0},e))}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(e=>e.idle&&!e.isDelayed&&!e.isPaused)}get item(){return this._item}set item(e){this._item=e}get(){const e={};return this.each((t,i)=>e[i]=t.get()),e}set(e){for(const t in e){const i=e[t];De.und(i)||this.springs[t].set(i)}}update(e){return e&&this.queue.push(od(e)),this}start(e){let{queue:t}=this;return e?t=Rr(e).map(od):this.queue=[],this._flush?this._flush(this,t):(CR(this,t),N8(this,t))}stop(e,t){if(e!==!!e&&(t=e),t){const i=this.springs;zt(Rr(t),r=>i[r].stop(!!e))}else sd(this._state,this._lastAsyncId),this.each(i=>i.stop(!!e));return this}pause(e){if(De.und(e))this.start({pause:!0});else{const t=this.springs;zt(Rr(e),i=>t[i].pause())}return this}resume(e){if(De.und(e))this.start({pause:!1});else{const t=this.springs;zt(Rr(e),i=>t[i].resume())}return this}each(e){go(this.springs,e)}_onFrame(){const{onStart:e,onChange:t,onRest:i}=this._events,r=this._active.size>0,s=this._changed.size>0;(r&&!this._started||s&&!this._started)&&(this._started=!0,mh(e,([l,c])=>{c.value=this.get(),l(c,this,this._item)}));const o=!r&&this._started,a=s||o&&i.size?this.get():null;s&&t.size&&mh(t,([l,c])=>{c.value=a,l(c,this,this._item)}),o&&(this._started=!1,mh(i,([l,c])=>{c.value=a,l(c,this,this._item)}))}eventObserved(e){if(e.type=="change")this._changed.add(e.parent),e.idle||this._active.add(e.parent);else if(e.type=="idle")this._active.delete(e.parent);else return;gt.onFrame(this._onFrame)}};function N8(n,e){return Promise.all(e.map(t=>MR(n,t))).then(t=>v7(n,t))}async function MR(n,e,t){const{keys:i,to:r,from:s,loop:o,onRest:a,onResolve:l}=e,c=De.obj(e.default)&&e.default;o&&(e.loop=!1),r===!1&&(e.to=null),s===!1&&(e.from=null);const h=De.arr(r)||De.fun(r)?r:void 0;h?(e.to=void 0,e.onRest=void 0,c&&(c.onRest=void 0)):zt(OK,S=>{const _=e[S];if(De.fun(_)){const g=n._events[S];e[S]=({finished:x,cancelled:A})=>{const E=g.get(_);E?(x||(E.finished=!1),A&&(E.cancelled=!0)):g.set(_,{value:null,finished:x||!1,cancelled:A||!1})},c&&(c[S]=e[S])}});const d=n._state;e.pause===!d.paused?(d.paused=e.pause,Xf(e.pause?d.pauseQueue:d.resumeQueue)):d.paused&&(e.pause=!0);const p=(i||Object.keys(n.springs)).map(S=>n.springs[S].start(e)),m=e.cancel===!0||gR(e,"cancel")===!0;(h||m&&d.asyncId)&&p.push(yR(++n._lastAsyncId,{props:e,state:d,actions:{pause:C8,resume:C8,start(S,_){m?(sd(d,n._lastAsyncId),_(uu(n))):(S.onRest=a,_(_R(h,S,d,n)))}}})),d.paused&&await new Promise(S=>{d.resumeQueue.add(S)});const v=v7(n,await Promise.all(p));if(o&&v.finished&&!(t&&v.noop)){const S=SR(e,o,r);if(S)return CR(n,[S]),MR(n,S,!0)}return l&&gt.batchedUpdates(()=>l(v,n,n.item)),v}function US(n,e){const t=$n({},n.springs);return e&&zt(Rr(e),i=>{De.und(i.keys)&&(i=od(i)),De.obj(i.to)||(i=$n({},i,{to:void 0})),TR(t,i,r=>wR(r))}),ER(n,t),t}function ER(n,e){go(e,(t,i)=>{n.springs[i]||(n.springs[i]=t,Ud(t,n))})}function wR(n,e){const t=new DK;return t.key=n,e&&Ud(t,e),t}function TR(n,e,t){e.keys&&zt(e.keys,i=>{(n[i]||(n[i]=t(i)))._prepareNode(e)})}function CR(n,e){zt(e,t=>{TR(n.springs,t,i=>wR(i,n))})}function HK(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}const zK=["children"],Pm=n=>{let{children:e}=n,t=HK(n,zK);const i=k.useContext(x2),r=t.pause||!!i.pause,s=t.immediate||!!i.immediate;t=dK(()=>({pause:r,immediate:s}),[r,s]);const{Provider:o}=x2;return k.createElement(o,{value:t},e)},x2=GK(Pm,{});Pm.Provider=x2.Provider;Pm.Consumer=x2.Consumer;function GK(n,e){return Object.assign(n,k.createContext(e)),n.Provider._context=n,n.Consumer._context=n,n}const VK=()=>{const n=[],e=function(r){fK();const s=[];return zt(n,(o,a)=>{if(De.und(r))s.push(o.start());else{const l=t(r,o,a);l&&s.push(o.start(l))}}),s};e.current=n,e.add=function(i){n.includes(i)||n.push(i)},e.delete=function(i){const r=n.indexOf(i);~r&&n.splice(r,1)},e.pause=function(){return zt(n,i=>i.pause(...arguments)),this},e.resume=function(){return zt(n,i=>i.resume(...arguments)),this},e.set=function(i){zt(n,r=>r.set(i))},e.start=function(i){const r=[];return zt(n,(s,o)=>{if(De.und(i))r.push(s.start());else{const a=this._getProps(i,s,o);a&&r.push(s.start(a))}}),r},e.stop=function(){return zt(n,i=>i.stop(...arguments)),this},e.update=function(i){return zt(n,(r,s)=>r.update(this._getProps(i,r,s))),this};const t=function(r,s,o){return De.fun(r)?r(o,s):r};return e._getProps=t,e};function WK(n,e,t){const i=De.fun(e)&&e;i&&!t&&(t=[]);const r=k.useMemo(()=>i||arguments.length==3?VK():void 0,[]),s=k.useRef(0),o=hR(),a=k.useMemo(()=>({ctrls:[],queue:[],flush(g,x){const A=US(g,x);return s.current>0&&!a.queue.length&&!Object.keys(A).some(T=>!g.springs[T])?N8(g,x):new Promise(T=>{ER(g,A),a.queue.push(()=>{T(N8(g,x))}),o()})}}),[]),l=k.useRef([...a.ctrls]),c=[],h=TS(n)||0;k.useMemo(()=>{zt(l.current.slice(n,h),g=>{CK(g,r),g.stop(!0)}),l.current.length=n,d(h,n)},[n]),k.useMemo(()=>{d(0,Math.min(h,n))},t);function d(g,x){for(let A=g;A<x;A++){const E=l.current[A]||(l.current[A]=new kK(null,a.flush)),T=i?i(A,E):e[A];T&&(c[A]=FK(T))}}const p=l.current.map((g,x)=>US(g,c[x])),m=k.useContext(Pm),v=TS(m),S=m!==v&&TK(m);h7(()=>{s.current++,a.ctrls=l.current;const{queue:g}=a;g.length&&(a.queue=[],zt(g,x=>x())),zt(l.current,(x,A)=>{r==null||r.add(x),S&&x.start({default:m});const E=c[A];E&&(bK(x,E.ref),x.ref?x.queue.push(E):x.start(E))})}),dR(()=>()=>{zt(a.ctrls,g=>g.stop(!0))});const _=p.map(g=>$n({},g));return r?[_,r]:_}function jK(n,e){const t=De.fun(n),[[i],r]=WK(1,t?n:[n],t?e||[]:e);return t||arguments.length==2?[i,r]:i}let kS;(function(n){n.MOUNT="mount",n.ENTER="enter",n.UPDATE="update",n.LEAVE="leave"})(kS||(kS={}));class qK extends y7{constructor(e,t){super(),this.key=void 0,this.idle=!0,this.calc=void 0,this._active=new Set,this.source=e,this.calc=nd(...t);const i=this._get(),r=R8(i);d7(this,r.create(i))}advance(e){const t=this._get(),i=this.get();Ys(t,i)||(ys(this).setValue(t),this._onChange(t,this.idle)),!this.idle&&HS(this._active)&&v6(this)}_get(){const e=De.arr(this.source)?this.source.map(Sr):Rr(Sr(this.source));return this.calc(...e)}_start(){this.idle&&!HS(this._active)&&(this.idle=!1,zt(bm(this),e=>{e.done=!1}),Ls.skipAnimation?(gt.batchedUpdates(()=>this.advance()),v6(this)):Em.start(this))}_attach(){let e=1;zt(Rr(this.source),t=>{xs(t)&&Ud(t,this),L8(t)&&(t.idle||this._active.add(t),e=Math.max(e,t.priority+1))}),this.priority=e,this._start()}_detach(){zt(Rr(this.source),e=>{xs(e)&&g2(e,this)}),this._active.clear(),v6(this)}eventObserved(e){e.type=="change"?e.idle?this.advance():(this._active.add(e.parent),this._start()):e.type=="idle"?this._active.delete(e.parent):e.type=="priority"&&(this.priority=Rr(this.source).reduce((t,i)=>Math.max(t,(L8(i)?i.priority:0)+1),0))}}function XK(n){return n.idle!==!1}function HS(n){return!n.size||Array.from(n).every(XK)}function v6(n){n.idle||(n.idle=!0,zt(bm(n),e=>{e.done=!0}),m2(n,{type:"idle",parent:n}))}Ls.assign({createStringInterpolator:uR,to:(n,e)=>new qK(n,e)});const JK=["primitive"].concat(Object.keys(xP).filter(n=>/^[A-Z]/.test(n)).map(n=>n[0].toLowerCase()+n.slice(1)));Ls.assign({createStringInterpolator:uR,colors:zJ,frameLoop:"demand"});nJ(()=>{gt.advance()});const KK=AK(JK,{applyAnimatedValues:Za}),YK=KK.animated;function QK(n,e,t){return Math.max(e,Math.min(n,t))}const rn={toVector(n,e){return n===void 0&&(n=e),Array.isArray(n)?n:[n,n]},add(n,e){return[n[0]+e[0],n[1]+e[1]]},sub(n,e){return[n[0]-e[0],n[1]-e[1]]},addTo(n,e){n[0]+=e[0],n[1]+=e[1]},subTo(n,e){n[0]-=e[0],n[1]-=e[1]}};function zS(n,e,t){return e===0||Math.abs(e)===1/0?Math.pow(n,t*5):n*e*t/(e+t*n)}function GS(n,e,t,i=.15){return i===0?QK(n,e,t):n<e?-zS(e-n,t-e,i)+e:n>t?+zS(n-t,t-e,i)+t:n}function ZK(n,[e,t],[i,r]){const[[s,o],[a,l]]=n;return[GS(e,s,o,i),GS(t,a,l,r)]}function $K(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function eY(n){var e=$K(n,"string");return typeof e=="symbol"?e:String(e)}function Fn(n,e,t){return e=eY(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function VS(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function pn(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?VS(Object(t),!0).forEach(function(i){Fn(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):VS(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}const bR={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function WS(n){return n?n[0].toUpperCase()+n.slice(1):""}const tY=["enter","leave"];function nY(n=!1,e){return n&&!tY.includes(e)}function iY(n,e="",t=!1){const i=bR[n],r=i&&i[e]||e;return"on"+WS(n)+WS(r)+(nY(t,r)?"Capture":"")}const rY=["gotpointercapture","lostpointercapture"];function sY(n){let e=n.substring(2).toLowerCase();const t=!!~e.indexOf("passive");t&&(e=e.replace("passive",""));const i=rY.includes(e)?"capturecapture":"capture",r=!!~e.indexOf(i);return r&&(e=e.replace("capture","")),{device:e,capture:r,passive:t}}function oY(n,e=""){const t=bR[n],i=t&&t[e]||e;return n+i}function Rm(n){return"touches"in n}function PR(n){return Rm(n)?"touch":"pointerType"in n?n.pointerType:"mouse"}function aY(n){return Array.from(n.touches).filter(e=>{var t,i;return e.target===n.currentTarget||((t=n.currentTarget)===null||t===void 0||(i=t.contains)===null||i===void 0?void 0:i.call(t,e.target))})}function lY(n){return n.type==="touchend"||n.type==="touchcancel"?n.changedTouches:n.targetTouches}function RR(n){return Rm(n)?lY(n)[0]:n}function O8(n,e){try{const t=e.clientX-n.clientX,i=e.clientY-n.clientY,r=(e.clientX+n.clientX)/2,s=(e.clientY+n.clientY)/2,o=Math.hypot(t,i);return{angle:-(Math.atan2(t,i)*180)/Math.PI,distance:o,origin:[r,s]}}catch{}return null}function cY(n){return aY(n).map(e=>e.identifier)}function jS(n,e){const[t,i]=Array.from(n.touches).filter(r=>e.includes(r.identifier));return O8(t,i)}function y6(n){const e=RR(n);return Rm(n)?e.identifier:e.pointerId}function Lu(n){const e=RR(n);return[e.clientX,e.clientY]}const qS=40,XS=800;function BR(n){let{deltaX:e,deltaY:t,deltaMode:i}=n;return i===1?(e*=qS,t*=qS):i===2&&(e*=XS,t*=XS),[e,t]}function uY(n){var e,t;const{scrollX:i,scrollY:r,scrollLeft:s,scrollTop:o}=n.currentTarget;return[(e=i??s)!==null&&e!==void 0?e:0,(t=r??o)!==null&&t!==void 0?t:0]}function fY(n){const e={};if("buttons"in n&&(e.buttons=n.buttons),"shiftKey"in n){const{shiftKey:t,altKey:i,metaKey:r,ctrlKey:s}=n;Object.assign(e,{shiftKey:t,altKey:i,metaKey:r,ctrlKey:s})}return e}function _2(n,...e){return typeof n=="function"?n(...e):n}function hY(){}function dY(...n){return n.length===0?hY:n.length===1?n[0]:function(){let e;for(const t of n)e=t.apply(this,arguments)||e;return e}}function JS(n,e){return Object.assign({},e,n||{})}const pY=32;class IR{constructor(e,t,i){this.ctrl=e,this.args=t,this.key=i,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(e){this.ctrl.state[this.key]=e}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:e,shared:t,ingKey:i,args:r}=this;t[i]=e._active=e.active=e._blocked=e._force=!1,e._step=[!1,!1],e.intentional=!1,e._movement=[0,0],e._distance=[0,0],e._direction=[0,0],e._delta=[0,0],e._bounds=[[-1/0,1/0],[-1/0,1/0]],e.args=r,e.axis=void 0,e.memo=void 0,e.elapsedTime=e.timeDelta=0,e.direction=[0,0],e.distance=[0,0],e.overflow=[0,0],e._movementBound=[!1,!1],e.velocity=[0,0],e.movement=[0,0],e.delta=[0,0],e.timeStamp=0}start(e){const t=this.state,i=this.config;t._active||(this.reset(),this.computeInitial(),t._active=!0,t.target=e.target,t.currentTarget=e.currentTarget,t.lastOffset=i.from?_2(i.from,t):t.offset,t.offset=t.lastOffset,t.startTime=t.timeStamp=e.timeStamp)}computeValues(e){const t=this.state;t._values=e,t.values=this.config.transform(e)}computeInitial(){const e=this.state;e._initial=e._values,e.initial=e.values}compute(e){const{state:t,config:i,shared:r}=this;t.args=this.args;let s=0;if(e&&(t.event=e,i.preventDefault&&e.cancelable&&t.event.preventDefault(),t.type=e.type,r.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,r.locked=!!document.pointerLockElement,Object.assign(r,fY(e)),r.down=r.pressed=r.buttons%2===1||r.touches>0,s=e.timeStamp-t.timeStamp,t.timeStamp=e.timeStamp,t.elapsedTime=t.timeStamp-t.startTime),t._active){const C=t._delta.map(Math.abs);rn.addTo(t._distance,C)}this.axisIntent&&this.axisIntent(e);const[o,a]=t._movement,[l,c]=i.threshold,{_step:h,values:d}=t;if(i.hasCustomTransform?(h[0]===!1&&(h[0]=Math.abs(o)>=l&&d[0]),h[1]===!1&&(h[1]=Math.abs(a)>=c&&d[1])):(h[0]===!1&&(h[0]=Math.abs(o)>=l&&Math.sign(o)*l),h[1]===!1&&(h[1]=Math.abs(a)>=c&&Math.sign(a)*c)),t.intentional=h[0]!==!1||h[1]!==!1,!t.intentional)return;const p=[0,0];if(i.hasCustomTransform){const[C,R]=d;p[0]=h[0]!==!1?C-h[0]:0,p[1]=h[1]!==!1?R-h[1]:0}else p[0]=h[0]!==!1?o-h[0]:0,p[1]=h[1]!==!1?a-h[1]:0;this.restrictToAxis&&!t._blocked&&this.restrictToAxis(p);const m=t.offset,v=t._active&&!t._blocked||t.active;v&&(t.first=t._active&&!t.active,t.last=!t._active&&t.active,t.active=r[this.ingKey]=t._active,e&&(t.first&&("bounds"in i&&(t._bounds=_2(i.bounds,t)),this.setup&&this.setup()),t.movement=p,this.computeOffset()));const[S,_]=t.offset,[[g,x],[A,E]]=t._bounds;t.overflow=[S<g?-1:S>x?1:0,_<A?-1:_>E?1:0],t._movementBound[0]=t.overflow[0]?t._movementBound[0]===!1?t._movement[0]:t._movementBound[0]:!1,t._movementBound[1]=t.overflow[1]?t._movementBound[1]===!1?t._movement[1]:t._movementBound[1]:!1;const T=t._active?i.rubberband||[0,0]:[0,0];if(t.offset=ZK(t._bounds,t.offset,T),t.delta=rn.sub(t.offset,m),this.computeMovement(),v&&(!t.last||s>pY)){t.delta=rn.sub(t.offset,m);const C=t.delta.map(Math.abs);rn.addTo(t.distance,C),t.direction=t.delta.map(Math.sign),t._direction=t._delta.map(Math.sign),!t.first&&s>0&&(t.velocity=[C[0]/s,C[1]/s],t.timeDelta=s)}}emit(){const e=this.state,t=this.shared,i=this.config;if(e._active||this.clean(),(e._blocked||!e.intentional)&&!e._force&&!i.triggerAllEvents)return;const r=this.handler(pn(pn(pn({},t),e),{},{[this.aliasKey]:e.values}));r!==void 0&&(e.memo=r)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function mY([n,e],t){const i=Math.abs(n),r=Math.abs(e);if(i>r&&i>t)return"x";if(r>i&&r>t)return"y"}class kd extends IR{constructor(...e){super(...e),Fn(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=rn.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=rn.sub(this.state.offset,this.state.lastOffset)}axisIntent(e){const t=this.state,i=this.config;if(!t.axis&&e){const r=typeof i.axisThreshold=="object"?i.axisThreshold[PR(e)]:i.axisThreshold;t.axis=mY(t._movement,r)}t._blocked=(i.lockDirection||!!i.axis)&&!t.axis||!!i.axis&&i.axis!==t.axis}restrictToAxis(e){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":e[1]=0;break;case"y":e[0]=0;break}}}const gY=n=>n,KS=.15,LR={enabled(n=!0){return n},eventOptions(n,e,t){return pn(pn({},t.shared.eventOptions),n)},preventDefault(n=!1){return n},triggerAllEvents(n=!1){return n},rubberband(n=0){switch(n){case!0:return[KS,KS];case!1:return[0,0];default:return rn.toVector(n)}},from(n){if(typeof n=="function")return n;if(n!=null)return rn.toVector(n)},transform(n,e,t){const i=n||t.shared.transform;return this.hasCustomTransform=!!i,i||gY},threshold(n){return rn.toVector(n,0)}},vY=0,kl=pn(pn({},LR),{},{axis(n,e,{axis:t}){if(this.lockDirection=t==="lock",!this.lockDirection)return t},axisThreshold(n=vY){return n},bounds(n={}){if(typeof n=="function")return s=>kl.bounds(n(s));if("current"in n)return()=>n.current;if(typeof HTMLElement=="function"&&n instanceof HTMLElement)return n;const{left:e=-1/0,right:t=1/0,top:i=-1/0,bottom:r=1/0}=n;return[[e,t],[i,r]]}}),YS={ArrowRight:(n,e=1)=>[n*e,0],ArrowLeft:(n,e=1)=>[-1*n*e,0],ArrowUp:(n,e=1)=>[0,-1*n*e],ArrowDown:(n,e=1)=>[0,n*e]};class yY extends kd{constructor(...e){super(...e),Fn(this,"ingKey","dragging")}reset(){super.reset();const e=this.state;e._pointerId=void 0,e._pointerActive=!1,e._keyboardActive=!1,e._preventScroll=!1,e._delayed=!1,e.swipe=[0,0],e.tap=!1,e.canceled=!1,e.cancel=this.cancel.bind(this)}setup(){const e=this.state;if(e._bounds instanceof HTMLElement){const t=e._bounds.getBoundingClientRect(),i=e.currentTarget.getBoundingClientRect(),r={left:t.left-i.left+e.offset[0],right:t.right-i.right+e.offset[0],top:t.top-i.top+e.offset[1],bottom:t.bottom-i.bottom+e.offset[1]};e._bounds=kl.bounds(r)}}cancel(){const e=this.state;e.canceled||(e.canceled=!0,e._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(e){const t=this.config,i=this.state;if(e.buttons!=null&&(Array.isArray(t.pointerButtons)?!t.pointerButtons.includes(e.buttons):t.pointerButtons!==-1&&t.pointerButtons!==e.buttons))return;const r=this.ctrl.setEventIds(e);t.pointerCapture&&e.target.setPointerCapture(e.pointerId),!(r&&r.size>1&&i._pointerActive)&&(this.start(e),this.setupPointer(e),i._pointerId=y6(e),i._pointerActive=!0,this.computeValues(Lu(e)),this.computeInitial(),t.preventScrollAxis&&PR(e)!=="mouse"?(i._active=!1,this.setupScrollPrevention(e)):t.delay>0?(this.setupDelayTrigger(e),t.triggerAllEvents&&(this.compute(e),this.emit())):this.startPointerDrag(e))}startPointerDrag(e){const t=this.state;t._active=!0,t._preventScroll=!0,t._delayed=!1,this.compute(e),this.emit()}pointerMove(e){const t=this.state,i=this.config;if(!t._pointerActive)return;const r=y6(e);if(t._pointerId!==void 0&&r!==t._pointerId)return;const s=Lu(e);if(document.pointerLockElement===e.target?t._delta=[e.movementX,e.movementY]:(t._delta=rn.sub(s,t._values),this.computeValues(s)),rn.addTo(t._movement,t._delta),this.compute(e),t._delayed&&t.intentional){this.timeoutStore.remove("dragDelay"),t.active=!1,this.startPointerDrag(e);return}if(i.preventScrollAxis&&!t._preventScroll)if(t.axis)if(t.axis===i.preventScrollAxis||i.preventScrollAxis==="xy"){t._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(e);return}else return;this.emit()}pointerUp(e){this.ctrl.setEventIds(e);try{this.config.pointerCapture&&e.target.hasPointerCapture(e.pointerId)&&e.target.releasePointerCapture(e.pointerId)}catch{}const t=this.state,i=this.config;if(!t._active||!t._pointerActive)return;const r=y6(e);if(t._pointerId!==void 0&&r!==t._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(e);const[s,o]=t._distance;if(t.tap=s<=i.tapsThreshold&&o<=i.tapsThreshold,t.tap&&i.filterTaps)t._force=!0;else{const[a,l]=t._delta,[c,h]=t._movement,[d,p]=i.swipe.velocity,[m,v]=i.swipe.distance,S=i.swipe.duration;if(t.elapsedTime<S){const _=Math.abs(a/t.timeDelta),g=Math.abs(l/t.timeDelta);_>d&&Math.abs(c)>m&&(t.swipe[0]=Math.sign(a)),g>p&&Math.abs(h)>v&&(t.swipe[1]=Math.sign(l))}}this.emit()}pointerClick(e){!this.state.tap&&e.detail>0&&(e.preventDefault(),e.stopPropagation())}setupPointer(e){const t=this.config,i=t.device;t.pointerLock&&e.currentTarget.requestPointerLock(),t.pointerCapture||(this.eventStore.add(this.sharedConfig.window,i,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,i,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,i,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(e){this.state._preventScroll&&e.cancelable&&e.preventDefault()}setupScrollPrevention(e){this.state._preventScroll=!1,xY(e);const t=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",t),this.eventStore.add(this.sharedConfig.window,"touch","cancel",t),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,e)}setupDelayTrigger(e){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(e)},this.config.delay)}keyDown(e){const t=YS[e.key];if(t){const i=this.state,r=e.shiftKey?10:e.altKey?.1:1;this.start(e),i._delta=t(this.config.keyboardDisplacement,r),i._keyboardActive=!0,rn.addTo(i._movement,i._delta),this.compute(e),this.emit()}}keyUp(e){e.key in YS&&(this.state._keyboardActive=!1,this.setActive(),this.compute(e),this.emit())}bind(e){const t=this.config.device;e(t,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(e(t,"change",this.pointerMove.bind(this)),e(t,"end",this.pointerUp.bind(this)),e(t,"cancel",this.pointerUp.bind(this)),e("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(e("key","down",this.keyDown.bind(this)),e("key","up",this.keyUp.bind(this))),this.config.filterTaps&&e("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}function xY(n){"persist"in n&&typeof n.persist=="function"&&n.persist()}const Hd=typeof window<"u"&&window.document&&window.document.createElement;function DR(){return Hd&&"ontouchstart"in window}function _Y(){return DR()||Hd&&window.navigator.maxTouchPoints>1}function AY(){return Hd&&"onpointerdown"in window}function SY(){return Hd&&"exitPointerLock"in window.document}function MY(){try{return"constructor"in GestureEvent}catch{return!1}}const wr={isBrowser:Hd,gesture:MY(),touch:DR(),touchscreen:_Y(),pointer:AY(),pointerLock:SY()},EY=250,wY=180,TY=.5,CY=50,bY=250,PY=10,QS={mouse:0,touch:0,pen:8},RY=pn(pn({},kl),{},{device(n,e,{pointer:{touch:t=!1,lock:i=!1,mouse:r=!1}={}}){return this.pointerLock=i&&wr.pointerLock,wr.touch&&t?"touch":this.pointerLock?"mouse":wr.pointer&&!r?"pointer":wr.touch?"touch":"mouse"},preventScrollAxis(n,e,{preventScroll:t}){if(this.preventScrollDelay=typeof t=="number"?t:t||t===void 0&&n?EY:void 0,!(!wr.touchscreen||t===!1))return n||(t!==void 0?"y":void 0)},pointerCapture(n,e,{pointer:{capture:t=!0,buttons:i=1,keys:r=!0}={}}){return this.pointerButtons=i,this.keys=r,!this.pointerLock&&this.device==="pointer"&&t},threshold(n,e,{filterTaps:t=!1,tapsThreshold:i=3,axis:r=void 0}){const s=rn.toVector(n,t?i:r?1:0);return this.filterTaps=t,this.tapsThreshold=i,s},swipe({velocity:n=TY,distance:e=CY,duration:t=bY}={}){return{velocity:this.transform(rn.toVector(n)),distance:this.transform(rn.toVector(e)),duration:t}},delay(n=0){switch(n){case!0:return wY;case!1:return 0;default:return n}},axisThreshold(n){return n?pn(pn({},QS),n):QS},keyboardDisplacement(n=PY){return n}});function FR(n){const[e,t]=n.overflow,[i,r]=n._delta,[s,o]=n._direction;(e<0&&i>0&&s<0||e>0&&i<0&&s>0)&&(n._movement[0]=n._movementBound[0]),(t<0&&r>0&&o<0||t>0&&r<0&&o>0)&&(n._movement[1]=n._movementBound[1])}const BY=30,IY=100;class LY extends IR{constructor(...e){super(...e),Fn(this,"ingKey","pinching"),Fn(this,"aliasKey","da")}init(){this.state.offset=[1,0],this.state.lastOffset=[1,0],this.state._pointerEvents=new Map}reset(){super.reset();const e=this.state;e._touchIds=[],e.canceled=!1,e.cancel=this.cancel.bind(this),e.turns=0}computeOffset(){const{type:e,movement:t,lastOffset:i}=this.state;e==="wheel"?this.state.offset=rn.add(t,i):this.state.offset=[(1+t[0])*i[0],t[1]+i[1]]}computeMovement(){const{offset:e,lastOffset:t}=this.state;this.state.movement=[e[0]/t[0],e[1]-t[1]]}axisIntent(){const e=this.state,[t,i]=e._movement;if(!e.axis){const r=Math.abs(t)*BY-Math.abs(i);r<0?e.axis="angle":r>0&&(e.axis="scale")}}restrictToAxis(e){this.config.lockDirection&&(this.state.axis==="scale"?e[1]=0:this.state.axis==="angle"&&(e[0]=0))}cancel(){const e=this.state;e.canceled||setTimeout(()=>{e.canceled=!0,e._active=!1,this.compute(),this.emit()},0)}touchStart(e){this.ctrl.setEventIds(e);const t=this.state,i=this.ctrl.touchIds;if(t._active&&t._touchIds.every(s=>i.has(s))||i.size<2)return;this.start(e),t._touchIds=Array.from(i).slice(0,2);const r=jS(e,t._touchIds);r&&this.pinchStart(e,r)}pointerStart(e){if(e.buttons!=null&&e.buttons%2!==1)return;this.ctrl.setEventIds(e),e.target.setPointerCapture(e.pointerId);const t=this.state,i=t._pointerEvents,r=this.ctrl.pointerIds;if(t._active&&Array.from(i.keys()).every(o=>r.has(o))||(i.size<2&&i.set(e.pointerId,e),t._pointerEvents.size<2))return;this.start(e);const s=O8(...Array.from(i.values()));s&&this.pinchStart(e,s)}pinchStart(e,t){const i=this.state;i.origin=t.origin,this.computeValues([t.distance,t.angle]),this.computeInitial(),this.compute(e),this.emit()}touchMove(e){if(!this.state._active)return;const t=jS(e,this.state._touchIds);t&&this.pinchMove(e,t)}pointerMove(e){const t=this.state._pointerEvents;if(t.has(e.pointerId)&&t.set(e.pointerId,e),!this.state._active)return;const i=O8(...Array.from(t.values()));i&&this.pinchMove(e,i)}pinchMove(e,t){const i=this.state,r=i._values[1],s=t.angle-r;let o=0;Math.abs(s)>270&&(o+=Math.sign(s)),this.computeValues([t.distance,t.angle-360*o]),i.origin=t.origin,i.turns=o,i._movement=[i._values[0]/i._initial[0]-1,i._values[1]-i._initial[1]],this.compute(e),this.emit()}touchEnd(e){this.ctrl.setEventIds(e),this.state._active&&this.state._touchIds.some(t=>!this.ctrl.touchIds.has(t))&&(this.state._active=!1,this.compute(e),this.emit())}pointerEnd(e){const t=this.state;this.ctrl.setEventIds(e);try{e.target.releasePointerCapture(e.pointerId)}catch{}t._pointerEvents.has(e.pointerId)&&t._pointerEvents.delete(e.pointerId),t._active&&t._pointerEvents.size<2&&(t._active=!1,this.compute(e),this.emit())}gestureStart(e){e.cancelable&&e.preventDefault();const t=this.state;t._active||(this.start(e),this.computeValues([e.scale,e.rotation]),t.origin=[e.clientX,e.clientY],this.compute(e),this.emit())}gestureMove(e){if(e.cancelable&&e.preventDefault(),!this.state._active)return;const t=this.state;this.computeValues([e.scale,e.rotation]),t.origin=[e.clientX,e.clientY];const i=t._movement;t._movement=[e.scale-1,e.rotation],t._delta=rn.sub(t._movement,i),this.compute(e),this.emit()}gestureEnd(e){this.state._active&&(this.state._active=!1,this.compute(e),this.emit())}wheel(e){const t=this.config.modifierKey;t&&(Array.isArray(t)?!t.find(i=>e[i]):!e[t])||(this.state._active?this.wheelChange(e):this.wheelStart(e),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this)))}wheelStart(e){this.start(e),this.wheelChange(e)}wheelChange(e){"uv"in e||e.cancelable&&e.preventDefault();const i=this.state;i._delta=[-BR(e)[1]/IY*i.offset[0],0],rn.addTo(i._movement,i._delta),FR(i),this.state.origin=[e.clientX,e.clientY],this.compute(e),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(e){const t=this.config.device;t&&(e(t,"start",this[t+"Start"].bind(this)),e(t,"change",this[t+"Move"].bind(this)),e(t,"end",this[t+"End"].bind(this)),e(t,"cancel",this[t+"End"].bind(this)),e("lostPointerCapture","",this[t+"End"].bind(this))),this.config.pinchOnWheel&&e("wheel","",this.wheel.bind(this),{passive:!1})}}const DY=pn(pn({},LR),{},{device(n,e,{shared:t,pointer:{touch:i=!1}={}}){if(t.target&&!wr.touch&&wr.gesture)return"gesture";if(wr.touch&&i)return"touch";if(wr.touchscreen){if(wr.pointer)return"pointer";if(wr.touch)return"touch"}},bounds(n,e,{scaleBounds:t={},angleBounds:i={}}){const r=o=>{const a=JS(_2(t,o),{min:-1/0,max:1/0});return[a.min,a.max]},s=o=>{const a=JS(_2(i,o),{min:-1/0,max:1/0});return[a.min,a.max]};return typeof t!="function"&&typeof i!="function"?[r(),s()]:o=>[r(o),s(o)]},threshold(n,e,t){return this.lockDirection=t.axis==="lock",rn.toVector(n,this.lockDirection?[.1,3]:0)},modifierKey(n){return n===void 0?"ctrlKey":n},pinchOnWheel(n=!0){return n}});class FY extends kd{constructor(...e){super(...e),Fn(this,"ingKey","moving")}move(e){this.config.mouseOnly&&e.pointerType!=="mouse"||(this.state._active?this.moveChange(e):this.moveStart(e),this.timeoutStore.add("moveEnd",this.moveEnd.bind(this)))}moveStart(e){this.start(e),this.computeValues(Lu(e)),this.compute(e),this.computeInitial(),this.emit()}moveChange(e){if(!this.state._active)return;const t=Lu(e),i=this.state;i._delta=rn.sub(t,i._values),rn.addTo(i._movement,i._delta),this.computeValues(t),this.compute(e),this.emit()}moveEnd(e){this.state._active&&(this.state._active=!1,this.compute(e),this.emit())}bind(e){e("pointer","change",this.move.bind(this)),e("pointer","leave",this.moveEnd.bind(this))}}const NY=pn(pn({},kl),{},{mouseOnly:(n=!0)=>n});class OY extends kd{constructor(...e){super(...e),Fn(this,"ingKey","scrolling")}scroll(e){this.state._active||this.start(e),this.scrollChange(e),this.timeoutStore.add("scrollEnd",this.scrollEnd.bind(this))}scrollChange(e){e.cancelable&&e.preventDefault();const t=this.state,i=uY(e);t._delta=rn.sub(i,t._values),rn.addTo(t._movement,t._delta),this.computeValues(i),this.compute(e),this.emit()}scrollEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(e){e("scroll","",this.scroll.bind(this))}}const UY=kl;class kY extends kd{constructor(...e){super(...e),Fn(this,"ingKey","wheeling")}wheel(e){this.state._active||this.start(e),this.wheelChange(e),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this))}wheelChange(e){const t=this.state;t._delta=BR(e),rn.addTo(t._movement,t._delta),FR(t),this.compute(e),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(e){e("wheel","",this.wheel.bind(this))}}const HY=kl;class zY extends kd{constructor(...e){super(...e),Fn(this,"ingKey","hovering")}enter(e){this.config.mouseOnly&&e.pointerType!=="mouse"||(this.start(e),this.computeValues(Lu(e)),this.compute(e),this.emit())}leave(e){if(this.config.mouseOnly&&e.pointerType!=="mouse")return;const t=this.state;if(!t._active)return;t._active=!1;const i=Lu(e);t._movement=t._delta=rn.sub(i,t._values),this.computeValues(i),this.compute(e),t.delta=t.movement,this.emit()}bind(e){e("pointer","enter",this.enter.bind(this)),e("pointer","leave",this.leave.bind(this))}}const GY=pn(pn({},kl),{},{mouseOnly:(n=!0)=>n}),x7=new Map,U8=new Map;function VY(n){x7.set(n.key,n.engine),U8.set(n.key,n.resolver)}const WY={key:"drag",engine:yY,resolver:RY},jY={key:"hover",engine:zY,resolver:GY},qY={key:"move",engine:FY,resolver:NY},XY={key:"pinch",engine:LY,resolver:DY},JY={key:"scroll",engine:OY,resolver:UY},KY={key:"wheel",engine:kY,resolver:HY};function YY(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}function QY(n,e){if(n==null)return{};var t=YY(n,e),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}const ZY={target(n){if(n)return()=>"current"in n?n.current:n},enabled(n=!0){return n},window(n=wr.isBrowser?window:void 0){return n},eventOptions({passive:n=!0,capture:e=!1}={}){return{passive:n,capture:e}},transform(n){return n}},$Y=["target","eventOptions","window","enabled","transform"];function Tp(n={},e){const t={};for(const[i,r]of Object.entries(e))switch(typeof r){case"function":t[i]=r.call(t,n[i],i,n);break;case"object":t[i]=Tp(n[i],r);break;case"boolean":r&&(t[i]=n[i]);break}return t}function eQ(n,e,t={}){const i=n,{target:r,eventOptions:s,window:o,enabled:a,transform:l}=i,c=QY(i,$Y);if(t.shared=Tp({target:r,eventOptions:s,window:o,enabled:a,transform:l},ZY),e){const h=U8.get(e);t[e]=Tp(pn({shared:t.shared},c),h)}else for(const h in c){const d=U8.get(h);d&&(t[h]=Tp(pn({shared:t.shared},c[h]),d))}return t}class NR{constructor(e,t){Fn(this,"_listeners",new Set),this._ctrl=e,this._gestureKey=t}add(e,t,i,r,s){const o=this._listeners,a=oY(t,i),l=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},c=pn(pn({},l),s);e.addEventListener(a,r,c);const h=()=>{e.removeEventListener(a,r,c),o.delete(h)};return o.add(h),h}clean(){this._listeners.forEach(e=>e()),this._listeners.clear()}}class tQ{constructor(){Fn(this,"_timeouts",new Map)}add(e,t,i=140,...r){this.remove(e),this._timeouts.set(e,window.setTimeout(t,i,...r))}remove(e){const t=this._timeouts.get(e);t&&window.clearTimeout(t)}clean(){this._timeouts.forEach(e=>void window.clearTimeout(e)),this._timeouts.clear()}}class nQ{constructor(e){Fn(this,"gestures",new Set),Fn(this,"_targetEventStore",new NR(this)),Fn(this,"gestureEventStores",{}),Fn(this,"gestureTimeoutStores",{}),Fn(this,"handlers",{}),Fn(this,"config",{}),Fn(this,"pointerIds",new Set),Fn(this,"touchIds",new Set),Fn(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),iQ(this,e)}setEventIds(e){if(Rm(e))return this.touchIds=new Set(cY(e)),this.touchIds;if("pointerId"in e)return e.type==="pointerup"||e.type==="pointercancel"?this.pointerIds.delete(e.pointerId):e.type==="pointerdown"&&this.pointerIds.add(e.pointerId),this.pointerIds}applyHandlers(e,t){this.handlers=e,this.nativeHandlers=t}applyConfig(e,t){this.config=eQ(e,t,this.config)}clean(){this._targetEventStore.clean();for(const e of this.gestures)this.gestureEventStores[e].clean(),this.gestureTimeoutStores[e].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...e){const t=this.config.shared,i={};let r;if(!(t.target&&(r=t.target(),!r))){if(t.enabled){for(const o of this.gestures){const a=this.config[o],l=ZS(i,a.eventOptions,!!r);if(a.enabled){const c=x7.get(o);new c(this,e,o).bind(l)}}const s=ZS(i,t.eventOptions,!!r);for(const o in this.nativeHandlers)s(o,"",a=>this.nativeHandlers[o](pn(pn({},this.state.shared),{},{event:a,args:e})),void 0,!0)}for(const s in i)i[s]=dY(...i[s]);if(!r)return i;for(const s in i){const{device:o,capture:a,passive:l}=sY(s);this._targetEventStore.add(r,o,"",i[s],{capture:a,passive:l})}}}}function Tc(n,e){n.gestures.add(e),n.gestureEventStores[e]=new NR(n,e),n.gestureTimeoutStores[e]=new tQ}function iQ(n,e){e.drag&&Tc(n,"drag"),e.wheel&&Tc(n,"wheel"),e.scroll&&Tc(n,"scroll"),e.move&&Tc(n,"move"),e.pinch&&Tc(n,"pinch"),e.hover&&Tc(n,"hover")}const ZS=(n,e,t)=>(i,r,s,o={},a=!1)=>{var l,c;const h=(l=o.capture)!==null&&l!==void 0?l:e.capture,d=(c=o.passive)!==null&&c!==void 0?c:e.passive;let p=a?i:iY(i,r,h);t&&d&&(p+="Passive"),n[p]=n[p]||[],n[p].push(s)},rQ=/^on(Drag|Wheel|Scroll|Move|Pinch|Hover)/;function sQ(n){const e={},t={},i=new Set;for(let r in n)rQ.test(r)?(i.add(RegExp.lastMatch),t[r]=n[r]):e[r]=n[r];return[t,e,i]}function Cc(n,e,t,i,r,s){if(!n.has(t)||!x7.has(i))return;const o=t+"Start",a=t+"End",l=c=>{let h;return c.first&&o in e&&e[o](c),t in e&&(h=e[t](c)),c.last&&a in e&&e[a](c),h};r[i]=l,s[i]=s[i]||{}}function oQ(n,e){const[t,i,r]=sQ(n),s={};return Cc(r,t,"onDrag","drag",s,e),Cc(r,t,"onWheel","wheel",s,e),Cc(r,t,"onScroll","scroll",s,e),Cc(r,t,"onPinch","pinch",s,e),Cc(r,t,"onMove","move",s,e),Cc(r,t,"onHover","hover",s,e),{handlers:s,config:e,nativeHandlers:i}}function aQ(n,e={},t,i){const r=Jf.useMemo(()=>new nQ(n),[]);if(r.applyHandlers(n,i),r.applyConfig(e,t),Jf.useEffect(r.effect.bind(r)),Jf.useEffect(()=>r.clean.bind(r),[]),e.target===void 0)return r.bind.bind(r)}function lQ(n){return n.forEach(VY),function(t,i){const{handlers:r,nativeHandlers:s,config:o}=oQ(t,i||{});return aQ(r,o,void 0,s)}}function cQ(n,e){return lQ([WY,XY,JY,KY,qY,jY])(n,e||{})}function uQ({enabled:n=!0,snap:e,global:t,domElement:i,cursor:r=!0,children:s,speed:o=1,rotation:a=[0,0,0],zoom:l=1,polar:c=[0,Math.PI/2],azimuth:h=[-1/0,1/0],config:d={mass:1,tension:170,friction:26}}){const p=Ar(C=>C.events),m=Ar(C=>C.gl),v=i||p.connected||m.domElement,{size:S}=Ar(),_=k.useMemo(()=>[a[0]+c[0],a[0]+c[1]],[a[0],c[0],c[1]]),g=k.useMemo(()=>[a[1]+h[0],a[1]+h[1]],[a[1],h[0],h[1]]),x=k.useMemo(()=>[Xc.clamp(a[0],..._),Xc.clamp(a[1],...g),a[2]],[a[0],a[1],a[2],_,g]),[A,E]=jK(()=>({scale:1,rotation:x,config:d}));k.useEffect(()=>void E.start({scale:1,rotation:x,config:d}),[x]),k.useEffect(()=>{if(t&&r&&n)return v.style.cursor="grab",m.domElement.style.cursor="",()=>{v.style.cursor="default",m.domElement.style.cursor="default"}},[t,r,v,n]);const T=cQ({onHover:({last:C})=>{r&&!t&&n&&(v.style.cursor=C?"auto":"grab")},onDrag:({down:C,delta:[R,I],memo:[P,B]=A.rotation.animation.to||x})=>{if(!n)return[I,R];r&&(v.style.cursor=C?"grabbing":"grab"),R=Xc.clamp(B+R/S.width*Math.PI*o,...g),I=Xc.clamp(P+I/S.height*Math.PI*o,..._);const U=e&&!C&&typeof e!="boolean"?e:d;return E.start({scale:C&&I>_[1]/2?l:1,rotation:e&&!C?x:[I,R,0],config:Y=>Y==="scale"?{...U,friction:U.friction*3}:U}),[I,R]}},{target:t?v:void 0});return k.createElement(YK.group,or({},T==null?void 0:T(),A),s)}function _7(){}_7.prototype.s2u=function(n){for(var e=this.s2uTable,t="",i=0;i<n.length;){var r=n[i++];if(!(r>=0&&r<=126||r>=161&&r<=223)&&i<n.length&&(r=r<<8|n[i++]),e[r]===void 0)return console.error("unknown char code "+r+"."),t;t+=String.fromCharCode(e[r])}return t};_7.prototype.s2uTable={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,10:10,11:11,12:12,13:13,14:14,15:15,16:16,17:17,18:18,19:19,20:20,21:21,22:22,23:23,24:24,25:25,26:26,27:27,28:28,29:29,30:30,31:31,32:32,33:33,34:34,35:35,36:36,37:37,38:38,39:39,40:40,41:41,42:42,43:43,44:44,45:45,46:46,47:47,48:48,49:49,50:50,51:51,52:52,53:53,54:54,55:55,56:56,57:57,58:58,59:59,60:60,61:61,62:62,63:63,64:64,65:65,66:66,67:67,68:68,69:69,70:70,71:71,72:72,73:73,74:74,75:75,76:76,77:77,78:78,79:79,80:80,81:81,82:82,83:83,84:84,85:85,86:86,87:87,88:88,89:89,90:90,91:91,92:92,93:93,94:94,95:95,96:96,97:97,98:98,99:99,100:100,101:101,102:102,103:103,104:104,105:105,106:106,107:107,108:108,109:109,110:110,111:111,112:112,113:113,114:114,115:115,116:116,117:117,118:118,119:119,120:120,121:121,122:122,123:123,124:124,125:125,126:126,161:65377,162:65378,163:65379,164:65380,165:65381,166:65382,167:65383,168:65384,169:65385,170:65386,171:65387,172:65388,173:65389,174:65390,175:65391,176:65392,177:65393,178:65394,179:65395,180:65396,181:65397,182:65398,183:65399,184:65400,185:65401,186:65402,187:65403,188:65404,189:65405,190:65406,191:65407,192:65408,193:65409,194:65410,195:65411,196:65412,197:65413,198:65414,199:65415,200:65416,201:65417,202:65418,203:65419,204:65420,205:65421,206:65422,207:65423,208:65424,209:65425,210:65426,211:65427,212:65428,213:65429,214:65430,215:65431,216:65432,217:65433,218:65434,219:65435,220:65436,221:65437,222:65438,223:65439,33088:12288,33089:12289,33090:12290,33091:65292,33092:65294,33093:12539,33094:65306,33095:65307,33096:65311,33097:65281,33098:12443,33099:12444,33100:180,33101:65344,33102:168,33103:65342,33104:65507,33105:65343,33106:12541,33107:12542,33108:12445,33109:12446,33110:12291,33111:20189,33112:12293,33113:12294,33114:12295,33115:12540,33116:8213,33117:8208,33118:65295,33119:65340,33120:65374,33121:8741,33122:65372,33123:8230,33124:8229,33125:8216,33126:8217,33127:8220,33128:8221,33129:65288,33130:65289,33131:12308,33132:12309,33133:65339,33134:65341,33135:65371,33136:65373,33137:12296,33138:12297,33139:12298,33140:12299,33141:12300,33142:12301,33143:12302,33144:12303,33145:12304,33146:12305,33147:65291,33148:65293,33149:177,33150:215,33152:247,33153:65309,33154:8800,33155:65308,33156:65310,33157:8806,33158:8807,33159:8734,33160:8756,33161:9794,33162:9792,33163:176,33164:8242,33165:8243,33166:8451,33167:65509,33168:65284,33169:65504,33170:65505,33171:65285,33172:65283,33173:65286,33174:65290,33175:65312,33176:167,33177:9734,33178:9733,33179:9675,33180:9679,33181:9678,33182:9671,33183:9670,33184:9633,33185:9632,33186:9651,33187:9650,33188:9661,33189:9660,33190:8251,33191:12306,33192:8594,33193:8592,33194:8593,33195:8595,33196:12307,33208:8712,33209:8715,33210:8838,33211:8839,33212:8834,33213:8835,33214:8746,33215:8745,33224:8743,33225:8744,33226:65506,33227:8658,33228:8660,33229:8704,33230:8707,33242:8736,33243:8869,33244:8978,33245:8706,33246:8711,33247:8801,33248:8786,33249:8810,33250:8811,33251:8730,33252:8765,33253:8733,33254:8757,33255:8747,33256:8748,33264:8491,33265:8240,33266:9839,33267:9837,33268:9834,33269:8224,33270:8225,33271:182,33276:9711,33359:65296,33360:65297,33361:65298,33362:65299,33363:65300,33364:65301,33365:65302,33366:65303,33367:65304,33368:65305,33376:65313,33377:65314,33378:65315,33379:65316,33380:65317,33381:65318,33382:65319,33383:65320,33384:65321,33385:65322,33386:65323,33387:65324,33388:65325,33389:65326,33390:65327,33391:65328,33392:65329,33393:65330,33394:65331,33395:65332,33396:65333,33397:65334,33398:65335,33399:65336,33400:65337,33401:65338,33409:65345,33410:65346,33411:65347,33412:65348,33413:65349,33414:65350,33415:65351,33416:65352,33417:65353,33418:65354,33419:65355,33420:65356,33421:65357,33422:65358,33423:65359,33424:65360,33425:65361,33426:65362,33427:65363,33428:65364,33429:65365,33430:65366,33431:65367,33432:65368,33433:65369,33434:65370,33439:12353,33440:12354,33441:12355,33442:12356,33443:12357,33444:12358,33445:12359,33446:12360,33447:12361,33448:12362,33449:12363,33450:12364,33451:12365,33452:12366,33453:12367,33454:12368,33455:12369,33456:12370,33457:12371,33458:12372,33459:12373,33460:12374,33461:12375,33462:12376,33463:12377,33464:12378,33465:12379,33466:12380,33467:12381,33468:12382,33469:12383,33470:12384,33471:12385,33472:12386,33473:12387,33474:12388,33475:12389,33476:12390,33477:12391,33478:12392,33479:12393,33480:12394,33481:12395,33482:12396,33483:12397,33484:12398,33485:12399,33486:12400,33487:12401,33488:12402,33489:12403,33490:12404,33491:12405,33492:12406,33493:12407,33494:12408,33495:12409,33496:12410,33497:12411,33498:12412,33499:12413,33500:12414,33501:12415,33502:12416,33503:12417,33504:12418,33505:12419,33506:12420,33507:12421,33508:12422,33509:12423,33510:12424,33511:12425,33512:12426,33513:12427,33514:12428,33515:12429,33516:12430,33517:12431,33518:12432,33519:12433,33520:12434,33521:12435,33600:12449,33601:12450,33602:12451,33603:12452,33604:12453,33605:12454,33606:12455,33607:12456,33608:12457,33609:12458,33610:12459,33611:12460,33612:12461,33613:12462,33614:12463,33615:12464,33616:12465,33617:12466,33618:12467,33619:12468,33620:12469,33621:12470,33622:12471,33623:12472,33624:12473,33625:12474,33626:12475,33627:12476,33628:12477,33629:12478,33630:12479,33631:12480,33632:12481,33633:12482,33634:12483,33635:12484,33636:12485,33637:12486,33638:12487,33639:12488,33640:12489,33641:12490,33642:12491,33643:12492,33644:12493,33645:12494,33646:12495,33647:12496,33648:12497,33649:12498,33650:12499,33651:12500,33652:12501,33653:12502,33654:12503,33655:12504,33656:12505,33657:12506,33658:12507,33659:12508,33660:12509,33661:12510,33662:12511,33664:12512,33665:12513,33666:12514,33667:12515,33668:12516,33669:12517,33670:12518,33671:12519,33672:12520,33673:12521,33674:12522,33675:12523,33676:12524,33677:12525,33678:12526,33679:12527,33680:12528,33681:12529,33682:12530,33683:12531,33684:12532,33685:12533,33686:12534,33695:913,33696:914,33697:915,33698:916,33699:917,33700:918,33701:919,33702:920,33703:921,33704:922,33705:923,33706:924,33707:925,33708:926,33709:927,33710:928,33711:929,33712:931,33713:932,33714:933,33715:934,33716:935,33717:936,33718:937,33727:945,33728:946,33729:947,33730:948,33731:949,33732:950,33733:951,33734:952,33735:953,33736:954,33737:955,33738:956,33739:957,33740:958,33741:959,33742:960,33743:961,33744:963,33745:964,33746:965,33747:966,33748:967,33749:968,33750:969,33856:1040,33857:1041,33858:1042,33859:1043,33860:1044,33861:1045,33862:1025,33863:1046,33864:1047,33865:1048,33866:1049,33867:1050,33868:1051,33869:1052,33870:1053,33871:1054,33872:1055,33873:1056,33874:1057,33875:1058,33876:1059,33877:1060,33878:1061,33879:1062,33880:1063,33881:1064,33882:1065,33883:1066,33884:1067,33885:1068,33886:1069,33887:1070,33888:1071,33904:1072,33905:1073,33906:1074,33907:1075,33908:1076,33909:1077,33910:1105,33911:1078,33912:1079,33913:1080,33914:1081,33915:1082,33916:1083,33917:1084,33918:1085,33920:1086,33921:1087,33922:1088,33923:1089,33924:1090,33925:1091,33926:1092,33927:1093,33928:1094,33929:1095,33930:1096,33931:1097,33932:1098,33933:1099,33934:1100,33935:1101,33936:1102,33937:1103,33951:9472,33952:9474,33953:9484,33954:9488,33955:9496,33956:9492,33957:9500,33958:9516,33959:9508,33960:9524,33961:9532,33962:9473,33963:9475,33964:9487,33965:9491,33966:9499,33967:9495,33968:9507,33969:9523,33970:9515,33971:9531,33972:9547,33973:9504,33974:9519,33975:9512,33976:9527,33977:9535,33978:9501,33979:9520,33980:9509,33981:9528,33982:9538,34624:9312,34625:9313,34626:9314,34627:9315,34628:9316,34629:9317,34630:9318,34631:9319,34632:9320,34633:9321,34634:9322,34635:9323,34636:9324,34637:9325,34638:9326,34639:9327,34640:9328,34641:9329,34642:9330,34643:9331,34644:8544,34645:8545,34646:8546,34647:8547,34648:8548,34649:8549,34650:8550,34651:8551,34652:8552,34653:8553,34655:13129,34656:13076,34657:13090,34658:13133,34659:13080,34660:13095,34661:13059,34662:13110,34663:13137,34664:13143,34665:13069,34666:13094,34667:13091,34668:13099,34669:13130,34670:13115,34671:13212,34672:13213,34673:13214,34674:13198,34675:13199,34676:13252,34677:13217,34686:13179,34688:12317,34689:12319,34690:8470,34691:13261,34692:8481,34693:12964,34694:12965,34695:12966,34696:12967,34697:12968,34698:12849,34699:12850,34700:12857,34701:13182,34702:13181,34703:13180,34704:8786,34705:8801,34706:8747,34707:8750,34708:8721,34709:8730,34710:8869,34711:8736,34712:8735,34713:8895,34714:8757,34715:8745,34716:8746,34975:20124,34976:21782,34977:23043,34978:38463,34979:21696,34980:24859,34981:25384,34982:23030,34983:36898,34984:33909,34985:33564,34986:31312,34987:24746,34988:25569,34989:28197,34990:26093,34991:33894,34992:33446,34993:39925,34994:26771,34995:22311,34996:26017,34997:25201,34998:23451,34999:22992,35e3:34427,35001:39156,35002:32098,35003:32190,35004:39822,35005:25110,35006:31903,35007:34999,35008:23433,35009:24245,35010:25353,35011:26263,35012:26696,35013:38343,35014:38797,35015:26447,35016:20197,35017:20234,35018:20301,35019:20381,35020:20553,35021:22258,35022:22839,35023:22996,35024:23041,35025:23561,35026:24799,35027:24847,35028:24944,35029:26131,35030:26885,35031:28858,35032:30031,35033:30064,35034:31227,35035:32173,35036:32239,35037:32963,35038:33806,35039:34915,35040:35586,35041:36949,35042:36986,35043:21307,35044:20117,35045:20133,35046:22495,35047:32946,35048:37057,35049:30959,35050:19968,35051:22769,35052:28322,35053:36920,35054:31282,35055:33576,35056:33419,35057:39983,35058:20801,35059:21360,35060:21693,35061:21729,35062:22240,35063:23035,35064:24341,35065:39154,35066:28139,35067:32996,35068:34093,35136:38498,35137:38512,35138:38560,35139:38907,35140:21515,35141:21491,35142:23431,35143:28879,35144:32701,35145:36802,35146:38632,35147:21359,35148:40284,35149:31418,35150:19985,35151:30867,35152:33276,35153:28198,35154:22040,35155:21764,35156:27421,35157:34074,35158:39995,35159:23013,35160:21417,35161:28006,35162:29916,35163:38287,35164:22082,35165:20113,35166:36939,35167:38642,35168:33615,35169:39180,35170:21473,35171:21942,35172:23344,35173:24433,35174:26144,35175:26355,35176:26628,35177:27704,35178:27891,35179:27945,35180:29787,35181:30408,35182:31310,35183:38964,35184:33521,35185:34907,35186:35424,35187:37613,35188:28082,35189:30123,35190:30410,35191:39365,35192:24742,35193:35585,35194:36234,35195:38322,35196:27022,35197:21421,35198:20870,35200:22290,35201:22576,35202:22852,35203:23476,35204:24310,35205:24616,35206:25513,35207:25588,35208:27839,35209:28436,35210:28814,35211:28948,35212:29017,35213:29141,35214:29503,35215:32257,35216:33398,35217:33489,35218:34199,35219:36960,35220:37467,35221:40219,35222:22633,35223:26044,35224:27738,35225:29989,35226:20985,35227:22830,35228:22885,35229:24448,35230:24540,35231:25276,35232:26106,35233:27178,35234:27431,35235:27572,35236:29579,35237:32705,35238:35158,35239:40236,35240:40206,35241:40644,35242:23713,35243:27798,35244:33659,35245:20740,35246:23627,35247:25014,35248:33222,35249:26742,35250:29281,35251:20057,35252:20474,35253:21368,35254:24681,35255:28201,35256:31311,35257:38899,35258:19979,35259:21270,35260:20206,35261:20309,35262:20285,35263:20385,35264:20339,35265:21152,35266:21487,35267:22025,35268:22799,35269:23233,35270:23478,35271:23521,35272:31185,35273:26247,35274:26524,35275:26550,35276:27468,35277:27827,35278:28779,35279:29634,35280:31117,35281:31166,35282:31292,35283:31623,35284:33457,35285:33499,35286:33540,35287:33655,35288:33775,35289:33747,35290:34662,35291:35506,35292:22057,35293:36008,35294:36838,35295:36942,35296:38686,35297:34442,35298:20420,35299:23784,35300:25105,35301:29273,35302:30011,35303:33253,35304:33469,35305:34558,35306:36032,35307:38597,35308:39187,35309:39381,35310:20171,35311:20250,35312:35299,35313:22238,35314:22602,35315:22730,35316:24315,35317:24555,35318:24618,35319:24724,35320:24674,35321:25040,35322:25106,35323:25296,35324:25913,35392:39745,35393:26214,35394:26800,35395:28023,35396:28784,35397:30028,35398:30342,35399:32117,35400:33445,35401:34809,35402:38283,35403:38542,35404:35997,35405:20977,35406:21182,35407:22806,35408:21683,35409:23475,35410:23830,35411:24936,35412:27010,35413:28079,35414:30861,35415:33995,35416:34903,35417:35442,35418:37799,35419:39608,35420:28012,35421:39336,35422:34521,35423:22435,35424:26623,35425:34510,35426:37390,35427:21123,35428:22151,35429:21508,35430:24275,35431:25313,35432:25785,35433:26684,35434:26680,35435:27579,35436:29554,35437:30906,35438:31339,35439:35226,35440:35282,35441:36203,35442:36611,35443:37101,35444:38307,35445:38548,35446:38761,35447:23398,35448:23731,35449:27005,35450:38989,35451:38990,35452:25499,35453:31520,35454:27179,35456:27263,35457:26806,35458:39949,35459:28511,35460:21106,35461:21917,35462:24688,35463:25324,35464:27963,35465:28167,35466:28369,35467:33883,35468:35088,35469:36676,35470:19988,35471:39993,35472:21494,35473:26907,35474:27194,35475:38788,35476:26666,35477:20828,35478:31427,35479:33970,35480:37340,35481:37772,35482:22107,35483:40232,35484:26658,35485:33541,35486:33841,35487:31909,35488:21e3,35489:33477,35490:29926,35491:20094,35492:20355,35493:20896,35494:23506,35495:21002,35496:21208,35497:21223,35498:24059,35499:21914,35500:22570,35501:23014,35502:23436,35503:23448,35504:23515,35505:24178,35506:24185,35507:24739,35508:24863,35509:24931,35510:25022,35511:25563,35512:25954,35513:26577,35514:26707,35515:26874,35516:27454,35517:27475,35518:27735,35519:28450,35520:28567,35521:28485,35522:29872,35523:29976,35524:30435,35525:30475,35526:31487,35527:31649,35528:31777,35529:32233,35530:32566,35531:32752,35532:32925,35533:33382,35534:33694,35535:35251,35536:35532,35537:36011,35538:36996,35539:37969,35540:38291,35541:38289,35542:38306,35543:38501,35544:38867,35545:39208,35546:33304,35547:20024,35548:21547,35549:23736,35550:24012,35551:29609,35552:30284,35553:30524,35554:23721,35555:32747,35556:36107,35557:38593,35558:38929,35559:38996,35560:39e3,35561:20225,35562:20238,35563:21361,35564:21916,35565:22120,35566:22522,35567:22855,35568:23305,35569:23492,35570:23696,35571:24076,35572:24190,35573:24524,35574:25582,35575:26426,35576:26071,35577:26082,35578:26399,35579:26827,35580:26820,35648:27231,35649:24112,35650:27589,35651:27671,35652:27773,35653:30079,35654:31048,35655:23395,35656:31232,35657:32e3,35658:24509,35659:35215,35660:35352,35661:36020,35662:36215,35663:36556,35664:36637,35665:39138,35666:39438,35667:39740,35668:20096,35669:20605,35670:20736,35671:22931,35672:23452,35673:25135,35674:25216,35675:25836,35676:27450,35677:29344,35678:30097,35679:31047,35680:32681,35681:34811,35682:35516,35683:35696,35684:25516,35685:33738,35686:38816,35687:21513,35688:21507,35689:21931,35690:26708,35691:27224,35692:35440,35693:30759,35694:26485,35695:40653,35696:21364,35697:23458,35698:33050,35699:34384,35700:36870,35701:19992,35702:20037,35703:20167,35704:20241,35705:21450,35706:21560,35707:23470,35708:24339,35709:24613,35710:25937,35712:26429,35713:27714,35714:27762,35715:27875,35716:28792,35717:29699,35718:31350,35719:31406,35720:31496,35721:32026,35722:31998,35723:32102,35724:26087,35725:29275,35726:21435,35727:23621,35728:24040,35729:25298,35730:25312,35731:25369,35732:28192,35733:34394,35734:35377,35735:36317,35736:37624,35737:28417,35738:31142,35739:39770,35740:20136,35741:20139,35742:20140,35743:20379,35744:20384,35745:20689,35746:20807,35747:31478,35748:20849,35749:20982,35750:21332,35751:21281,35752:21375,35753:21483,35754:21932,35755:22659,35756:23777,35757:24375,35758:24394,35759:24623,35760:24656,35761:24685,35762:25375,35763:25945,35764:27211,35765:27841,35766:29378,35767:29421,35768:30703,35769:33016,35770:33029,35771:33288,35772:34126,35773:37111,35774:37857,35775:38911,35776:39255,35777:39514,35778:20208,35779:20957,35780:23597,35781:26241,35782:26989,35783:23616,35784:26354,35785:26997,35786:29577,35787:26704,35788:31873,35789:20677,35790:21220,35791:22343,35792:24062,35793:37670,35794:26020,35795:27427,35796:27453,35797:29748,35798:31105,35799:31165,35800:31563,35801:32202,35802:33465,35803:33740,35804:34943,35805:35167,35806:35641,35807:36817,35808:37329,35809:21535,35810:37504,35811:20061,35812:20534,35813:21477,35814:21306,35815:29399,35816:29590,35817:30697,35818:33510,35819:36527,35820:39366,35821:39368,35822:39378,35823:20855,35824:24858,35825:34398,35826:21936,35827:31354,35828:20598,35829:23507,35830:36935,35831:38533,35832:20018,35833:27355,35834:37351,35835:23633,35836:23624,35904:25496,35905:31391,35906:27795,35907:38772,35908:36705,35909:31402,35910:29066,35911:38536,35912:31874,35913:26647,35914:32368,35915:26705,35916:37740,35917:21234,35918:21531,35919:34219,35920:35347,35921:32676,35922:36557,35923:37089,35924:21350,35925:34952,35926:31041,35927:20418,35928:20670,35929:21009,35930:20804,35931:21843,35932:22317,35933:29674,35934:22411,35935:22865,35936:24418,35937:24452,35938:24693,35939:24950,35940:24935,35941:25001,35942:25522,35943:25658,35944:25964,35945:26223,35946:26690,35947:28179,35948:30054,35949:31293,35950:31995,35951:32076,35952:32153,35953:32331,35954:32619,35955:33550,35956:33610,35957:34509,35958:35336,35959:35427,35960:35686,35961:36605,35962:38938,35963:40335,35964:33464,35965:36814,35966:39912,35968:21127,35969:25119,35970:25731,35971:28608,35972:38553,35973:26689,35974:20625,35975:27424,35976:27770,35977:28500,35978:31348,35979:32080,35980:34880,35981:35363,35982:26376,35983:20214,35984:20537,35985:20518,35986:20581,35987:20860,35988:21048,35989:21091,35990:21927,35991:22287,35992:22533,35993:23244,35994:24314,35995:25010,35996:25080,35997:25331,35998:25458,35999:26908,36e3:27177,36001:29309,36002:29356,36003:29486,36004:30740,36005:30831,36006:32121,36007:30476,36008:32937,36009:35211,36010:35609,36011:36066,36012:36562,36013:36963,36014:37749,36015:38522,36016:38997,36017:39443,36018:40568,36019:20803,36020:21407,36021:21427,36022:24187,36023:24358,36024:28187,36025:28304,36026:29572,36027:29694,36028:32067,36029:33335,36030:35328,36031:35578,36032:38480,36033:20046,36034:20491,36035:21476,36036:21628,36037:22266,36038:22993,36039:23396,36040:24049,36041:24235,36042:24359,36043:25144,36044:25925,36045:26543,36046:28246,36047:29392,36048:31946,36049:34996,36050:32929,36051:32993,36052:33776,36053:34382,36054:35463,36055:36328,36056:37431,36057:38599,36058:39015,36059:40723,36060:20116,36061:20114,36062:20237,36063:21320,36064:21577,36065:21566,36066:23087,36067:24460,36068:24481,36069:24735,36070:26791,36071:27278,36072:29786,36073:30849,36074:35486,36075:35492,36076:35703,36077:37264,36078:20062,36079:39881,36080:20132,36081:20348,36082:20399,36083:20505,36084:20502,36085:20809,36086:20844,36087:21151,36088:21177,36089:21246,36090:21402,36091:21475,36092:21521,36160:21518,36161:21897,36162:22353,36163:22434,36164:22909,36165:23380,36166:23389,36167:23439,36168:24037,36169:24039,36170:24055,36171:24184,36172:24195,36173:24218,36174:24247,36175:24344,36176:24658,36177:24908,36178:25239,36179:25304,36180:25511,36181:25915,36182:26114,36183:26179,36184:26356,36185:26477,36186:26657,36187:26775,36188:27083,36189:27743,36190:27946,36191:28009,36192:28207,36193:28317,36194:30002,36195:30343,36196:30828,36197:31295,36198:31968,36199:32005,36200:32024,36201:32094,36202:32177,36203:32789,36204:32771,36205:32943,36206:32945,36207:33108,36208:33167,36209:33322,36210:33618,36211:34892,36212:34913,36213:35611,36214:36002,36215:36092,36216:37066,36217:37237,36218:37489,36219:30783,36220:37628,36221:38308,36222:38477,36224:38917,36225:39321,36226:39640,36227:40251,36228:21083,36229:21163,36230:21495,36231:21512,36232:22741,36233:25335,36234:28640,36235:35946,36236:36703,36237:40633,36238:20811,36239:21051,36240:21578,36241:22269,36242:31296,36243:37239,36244:40288,36245:40658,36246:29508,36247:28425,36248:33136,36249:29969,36250:24573,36251:24794,36252:39592,36253:29403,36254:36796,36255:27492,36256:38915,36257:20170,36258:22256,36259:22372,36260:22718,36261:23130,36262:24680,36263:25031,36264:26127,36265:26118,36266:26681,36267:26801,36268:28151,36269:30165,36270:32058,36271:33390,36272:39746,36273:20123,36274:20304,36275:21449,36276:21766,36277:23919,36278:24038,36279:24046,36280:26619,36281:27801,36282:29811,36283:30722,36284:35408,36285:37782,36286:35039,36287:22352,36288:24231,36289:25387,36290:20661,36291:20652,36292:20877,36293:26368,36294:21705,36295:22622,36296:22971,36297:23472,36298:24425,36299:25165,36300:25505,36301:26685,36302:27507,36303:28168,36304:28797,36305:37319,36306:29312,36307:30741,36308:30758,36309:31085,36310:25998,36311:32048,36312:33756,36313:35009,36314:36617,36315:38555,36316:21092,36317:22312,36318:26448,36319:32618,36320:36001,36321:20916,36322:22338,36323:38442,36324:22586,36325:27018,36326:32948,36327:21682,36328:23822,36329:22524,36330:30869,36331:40442,36332:20316,36333:21066,36334:21643,36335:25662,36336:26152,36337:26388,36338:26613,36339:31364,36340:31574,36341:32034,36342:37679,36343:26716,36344:39853,36345:31545,36346:21273,36347:20874,36348:21047,36416:23519,36417:25334,36418:25774,36419:25830,36420:26413,36421:27578,36422:34217,36423:38609,36424:30352,36425:39894,36426:25420,36427:37638,36428:39851,36429:30399,36430:26194,36431:19977,36432:20632,36433:21442,36434:23665,36435:24808,36436:25746,36437:25955,36438:26719,36439:29158,36440:29642,36441:29987,36442:31639,36443:32386,36444:34453,36445:35715,36446:36059,36447:37240,36448:39184,36449:26028,36450:26283,36451:27531,36452:20181,36453:20180,36454:20282,36455:20351,36456:21050,36457:21496,36458:21490,36459:21987,36460:22235,36461:22763,36462:22987,36463:22985,36464:23039,36465:23376,36466:23629,36467:24066,36468:24107,36469:24535,36470:24605,36471:25351,36472:25903,36473:23388,36474:26031,36475:26045,36476:26088,36477:26525,36478:27490,36480:27515,36481:27663,36482:29509,36483:31049,36484:31169,36485:31992,36486:32025,36487:32043,36488:32930,36489:33026,36490:33267,36491:35222,36492:35422,36493:35433,36494:35430,36495:35468,36496:35566,36497:36039,36498:36060,36499:38604,36500:39164,36501:27503,36502:20107,36503:20284,36504:20365,36505:20816,36506:23383,36507:23546,36508:24904,36509:25345,36510:26178,36511:27425,36512:28363,36513:27835,36514:29246,36515:29885,36516:30164,36517:30913,36518:31034,36519:32780,36520:32819,36521:33258,36522:33940,36523:36766,36524:27728,36525:40575,36526:24335,36527:35672,36528:40235,36529:31482,36530:36600,36531:23437,36532:38635,36533:19971,36534:21489,36535:22519,36536:22833,36537:23241,36538:23460,36539:24713,36540:28287,36541:28422,36542:30142,36543:36074,36544:23455,36545:34048,36546:31712,36547:20594,36548:26612,36549:33437,36550:23649,36551:34122,36552:32286,36553:33294,36554:20889,36555:23556,36556:25448,36557:36198,36558:26012,36559:29038,36560:31038,36561:32023,36562:32773,36563:35613,36564:36554,36565:36974,36566:34503,36567:37034,36568:20511,36569:21242,36570:23610,36571:26451,36572:28796,36573:29237,36574:37196,36575:37320,36576:37675,36577:33509,36578:23490,36579:24369,36580:24825,36581:20027,36582:21462,36583:23432,36584:25163,36585:26417,36586:27530,36587:29417,36588:29664,36589:31278,36590:33131,36591:36259,36592:37202,36593:39318,36594:20754,36595:21463,36596:21610,36597:23551,36598:25480,36599:27193,36600:32172,36601:38656,36602:22234,36603:21454,36604:21608,36672:23447,36673:23601,36674:24030,36675:20462,36676:24833,36677:25342,36678:27954,36679:31168,36680:31179,36681:32066,36682:32333,36683:32722,36684:33261,36685:33311,36686:33936,36687:34886,36688:35186,36689:35728,36690:36468,36691:36655,36692:36913,36693:37195,36694:37228,36695:38598,36696:37276,36697:20160,36698:20303,36699:20805,36700:21313,36701:24467,36702:25102,36703:26580,36704:27713,36705:28171,36706:29539,36707:32294,36708:37325,36709:37507,36710:21460,36711:22809,36712:23487,36713:28113,36714:31069,36715:32302,36716:31899,36717:22654,36718:29087,36719:20986,36720:34899,36721:36848,36722:20426,36723:23803,36724:26149,36725:30636,36726:31459,36727:33308,36728:39423,36729:20934,36730:24490,36731:26092,36732:26991,36733:27529,36734:28147,36736:28310,36737:28516,36738:30462,36739:32020,36740:24033,36741:36981,36742:37255,36743:38918,36744:20966,36745:21021,36746:25152,36747:26257,36748:26329,36749:28186,36750:24246,36751:32210,36752:32626,36753:26360,36754:34223,36755:34295,36756:35576,36757:21161,36758:21465,36759:22899,36760:24207,36761:24464,36762:24661,36763:37604,36764:38500,36765:20663,36766:20767,36767:21213,36768:21280,36769:21319,36770:21484,36771:21736,36772:21830,36773:21809,36774:22039,36775:22888,36776:22974,36777:23100,36778:23477,36779:23558,36780:23567,36781:23569,36782:23578,36783:24196,36784:24202,36785:24288,36786:24432,36787:25215,36788:25220,36789:25307,36790:25484,36791:25463,36792:26119,36793:26124,36794:26157,36795:26230,36796:26494,36797:26786,36798:27167,36799:27189,36800:27836,36801:28040,36802:28169,36803:28248,36804:28988,36805:28966,36806:29031,36807:30151,36808:30465,36809:30813,36810:30977,36811:31077,36812:31216,36813:31456,36814:31505,36815:31911,36816:32057,36817:32918,36818:33750,36819:33931,36820:34121,36821:34909,36822:35059,36823:35359,36824:35388,36825:35412,36826:35443,36827:35937,36828:36062,36829:37284,36830:37478,36831:37758,36832:37912,36833:38556,36834:38808,36835:19978,36836:19976,36837:19998,36838:20055,36839:20887,36840:21104,36841:22478,36842:22580,36843:22732,36844:23330,36845:24120,36846:24773,36847:25854,36848:26465,36849:26454,36850:27972,36851:29366,36852:30067,36853:31331,36854:33976,36855:35698,36856:37304,36857:37664,36858:22065,36859:22516,36860:39166,36928:25325,36929:26893,36930:27542,36931:29165,36932:32340,36933:32887,36934:33394,36935:35302,36936:39135,36937:34645,36938:36785,36939:23611,36940:20280,36941:20449,36942:20405,36943:21767,36944:23072,36945:23517,36946:23529,36947:24515,36948:24910,36949:25391,36950:26032,36951:26187,36952:26862,36953:27035,36954:28024,36955:28145,36956:30003,36957:30137,36958:30495,36959:31070,36960:31206,36961:32051,36962:33251,36963:33455,36964:34218,36965:35242,36966:35386,36967:36523,36968:36763,36969:36914,36970:37341,36971:38663,36972:20154,36973:20161,36974:20995,36975:22645,36976:22764,36977:23563,36978:29978,36979:23613,36980:33102,36981:35338,36982:36805,36983:38499,36984:38765,36985:31525,36986:35535,36987:38920,36988:37218,36989:22259,36990:21416,36992:36887,36993:21561,36994:22402,36995:24101,36996:25512,36997:27700,36998:28810,36999:30561,37e3:31883,37001:32736,37002:34928,37003:36930,37004:37204,37005:37648,37006:37656,37007:38543,37008:29790,37009:39620,37010:23815,37011:23913,37012:25968,37013:26530,37014:36264,37015:38619,37016:25454,37017:26441,37018:26905,37019:33733,37020:38935,37021:38592,37022:35070,37023:28548,37024:25722,37025:23544,37026:19990,37027:28716,37028:30045,37029:26159,37030:20932,37031:21046,37032:21218,37033:22995,37034:24449,37035:24615,37036:25104,37037:25919,37038:25972,37039:26143,37040:26228,37041:26866,37042:26646,37043:27491,37044:28165,37045:29298,37046:29983,37047:30427,37048:31934,37049:32854,37050:22768,37051:35069,37052:35199,37053:35488,37054:35475,37055:35531,37056:36893,37057:37266,37058:38738,37059:38745,37060:25993,37061:31246,37062:33030,37063:38587,37064:24109,37065:24796,37066:25114,37067:26021,37068:26132,37069:26512,37070:30707,37071:31309,37072:31821,37073:32318,37074:33034,37075:36012,37076:36196,37077:36321,37078:36447,37079:30889,37080:20999,37081:25305,37082:25509,37083:25666,37084:25240,37085:35373,37086:31363,37087:31680,37088:35500,37089:38634,37090:32118,37091:33292,37092:34633,37093:20185,37094:20808,37095:21315,37096:21344,37097:23459,37098:23554,37099:23574,37100:24029,37101:25126,37102:25159,37103:25776,37104:26643,37105:26676,37106:27849,37107:27973,37108:27927,37109:26579,37110:28508,37111:29006,37112:29053,37113:26059,37114:31359,37115:31661,37116:32218,37184:32330,37185:32680,37186:33146,37187:33307,37188:33337,37189:34214,37190:35438,37191:36046,37192:36341,37193:36984,37194:36983,37195:37549,37196:37521,37197:38275,37198:39854,37199:21069,37200:21892,37201:28472,37202:28982,37203:20840,37204:31109,37205:32341,37206:33203,37207:31950,37208:22092,37209:22609,37210:23720,37211:25514,37212:26366,37213:26365,37214:26970,37215:29401,37216:30095,37217:30094,37218:30990,37219:31062,37220:31199,37221:31895,37222:32032,37223:32068,37224:34311,37225:35380,37226:38459,37227:36961,37228:40736,37229:20711,37230:21109,37231:21452,37232:21474,37233:20489,37234:21930,37235:22766,37236:22863,37237:29245,37238:23435,37239:23652,37240:21277,37241:24803,37242:24819,37243:25436,37244:25475,37245:25407,37246:25531,37248:25805,37249:26089,37250:26361,37251:24035,37252:27085,37253:27133,37254:28437,37255:29157,37256:20105,37257:30185,37258:30456,37259:31379,37260:31967,37261:32207,37262:32156,37263:32865,37264:33609,37265:33624,37266:33900,37267:33980,37268:34299,37269:35013,37270:36208,37271:36865,37272:36973,37273:37783,37274:38684,37275:39442,37276:20687,37277:22679,37278:24974,37279:33235,37280:34101,37281:36104,37282:36896,37283:20419,37284:20596,37285:21063,37286:21363,37287:24687,37288:25417,37289:26463,37290:28204,37291:36275,37292:36895,37293:20439,37294:23646,37295:36042,37296:26063,37297:32154,37298:21330,37299:34966,37300:20854,37301:25539,37302:23384,37303:23403,37304:23562,37305:25613,37306:26449,37307:36956,37308:20182,37309:22810,37310:22826,37311:27760,37312:35409,37313:21822,37314:22549,37315:22949,37316:24816,37317:25171,37318:26561,37319:33333,37320:26965,37321:38464,37322:39364,37323:39464,37324:20307,37325:22534,37326:23550,37327:32784,37328:23729,37329:24111,37330:24453,37331:24608,37332:24907,37333:25140,37334:26367,37335:27888,37336:28382,37337:32974,37338:33151,37339:33492,37340:34955,37341:36024,37342:36864,37343:36910,37344:38538,37345:40667,37346:39899,37347:20195,37348:21488,37349:22823,37350:31532,37351:37261,37352:38988,37353:40441,37354:28381,37355:28711,37356:21331,37357:21828,37358:23429,37359:25176,37360:25246,37361:25299,37362:27810,37363:28655,37364:29730,37365:35351,37366:37944,37367:28609,37368:35582,37369:33592,37370:20967,37371:34552,37372:21482,37440:21481,37441:20294,37442:36948,37443:36784,37444:22890,37445:33073,37446:24061,37447:31466,37448:36799,37449:26842,37450:35895,37451:29432,37452:40008,37453:27197,37454:35504,37455:20025,37456:21336,37457:22022,37458:22374,37459:25285,37460:25506,37461:26086,37462:27470,37463:28129,37464:28251,37465:28845,37466:30701,37467:31471,37468:31658,37469:32187,37470:32829,37471:32966,37472:34507,37473:35477,37474:37723,37475:22243,37476:22727,37477:24382,37478:26029,37479:26262,37480:27264,37481:27573,37482:30007,37483:35527,37484:20516,37485:30693,37486:22320,37487:24347,37488:24677,37489:26234,37490:27744,37491:30196,37492:31258,37493:32622,37494:33268,37495:34584,37496:36933,37497:39347,37498:31689,37499:30044,37500:31481,37501:31569,37502:33988,37504:36880,37505:31209,37506:31378,37507:33590,37508:23265,37509:30528,37510:20013,37511:20210,37512:23449,37513:24544,37514:25277,37515:26172,37516:26609,37517:27880,37518:34411,37519:34935,37520:35387,37521:37198,37522:37619,37523:39376,37524:27159,37525:28710,37526:29482,37527:33511,37528:33879,37529:36015,37530:19969,37531:20806,37532:20939,37533:21899,37534:23541,37535:24086,37536:24115,37537:24193,37538:24340,37539:24373,37540:24427,37541:24500,37542:25074,37543:25361,37544:26274,37545:26397,37546:28526,37547:29266,37548:30010,37549:30522,37550:32884,37551:33081,37552:33144,37553:34678,37554:35519,37555:35548,37556:36229,37557:36339,37558:37530,37559:38263,37560:38914,37561:40165,37562:21189,37563:25431,37564:30452,37565:26389,37566:27784,37567:29645,37568:36035,37569:37806,37570:38515,37571:27941,37572:22684,37573:26894,37574:27084,37575:36861,37576:37786,37577:30171,37578:36890,37579:22618,37580:26626,37581:25524,37582:27131,37583:20291,37584:28460,37585:26584,37586:36795,37587:34086,37588:32180,37589:37716,37590:26943,37591:28528,37592:22378,37593:22775,37594:23340,37595:32044,37596:29226,37597:21514,37598:37347,37599:40372,37600:20141,37601:20302,37602:20572,37603:20597,37604:21059,37605:35998,37606:21576,37607:22564,37608:23450,37609:24093,37610:24213,37611:24237,37612:24311,37613:24351,37614:24716,37615:25269,37616:25402,37617:25552,37618:26799,37619:27712,37620:30855,37621:31118,37622:31243,37623:32224,37624:33351,37625:35330,37626:35558,37627:36420,37628:36883,37696:37048,37697:37165,37698:37336,37699:40718,37700:27877,37701:25688,37702:25826,37703:25973,37704:28404,37705:30340,37706:31515,37707:36969,37708:37841,37709:28346,37710:21746,37711:24505,37712:25764,37713:36685,37714:36845,37715:37444,37716:20856,37717:22635,37718:22825,37719:23637,37720:24215,37721:28155,37722:32399,37723:29980,37724:36028,37725:36578,37726:39003,37727:28857,37728:20253,37729:27583,37730:28593,37731:3e4,37732:38651,37733:20814,37734:21520,37735:22581,37736:22615,37737:22956,37738:23648,37739:24466,37740:26007,37741:26460,37742:28193,37743:30331,37744:33759,37745:36077,37746:36884,37747:37117,37748:37709,37749:30757,37750:30778,37751:21162,37752:24230,37753:22303,37754:22900,37755:24594,37756:20498,37757:20826,37758:20908,37760:20941,37761:20992,37762:21776,37763:22612,37764:22616,37765:22871,37766:23445,37767:23798,37768:23947,37769:24764,37770:25237,37771:25645,37772:26481,37773:26691,37774:26812,37775:26847,37776:30423,37777:28120,37778:28271,37779:28059,37780:28783,37781:29128,37782:24403,37783:30168,37784:31095,37785:31561,37786:31572,37787:31570,37788:31958,37789:32113,37790:21040,37791:33891,37792:34153,37793:34276,37794:35342,37795:35588,37796:35910,37797:36367,37798:36867,37799:36879,37800:37913,37801:38518,37802:38957,37803:39472,37804:38360,37805:20685,37806:21205,37807:21516,37808:22530,37809:23566,37810:24999,37811:25758,37812:27934,37813:30643,37814:31461,37815:33012,37816:33796,37817:36947,37818:37509,37819:23776,37820:40199,37821:21311,37822:24471,37823:24499,37824:28060,37825:29305,37826:30563,37827:31167,37828:31716,37829:27602,37830:29420,37831:35501,37832:26627,37833:27233,37834:20984,37835:31361,37836:26932,37837:23626,37838:40182,37839:33515,37840:23493,37841:37193,37842:28702,37843:22136,37844:23663,37845:24775,37846:25958,37847:27788,37848:35930,37849:36929,37850:38931,37851:21585,37852:26311,37853:37389,37854:22856,37855:37027,37856:20869,37857:20045,37858:20970,37859:34201,37860:35598,37861:28760,37862:25466,37863:37707,37864:26978,37865:39348,37866:32260,37867:30071,37868:21335,37869:26976,37870:36575,37871:38627,37872:27741,37873:20108,37874:23612,37875:24336,37876:36841,37877:21250,37878:36049,37879:32905,37880:34425,37881:24319,37882:26085,37883:20083,37884:20837,37952:22914,37953:23615,37954:38894,37955:20219,37956:22922,37957:24525,37958:35469,37959:28641,37960:31152,37961:31074,37962:23527,37963:33905,37964:29483,37965:29105,37966:24180,37967:24565,37968:25467,37969:25754,37970:29123,37971:31896,37972:20035,37973:24316,37974:20043,37975:22492,37976:22178,37977:24745,37978:28611,37979:32013,37980:33021,37981:33075,37982:33215,37983:36786,37984:35223,37985:34468,37986:24052,37987:25226,37988:25773,37989:35207,37990:26487,37991:27874,37992:27966,37993:29750,37994:30772,37995:23110,37996:32629,37997:33453,37998:39340,37999:20467,38e3:24259,38001:25309,38002:25490,38003:25943,38004:26479,38005:30403,38006:29260,38007:32972,38008:32954,38009:36649,38010:37197,38011:20493,38012:22521,38013:23186,38014:26757,38016:26995,38017:29028,38018:29437,38019:36023,38020:22770,38021:36064,38022:38506,38023:36889,38024:34687,38025:31204,38026:30695,38027:33833,38028:20271,38029:21093,38030:21338,38031:25293,38032:26575,38033:27850,38034:30333,38035:31636,38036:31893,38037:33334,38038:34180,38039:36843,38040:26333,38041:28448,38042:29190,38043:32283,38044:33707,38045:39361,38046:40614,38047:20989,38048:31665,38049:30834,38050:31672,38051:32903,38052:31560,38053:27368,38054:24161,38055:32908,38056:30033,38057:30048,38058:20843,38059:37474,38060:28300,38061:30330,38062:37271,38063:39658,38064:20240,38065:32624,38066:25244,38067:31567,38068:38309,38069:40169,38070:22138,38071:22617,38072:34532,38073:38588,38074:20276,38075:21028,38076:21322,38077:21453,38078:21467,38079:24070,38080:25644,38081:26001,38082:26495,38083:27710,38084:27726,38085:29256,38086:29359,38087:29677,38088:30036,38089:32321,38090:33324,38091:34281,38092:36009,38093:31684,38094:37318,38095:29033,38096:38930,38097:39151,38098:25405,38099:26217,38100:30058,38101:30436,38102:30928,38103:34115,38104:34542,38105:21290,38106:21329,38107:21542,38108:22915,38109:24199,38110:24444,38111:24754,38112:25161,38113:25209,38114:25259,38115:26e3,38116:27604,38117:27852,38118:30130,38119:30382,38120:30865,38121:31192,38122:32203,38123:32631,38124:32933,38125:34987,38126:35513,38127:36027,38128:36991,38129:38750,38130:39131,38131:27147,38132:31800,38133:20633,38134:23614,38135:24494,38136:26503,38137:27608,38138:29749,38139:30473,38140:32654,38208:40763,38209:26570,38210:31255,38211:21305,38212:30091,38213:39661,38214:24422,38215:33181,38216:33777,38217:32920,38218:24380,38219:24517,38220:30050,38221:31558,38222:36924,38223:26727,38224:23019,38225:23195,38226:32016,38227:30334,38228:35628,38229:20469,38230:24426,38231:27161,38232:27703,38233:28418,38234:29922,38235:31080,38236:34920,38237:35413,38238:35961,38239:24287,38240:25551,38241:30149,38242:31186,38243:33495,38244:37672,38245:37618,38246:33948,38247:34541,38248:39981,38249:21697,38250:24428,38251:25996,38252:27996,38253:28693,38254:36007,38255:36051,38256:38971,38257:25935,38258:29942,38259:19981,38260:20184,38261:22496,38262:22827,38263:23142,38264:23500,38265:20904,38266:24067,38267:24220,38268:24598,38269:25206,38270:25975,38272:26023,38273:26222,38274:28014,38275:29238,38276:31526,38277:33104,38278:33178,38279:33433,38280:35676,38281:36e3,38282:36070,38283:36212,38284:38428,38285:38468,38286:20398,38287:25771,38288:27494,38289:33310,38290:33889,38291:34154,38292:37096,38293:23553,38294:26963,38295:39080,38296:33914,38297:34135,38298:20239,38299:21103,38300:24489,38301:24133,38302:26381,38303:31119,38304:33145,38305:35079,38306:35206,38307:28149,38308:24343,38309:25173,38310:27832,38311:20175,38312:29289,38313:39826,38314:20998,38315:21563,38316:22132,38317:22707,38318:24996,38319:25198,38320:28954,38321:22894,38322:31881,38323:31966,38324:32027,38325:38640,38326:25991,38327:32862,38328:19993,38329:20341,38330:20853,38331:22592,38332:24163,38333:24179,38334:24330,38335:26564,38336:20006,38337:34109,38338:38281,38339:38491,38340:31859,38341:38913,38342:20731,38343:22721,38344:30294,38345:30887,38346:21029,38347:30629,38348:34065,38349:31622,38350:20559,38351:22793,38352:29255,38353:31687,38354:32232,38355:36794,38356:36820,38357:36941,38358:20415,38359:21193,38360:23081,38361:24321,38362:38829,38363:20445,38364:33303,38365:37610,38366:22275,38367:25429,38368:27497,38369:29995,38370:35036,38371:36628,38372:31298,38373:21215,38374:22675,38375:24917,38376:25098,38377:26286,38378:27597,38379:31807,38380:33769,38381:20515,38382:20472,38383:21253,38384:21574,38385:22577,38386:22857,38387:23453,38388:23792,38389:23791,38390:23849,38391:24214,38392:25265,38393:25447,38394:25918,38395:26041,38396:26379,38464:27861,38465:27873,38466:28921,38467:30770,38468:32299,38469:32990,38470:33459,38471:33804,38472:34028,38473:34562,38474:35090,38475:35370,38476:35914,38477:37030,38478:37586,38479:39165,38480:40179,38481:40300,38482:20047,38483:20129,38484:20621,38485:21078,38486:22346,38487:22952,38488:24125,38489:24536,38490:24537,38491:25151,38492:26292,38493:26395,38494:26576,38495:26834,38496:20882,38497:32033,38498:32938,38499:33192,38500:35584,38501:35980,38502:36031,38503:37502,38504:38450,38505:21536,38506:38956,38507:21271,38508:20693,38509:21340,38510:22696,38511:25778,38512:26420,38513:29287,38514:30566,38515:31302,38516:37350,38517:21187,38518:27809,38519:27526,38520:22528,38521:24140,38522:22868,38523:26412,38524:32763,38525:20961,38526:30406,38528:25705,38529:30952,38530:39764,38531:40635,38532:22475,38533:22969,38534:26151,38535:26522,38536:27598,38537:21737,38538:27097,38539:24149,38540:33180,38541:26517,38542:39850,38543:26622,38544:40018,38545:26717,38546:20134,38547:20451,38548:21448,38549:25273,38550:26411,38551:27819,38552:36804,38553:20397,38554:32365,38555:40639,38556:19975,38557:24930,38558:28288,38559:28459,38560:34067,38561:21619,38562:26410,38563:39749,38564:24051,38565:31637,38566:23724,38567:23494,38568:34588,38569:28234,38570:34001,38571:31252,38572:33032,38573:22937,38574:31885,38575:27665,38576:30496,38577:21209,38578:22818,38579:28961,38580:29279,38581:30683,38582:38695,38583:40289,38584:26891,38585:23167,38586:23064,38587:20901,38588:21517,38589:21629,38590:26126,38591:30431,38592:36855,38593:37528,38594:40180,38595:23018,38596:29277,38597:28357,38598:20813,38599:26825,38600:32191,38601:32236,38602:38754,38603:40634,38604:25720,38605:27169,38606:33538,38607:22916,38608:23391,38609:27611,38610:29467,38611:30450,38612:32178,38613:32791,38614:33945,38615:20786,38616:26408,38617:40665,38618:30446,38619:26466,38620:21247,38621:39173,38622:23588,38623:25147,38624:31870,38625:36016,38626:21839,38627:24758,38628:32011,38629:38272,38630:21249,38631:20063,38632:20918,38633:22812,38634:29242,38635:32822,38636:37326,38637:24357,38638:30690,38639:21380,38640:24441,38641:32004,38642:34220,38643:35379,38644:36493,38645:38742,38646:26611,38647:34222,38648:37971,38649:24841,38650:24840,38651:27833,38652:30290,38720:35565,38721:36664,38722:21807,38723:20305,38724:20778,38725:21191,38726:21451,38727:23461,38728:24189,38729:24736,38730:24962,38731:25558,38732:26377,38733:26586,38734:28263,38735:28044,38736:29494,38737:29495,38738:30001,38739:31056,38740:35029,38741:35480,38742:36938,38743:37009,38744:37109,38745:38596,38746:34701,38747:22805,38748:20104,38749:20313,38750:19982,38751:35465,38752:36671,38753:38928,38754:20653,38755:24188,38756:22934,38757:23481,38758:24248,38759:25562,38760:25594,38761:25793,38762:26332,38763:26954,38764:27096,38765:27915,38766:28342,38767:29076,38768:29992,38769:31407,38770:32650,38771:32768,38772:33865,38773:33993,38774:35201,38775:35617,38776:36362,38777:36965,38778:38525,38779:39178,38780:24958,38781:25233,38782:27442,38784:27779,38785:28020,38786:32716,38787:32764,38788:28096,38789:32645,38790:34746,38791:35064,38792:26469,38793:33713,38794:38972,38795:38647,38796:27931,38797:32097,38798:33853,38799:37226,38800:20081,38801:21365,38802:23888,38803:27396,38804:28651,38805:34253,38806:34349,38807:35239,38808:21033,38809:21519,38810:23653,38811:26446,38812:26792,38813:29702,38814:29827,38815:30178,38816:35023,38817:35041,38818:37324,38819:38626,38820:38520,38821:24459,38822:29575,38823:31435,38824:33870,38825:25504,38826:30053,38827:21129,38828:27969,38829:28316,38830:29705,38831:30041,38832:30827,38833:31890,38834:38534,38835:31452,38836:40845,38837:20406,38838:24942,38839:26053,38840:34396,38841:20102,38842:20142,38843:20698,38844:20001,38845:20940,38846:23534,38847:26009,38848:26753,38849:28092,38850:29471,38851:30274,38852:30637,38853:31260,38854:31975,38855:33391,38856:35538,38857:36988,38858:37327,38859:38517,38860:38936,38861:21147,38862:32209,38863:20523,38864:21400,38865:26519,38866:28107,38867:29136,38868:29747,38869:33256,38870:36650,38871:38563,38872:40023,38873:40607,38874:29792,38875:22593,38876:28057,38877:32047,38878:39006,38879:20196,38880:20278,38881:20363,38882:20919,38883:21169,38884:23994,38885:24604,38886:29618,38887:31036,38888:33491,38889:37428,38890:38583,38891:38646,38892:38666,38893:40599,38894:40802,38895:26278,38896:27508,38897:21015,38898:21155,38899:28872,38900:35010,38901:24265,38902:24651,38903:24976,38904:28451,38905:29001,38906:31806,38907:32244,38908:32879,38976:34030,38977:36899,38978:37676,38979:21570,38980:39791,38981:27347,38982:28809,38983:36034,38984:36335,38985:38706,38986:21172,38987:23105,38988:24266,38989:24324,38990:26391,38991:27004,38992:27028,38993:28010,38994:28431,38995:29282,38996:29436,38997:31725,38998:32769,38999:32894,39e3:34635,39001:37070,39002:20845,39003:40595,39004:31108,39005:32907,39006:37682,39007:35542,39008:20525,39009:21644,39010:35441,39011:27498,39012:36036,39013:33031,39014:24785,39015:26528,39016:40434,39017:20121,39018:20120,39019:39952,39020:35435,39021:34241,39022:34152,39023:26880,39024:28286,39025:30871,39026:33109,39071:24332,39072:19984,39073:19989,39074:20010,39075:20017,39076:20022,39077:20028,39078:20031,39079:20034,39080:20054,39081:20056,39082:20098,39083:20101,39084:35947,39085:20106,39086:33298,39087:24333,39088:20110,39089:20126,39090:20127,39091:20128,39092:20130,39093:20144,39094:20147,39095:20150,39096:20174,39097:20173,39098:20164,39099:20166,39100:20162,39101:20183,39102:20190,39103:20205,39104:20191,39105:20215,39106:20233,39107:20314,39108:20272,39109:20315,39110:20317,39111:20311,39112:20295,39113:20342,39114:20360,39115:20367,39116:20376,39117:20347,39118:20329,39119:20336,39120:20369,39121:20335,39122:20358,39123:20374,39124:20760,39125:20436,39126:20447,39127:20430,39128:20440,39129:20443,39130:20433,39131:20442,39132:20432,39133:20452,39134:20453,39135:20506,39136:20520,39137:20500,39138:20522,39139:20517,39140:20485,39141:20252,39142:20470,39143:20513,39144:20521,39145:20524,39146:20478,39147:20463,39148:20497,39149:20486,39150:20547,39151:20551,39152:26371,39153:20565,39154:20560,39155:20552,39156:20570,39157:20566,39158:20588,39159:20600,39160:20608,39161:20634,39162:20613,39163:20660,39164:20658,39232:20681,39233:20682,39234:20659,39235:20674,39236:20694,39237:20702,39238:20709,39239:20717,39240:20707,39241:20718,39242:20729,39243:20725,39244:20745,39245:20737,39246:20738,39247:20758,39248:20757,39249:20756,39250:20762,39251:20769,39252:20794,39253:20791,39254:20796,39255:20795,39256:20799,39257:20800,39258:20818,39259:20812,39260:20820,39261:20834,39262:31480,39263:20841,39264:20842,39265:20846,39266:20864,39267:20866,39268:22232,39269:20876,39270:20873,39271:20879,39272:20881,39273:20883,39274:20885,39275:20886,39276:20900,39277:20902,39278:20898,39279:20905,39280:20906,39281:20907,39282:20915,39283:20913,39284:20914,39285:20912,39286:20917,39287:20925,39288:20933,39289:20937,39290:20955,39291:20960,39292:34389,39293:20969,39294:20973,39296:20976,39297:20981,39298:20990,39299:20996,39300:21003,39301:21012,39302:21006,39303:21031,39304:21034,39305:21038,39306:21043,39307:21049,39308:21071,39309:21060,39310:21067,39311:21068,39312:21086,39313:21076,39314:21098,39315:21108,39316:21097,39317:21107,39318:21119,39319:21117,39320:21133,39321:21140,39322:21138,39323:21105,39324:21128,39325:21137,39326:36776,39327:36775,39328:21164,39329:21165,39330:21180,39331:21173,39332:21185,39333:21197,39334:21207,39335:21214,39336:21219,39337:21222,39338:39149,39339:21216,39340:21235,39341:21237,39342:21240,39343:21241,39344:21254,39345:21256,39346:30008,39347:21261,39348:21264,39349:21263,39350:21269,39351:21274,39352:21283,39353:21295,39354:21297,39355:21299,39356:21304,39357:21312,39358:21318,39359:21317,39360:19991,39361:21321,39362:21325,39363:20950,39364:21342,39365:21353,39366:21358,39367:22808,39368:21371,39369:21367,39370:21378,39371:21398,39372:21408,39373:21414,39374:21413,39375:21422,39376:21424,39377:21430,39378:21443,39379:31762,39380:38617,39381:21471,39382:26364,39383:29166,39384:21486,39385:21480,39386:21485,39387:21498,39388:21505,39389:21565,39390:21568,39391:21548,39392:21549,39393:21564,39394:21550,39395:21558,39396:21545,39397:21533,39398:21582,39399:21647,39400:21621,39401:21646,39402:21599,39403:21617,39404:21623,39405:21616,39406:21650,39407:21627,39408:21632,39409:21622,39410:21636,39411:21648,39412:21638,39413:21703,39414:21666,39415:21688,39416:21669,39417:21676,39418:21700,39419:21704,39420:21672,39488:21675,39489:21698,39490:21668,39491:21694,39492:21692,39493:21720,39494:21733,39495:21734,39496:21775,39497:21780,39498:21757,39499:21742,39500:21741,39501:21754,39502:21730,39503:21817,39504:21824,39505:21859,39506:21836,39507:21806,39508:21852,39509:21829,39510:21846,39511:21847,39512:21816,39513:21811,39514:21853,39515:21913,39516:21888,39517:21679,39518:21898,39519:21919,39520:21883,39521:21886,39522:21912,39523:21918,39524:21934,39525:21884,39526:21891,39527:21929,39528:21895,39529:21928,39530:21978,39531:21957,39532:21983,39533:21956,39534:21980,39535:21988,39536:21972,39537:22036,39538:22007,39539:22038,39540:22014,39541:22013,39542:22043,39543:22009,39544:22094,39545:22096,39546:29151,39547:22068,39548:22070,39549:22066,39550:22072,39552:22123,39553:22116,39554:22063,39555:22124,39556:22122,39557:22150,39558:22144,39559:22154,39560:22176,39561:22164,39562:22159,39563:22181,39564:22190,39565:22198,39566:22196,39567:22210,39568:22204,39569:22209,39570:22211,39571:22208,39572:22216,39573:22222,39574:22225,39575:22227,39576:22231,39577:22254,39578:22265,39579:22272,39580:22271,39581:22276,39582:22281,39583:22280,39584:22283,39585:22285,39586:22291,39587:22296,39588:22294,39589:21959,39590:22300,39591:22310,39592:22327,39593:22328,39594:22350,39595:22331,39596:22336,39597:22351,39598:22377,39599:22464,39600:22408,39601:22369,39602:22399,39603:22409,39604:22419,39605:22432,39606:22451,39607:22436,39608:22442,39609:22448,39610:22467,39611:22470,39612:22484,39613:22482,39614:22483,39615:22538,39616:22486,39617:22499,39618:22539,39619:22553,39620:22557,39621:22642,39622:22561,39623:22626,39624:22603,39625:22640,39626:27584,39627:22610,39628:22589,39629:22649,39630:22661,39631:22713,39632:22687,39633:22699,39634:22714,39635:22750,39636:22715,39637:22712,39638:22702,39639:22725,39640:22739,39641:22737,39642:22743,39643:22745,39644:22744,39645:22757,39646:22748,39647:22756,39648:22751,39649:22767,39650:22778,39651:22777,39652:22779,39653:22780,39654:22781,39655:22786,39656:22794,39657:22800,39658:22811,39659:26790,39660:22821,39661:22828,39662:22829,39663:22834,39664:22840,39665:22846,39666:31442,39667:22869,39668:22864,39669:22862,39670:22874,39671:22872,39672:22882,39673:22880,39674:22887,39675:22892,39676:22889,39744:22904,39745:22913,39746:22941,39747:20318,39748:20395,39749:22947,39750:22962,39751:22982,39752:23016,39753:23004,39754:22925,39755:23001,39756:23002,39757:23077,39758:23071,39759:23057,39760:23068,39761:23049,39762:23066,39763:23104,39764:23148,39765:23113,39766:23093,39767:23094,39768:23138,39769:23146,39770:23194,39771:23228,39772:23230,39773:23243,39774:23234,39775:23229,39776:23267,39777:23255,39778:23270,39779:23273,39780:23254,39781:23290,39782:23291,39783:23308,39784:23307,39785:23318,39786:23346,39787:23248,39788:23338,39789:23350,39790:23358,39791:23363,39792:23365,39793:23360,39794:23377,39795:23381,39796:23386,39797:23387,39798:23397,39799:23401,39800:23408,39801:23411,39802:23413,39803:23416,39804:25992,39805:23418,39806:23424,39808:23427,39809:23462,39810:23480,39811:23491,39812:23495,39813:23497,39814:23508,39815:23504,39816:23524,39817:23526,39818:23522,39819:23518,39820:23525,39821:23531,39822:23536,39823:23542,39824:23539,39825:23557,39826:23559,39827:23560,39828:23565,39829:23571,39830:23584,39831:23586,39832:23592,39833:23608,39834:23609,39835:23617,39836:23622,39837:23630,39838:23635,39839:23632,39840:23631,39841:23409,39842:23660,39843:23662,39844:20066,39845:23670,39846:23673,39847:23692,39848:23697,39849:23700,39850:22939,39851:23723,39852:23739,39853:23734,39854:23740,39855:23735,39856:23749,39857:23742,39858:23751,39859:23769,39860:23785,39861:23805,39862:23802,39863:23789,39864:23948,39865:23786,39866:23819,39867:23829,39868:23831,39869:23900,39870:23839,39871:23835,39872:23825,39873:23828,39874:23842,39875:23834,39876:23833,39877:23832,39878:23884,39879:23890,39880:23886,39881:23883,39882:23916,39883:23923,39884:23926,39885:23943,39886:23940,39887:23938,39888:23970,39889:23965,39890:23980,39891:23982,39892:23997,39893:23952,39894:23991,39895:23996,39896:24009,39897:24013,39898:24019,39899:24018,39900:24022,39901:24027,39902:24043,39903:24050,39904:24053,39905:24075,39906:24090,39907:24089,39908:24081,39909:24091,39910:24118,39911:24119,39912:24132,39913:24131,39914:24128,39915:24142,39916:24151,39917:24148,39918:24159,39919:24162,39920:24164,39921:24135,39922:24181,39923:24182,39924:24186,39925:40636,39926:24191,39927:24224,39928:24257,39929:24258,39930:24264,39931:24272,39932:24271,4e4:24278,40001:24291,40002:24285,40003:24282,40004:24283,40005:24290,40006:24289,40007:24296,40008:24297,40009:24300,40010:24305,40011:24307,40012:24304,40013:24308,40014:24312,40015:24318,40016:24323,40017:24329,40018:24413,40019:24412,40020:24331,40021:24337,40022:24342,40023:24361,40024:24365,40025:24376,40026:24385,40027:24392,40028:24396,40029:24398,40030:24367,40031:24401,40032:24406,40033:24407,40034:24409,40035:24417,40036:24429,40037:24435,40038:24439,40039:24451,40040:24450,40041:24447,40042:24458,40043:24456,40044:24465,40045:24455,40046:24478,40047:24473,40048:24472,40049:24480,40050:24488,40051:24493,40052:24508,40053:24534,40054:24571,40055:24548,40056:24568,40057:24561,40058:24541,40059:24755,40060:24575,40061:24609,40062:24672,40064:24601,40065:24592,40066:24617,40067:24590,40068:24625,40069:24603,40070:24597,40071:24619,40072:24614,40073:24591,40074:24634,40075:24666,40076:24641,40077:24682,40078:24695,40079:24671,40080:24650,40081:24646,40082:24653,40083:24675,40084:24643,40085:24676,40086:24642,40087:24684,40088:24683,40089:24665,40090:24705,40091:24717,40092:24807,40093:24707,40094:24730,40095:24708,40096:24731,40097:24726,40098:24727,40099:24722,40100:24743,40101:24715,40102:24801,40103:24760,40104:24800,40105:24787,40106:24756,40107:24560,40108:24765,40109:24774,40110:24757,40111:24792,40112:24909,40113:24853,40114:24838,40115:24822,40116:24823,40117:24832,40118:24820,40119:24826,40120:24835,40121:24865,40122:24827,40123:24817,40124:24845,40125:24846,40126:24903,40127:24894,40128:24872,40129:24871,40130:24906,40131:24895,40132:24892,40133:24876,40134:24884,40135:24893,40136:24898,40137:24900,40138:24947,40139:24951,40140:24920,40141:24921,40142:24922,40143:24939,40144:24948,40145:24943,40146:24933,40147:24945,40148:24927,40149:24925,40150:24915,40151:24949,40152:24985,40153:24982,40154:24967,40155:25004,40156:24980,40157:24986,40158:24970,40159:24977,40160:25003,40161:25006,40162:25036,40163:25034,40164:25033,40165:25079,40166:25032,40167:25027,40168:25030,40169:25018,40170:25035,40171:32633,40172:25037,40173:25062,40174:25059,40175:25078,40176:25082,40177:25076,40178:25087,40179:25085,40180:25084,40181:25086,40182:25088,40183:25096,40184:25097,40185:25101,40186:25100,40187:25108,40188:25115,40256:25118,40257:25121,40258:25130,40259:25134,40260:25136,40261:25138,40262:25139,40263:25153,40264:25166,40265:25182,40266:25187,40267:25179,40268:25184,40269:25192,40270:25212,40271:25218,40272:25225,40273:25214,40274:25234,40275:25235,40276:25238,40277:25300,40278:25219,40279:25236,40280:25303,40281:25297,40282:25275,40283:25295,40284:25343,40285:25286,40286:25812,40287:25288,40288:25308,40289:25292,40290:25290,40291:25282,40292:25287,40293:25243,40294:25289,40295:25356,40296:25326,40297:25329,40298:25383,40299:25346,40300:25352,40301:25327,40302:25333,40303:25424,40304:25406,40305:25421,40306:25628,40307:25423,40308:25494,40309:25486,40310:25472,40311:25515,40312:25462,40313:25507,40314:25487,40315:25481,40316:25503,40317:25525,40318:25451,40320:25449,40321:25534,40322:25577,40323:25536,40324:25542,40325:25571,40326:25545,40327:25554,40328:25590,40329:25540,40330:25622,40331:25652,40332:25606,40333:25619,40334:25638,40335:25654,40336:25885,40337:25623,40338:25640,40339:25615,40340:25703,40341:25711,40342:25718,40343:25678,40344:25898,40345:25749,40346:25747,40347:25765,40348:25769,40349:25736,40350:25788,40351:25818,40352:25810,40353:25797,40354:25799,40355:25787,40356:25816,40357:25794,40358:25841,40359:25831,40360:33289,40361:25824,40362:25825,40363:25260,40364:25827,40365:25839,40366:25900,40367:25846,40368:25844,40369:25842,40370:25850,40371:25856,40372:25853,40373:25880,40374:25884,40375:25861,40376:25892,40377:25891,40378:25899,40379:25908,40380:25909,40381:25911,40382:25910,40383:25912,40384:30027,40385:25928,40386:25942,40387:25941,40388:25933,40389:25944,40390:25950,40391:25949,40392:25970,40393:25976,40394:25986,40395:25987,40396:35722,40397:26011,40398:26015,40399:26027,40400:26039,40401:26051,40402:26054,40403:26049,40404:26052,40405:26060,40406:26066,40407:26075,40408:26073,40409:26080,40410:26081,40411:26097,40412:26482,40413:26122,40414:26115,40415:26107,40416:26483,40417:26165,40418:26166,40419:26164,40420:26140,40421:26191,40422:26180,40423:26185,40424:26177,40425:26206,40426:26205,40427:26212,40428:26215,40429:26216,40430:26207,40431:26210,40432:26224,40433:26243,40434:26248,40435:26254,40436:26249,40437:26244,40438:26264,40439:26269,40440:26305,40441:26297,40442:26313,40443:26302,40444:26300,40512:26308,40513:26296,40514:26326,40515:26330,40516:26336,40517:26175,40518:26342,40519:26345,40520:26352,40521:26357,40522:26359,40523:26383,40524:26390,40525:26398,40526:26406,40527:26407,40528:38712,40529:26414,40530:26431,40531:26422,40532:26433,40533:26424,40534:26423,40535:26438,40536:26462,40537:26464,40538:26457,40539:26467,40540:26468,40541:26505,40542:26480,40543:26537,40544:26492,40545:26474,40546:26508,40547:26507,40548:26534,40549:26529,40550:26501,40551:26551,40552:26607,40553:26548,40554:26604,40555:26547,40556:26601,40557:26552,40558:26596,40559:26590,40560:26589,40561:26594,40562:26606,40563:26553,40564:26574,40565:26566,40566:26599,40567:27292,40568:26654,40569:26694,40570:26665,40571:26688,40572:26701,40573:26674,40574:26702,40576:26803,40577:26667,40578:26713,40579:26723,40580:26743,40581:26751,40582:26783,40583:26767,40584:26797,40585:26772,40586:26781,40587:26779,40588:26755,40589:27310,40590:26809,40591:26740,40592:26805,40593:26784,40594:26810,40595:26895,40596:26765,40597:26750,40598:26881,40599:26826,40600:26888,40601:26840,40602:26914,40603:26918,40604:26849,40605:26892,40606:26829,40607:26836,40608:26855,40609:26837,40610:26934,40611:26898,40612:26884,40613:26839,40614:26851,40615:26917,40616:26873,40617:26848,40618:26863,40619:26920,40620:26922,40621:26906,40622:26915,40623:26913,40624:26822,40625:27001,40626:26999,40627:26972,40628:27e3,40629:26987,40630:26964,40631:27006,40632:26990,40633:26937,40634:26996,40635:26941,40636:26969,40637:26928,40638:26977,40639:26974,40640:26973,40641:27009,40642:26986,40643:27058,40644:27054,40645:27088,40646:27071,40647:27073,40648:27091,40649:27070,40650:27086,40651:23528,40652:27082,40653:27101,40654:27067,40655:27075,40656:27047,40657:27182,40658:27025,40659:27040,40660:27036,40661:27029,40662:27060,40663:27102,40664:27112,40665:27138,40666:27163,40667:27135,40668:27402,40669:27129,40670:27122,40671:27111,40672:27141,40673:27057,40674:27166,40675:27117,40676:27156,40677:27115,40678:27146,40679:27154,40680:27329,40681:27171,40682:27155,40683:27204,40684:27148,40685:27250,40686:27190,40687:27256,40688:27207,40689:27234,40690:27225,40691:27238,40692:27208,40693:27192,40694:27170,40695:27280,40696:27277,40697:27296,40698:27268,40699:27298,40700:27299,40768:27287,40769:34327,40770:27323,40771:27331,40772:27330,40773:27320,40774:27315,40775:27308,40776:27358,40777:27345,40778:27359,40779:27306,40780:27354,40781:27370,40782:27387,40783:27397,40784:34326,40785:27386,40786:27410,40787:27414,40788:39729,40789:27423,40790:27448,40791:27447,40792:30428,40793:27449,40794:39150,40795:27463,40796:27459,40797:27465,40798:27472,40799:27481,40800:27476,40801:27483,40802:27487,40803:27489,40804:27512,40805:27513,40806:27519,40807:27520,40808:27524,40809:27523,40810:27533,40811:27544,40812:27541,40813:27550,40814:27556,40815:27562,40816:27563,40817:27567,40818:27570,40819:27569,40820:27571,40821:27575,40822:27580,40823:27590,40824:27595,40825:27603,40826:27615,40827:27628,40828:27627,40829:27635,40830:27631,40832:40638,40833:27656,40834:27667,40835:27668,40836:27675,40837:27684,40838:27683,40839:27742,40840:27733,40841:27746,40842:27754,40843:27778,40844:27789,40845:27802,40846:27777,40847:27803,40848:27774,40849:27752,40850:27763,40851:27794,40852:27792,40853:27844,40854:27889,40855:27859,40856:27837,40857:27863,40858:27845,40859:27869,40860:27822,40861:27825,40862:27838,40863:27834,40864:27867,40865:27887,40866:27865,40867:27882,40868:27935,40869:34893,40870:27958,40871:27947,40872:27965,40873:27960,40874:27929,40875:27957,40876:27955,40877:27922,40878:27916,40879:28003,40880:28051,40881:28004,40882:27994,40883:28025,40884:27993,40885:28046,40886:28053,40887:28644,40888:28037,40889:28153,40890:28181,40891:28170,40892:28085,40893:28103,40894:28134,40895:28088,40896:28102,40897:28140,40898:28126,40899:28108,40900:28136,40901:28114,40902:28101,40903:28154,40904:28121,40905:28132,40906:28117,40907:28138,40908:28142,40909:28205,40910:28270,40911:28206,40912:28185,40913:28274,40914:28255,40915:28222,40916:28195,40917:28267,40918:28203,40919:28278,40920:28237,40921:28191,40922:28227,40923:28218,40924:28238,40925:28196,40926:28415,40927:28189,40928:28216,40929:28290,40930:28330,40931:28312,40932:28361,40933:28343,40934:28371,40935:28349,40936:28335,40937:28356,40938:28338,40939:28372,40940:28373,40941:28303,40942:28325,40943:28354,40944:28319,40945:28481,40946:28433,40947:28748,40948:28396,40949:28408,40950:28414,40951:28479,40952:28402,40953:28465,40954:28399,40955:28466,40956:28364,57408:28478,57409:28435,57410:28407,57411:28550,57412:28538,57413:28536,57414:28545,57415:28544,57416:28527,57417:28507,57418:28659,57419:28525,57420:28546,57421:28540,57422:28504,57423:28558,57424:28561,57425:28610,57426:28518,57427:28595,57428:28579,57429:28577,57430:28580,57431:28601,57432:28614,57433:28586,57434:28639,57435:28629,57436:28652,57437:28628,57438:28632,57439:28657,57440:28654,57441:28635,57442:28681,57443:28683,57444:28666,57445:28689,57446:28673,57447:28687,57448:28670,57449:28699,57450:28698,57451:28532,57452:28701,57453:28696,57454:28703,57455:28720,57456:28734,57457:28722,57458:28753,57459:28771,57460:28825,57461:28818,57462:28847,57463:28913,57464:28844,57465:28856,57466:28851,57467:28846,57468:28895,57469:28875,57470:28893,57472:28889,57473:28937,57474:28925,57475:28956,57476:28953,57477:29029,57478:29013,57479:29064,57480:29030,57481:29026,57482:29004,57483:29014,57484:29036,57485:29071,57486:29179,57487:29060,57488:29077,57489:29096,57490:29100,57491:29143,57492:29113,57493:29118,57494:29138,57495:29129,57496:29140,57497:29134,57498:29152,57499:29164,57500:29159,57501:29173,57502:29180,57503:29177,57504:29183,57505:29197,57506:29200,57507:29211,57508:29224,57509:29229,57510:29228,57511:29232,57512:29234,57513:29243,57514:29244,57515:29247,57516:29248,57517:29254,57518:29259,57519:29272,57520:29300,57521:29310,57522:29314,57523:29313,57524:29319,57525:29330,57526:29334,57527:29346,57528:29351,57529:29369,57530:29362,57531:29379,57532:29382,57533:29380,57534:29390,57535:29394,57536:29410,57537:29408,57538:29409,57539:29433,57540:29431,57541:20495,57542:29463,57543:29450,57544:29468,57545:29462,57546:29469,57547:29492,57548:29487,57549:29481,57550:29477,57551:29502,57552:29518,57553:29519,57554:40664,57555:29527,57556:29546,57557:29544,57558:29552,57559:29560,57560:29557,57561:29563,57562:29562,57563:29640,57564:29619,57565:29646,57566:29627,57567:29632,57568:29669,57569:29678,57570:29662,57571:29858,57572:29701,57573:29807,57574:29733,57575:29688,57576:29746,57577:29754,57578:29781,57579:29759,57580:29791,57581:29785,57582:29761,57583:29788,57584:29801,57585:29808,57586:29795,57587:29802,57588:29814,57589:29822,57590:29835,57591:29854,57592:29863,57593:29898,57594:29903,57595:29908,57596:29681,57664:29920,57665:29923,57666:29927,57667:29929,57668:29934,57669:29938,57670:29936,57671:29937,57672:29944,57673:29943,57674:29956,57675:29955,57676:29957,57677:29964,57678:29966,57679:29965,57680:29973,57681:29971,57682:29982,57683:29990,57684:29996,57685:30012,57686:30020,57687:30029,57688:30026,57689:30025,57690:30043,57691:30022,57692:30042,57693:30057,57694:30052,57695:30055,57696:30059,57697:30061,57698:30072,57699:30070,57700:30086,57701:30087,57702:30068,57703:30090,57704:30089,57705:30082,57706:30100,57707:30106,57708:30109,57709:30117,57710:30115,57711:30146,57712:30131,57713:30147,57714:30133,57715:30141,57716:30136,57717:30140,57718:30129,57719:30157,57720:30154,57721:30162,57722:30169,57723:30179,57724:30174,57725:30206,57726:30207,57728:30204,57729:30209,57730:30192,57731:30202,57732:30194,57733:30195,57734:30219,57735:30221,57736:30217,57737:30239,57738:30247,57739:30240,57740:30241,57741:30242,57742:30244,57743:30260,57744:30256,57745:30267,57746:30279,57747:30280,57748:30278,57749:30300,57750:30296,57751:30305,57752:30306,57753:30312,57754:30313,57755:30314,57756:30311,57757:30316,57758:30320,57759:30322,57760:30326,57761:30328,57762:30332,57763:30336,57764:30339,57765:30344,57766:30347,57767:30350,57768:30358,57769:30355,57770:30361,57771:30362,57772:30384,57773:30388,57774:30392,57775:30393,57776:30394,57777:30402,57778:30413,57779:30422,57780:30418,57781:30430,57782:30433,57783:30437,57784:30439,57785:30442,57786:34351,57787:30459,57788:30472,57789:30471,57790:30468,57791:30505,57792:30500,57793:30494,57794:30501,57795:30502,57796:30491,57797:30519,57798:30520,57799:30535,57800:30554,57801:30568,57802:30571,57803:30555,57804:30565,57805:30591,57806:30590,57807:30585,57808:30606,57809:30603,57810:30609,57811:30624,57812:30622,57813:30640,57814:30646,57815:30649,57816:30655,57817:30652,57818:30653,57819:30651,57820:30663,57821:30669,57822:30679,57823:30682,57824:30684,57825:30691,57826:30702,57827:30716,57828:30732,57829:30738,57830:31014,57831:30752,57832:31018,57833:30789,57834:30862,57835:30836,57836:30854,57837:30844,57838:30874,57839:30860,57840:30883,57841:30901,57842:30890,57843:30895,57844:30929,57845:30918,57846:30923,57847:30932,57848:30910,57849:30908,57850:30917,57851:30922,57852:30956,57920:30951,57921:30938,57922:30973,57923:30964,57924:30983,57925:30994,57926:30993,57927:31001,57928:31020,57929:31019,57930:31040,57931:31072,57932:31063,57933:31071,57934:31066,57935:31061,57936:31059,57937:31098,57938:31103,57939:31114,57940:31133,57941:31143,57942:40779,57943:31146,57944:31150,57945:31155,57946:31161,57947:31162,57948:31177,57949:31189,57950:31207,57951:31212,57952:31201,57953:31203,57954:31240,57955:31245,57956:31256,57957:31257,57958:31264,57959:31263,57960:31104,57961:31281,57962:31291,57963:31294,57964:31287,57965:31299,57966:31319,57967:31305,57968:31329,57969:31330,57970:31337,57971:40861,57972:31344,57973:31353,57974:31357,57975:31368,57976:31383,57977:31381,57978:31384,57979:31382,57980:31401,57981:31432,57982:31408,57984:31414,57985:31429,57986:31428,57987:31423,57988:36995,57989:31431,57990:31434,57991:31437,57992:31439,57993:31445,57994:31443,57995:31449,57996:31450,57997:31453,57998:31457,57999:31458,58e3:31462,58001:31469,58002:31472,58003:31490,58004:31503,58005:31498,58006:31494,58007:31539,58008:31512,58009:31513,58010:31518,58011:31541,58012:31528,58013:31542,58014:31568,58015:31610,58016:31492,58017:31565,58018:31499,58019:31564,58020:31557,58021:31605,58022:31589,58023:31604,58024:31591,58025:31600,58026:31601,58027:31596,58028:31598,58029:31645,58030:31640,58031:31647,58032:31629,58033:31644,58034:31642,58035:31627,58036:31634,58037:31631,58038:31581,58039:31641,58040:31691,58041:31681,58042:31692,58043:31695,58044:31668,58045:31686,58046:31709,58047:31721,58048:31761,58049:31764,58050:31718,58051:31717,58052:31840,58053:31744,58054:31751,58055:31763,58056:31731,58057:31735,58058:31767,58059:31757,58060:31734,58061:31779,58062:31783,58063:31786,58064:31775,58065:31799,58066:31787,58067:31805,58068:31820,58069:31811,58070:31828,58071:31823,58072:31808,58073:31824,58074:31832,58075:31839,58076:31844,58077:31830,58078:31845,58079:31852,58080:31861,58081:31875,58082:31888,58083:31908,58084:31917,58085:31906,58086:31915,58087:31905,58088:31912,58089:31923,58090:31922,58091:31921,58092:31918,58093:31929,58094:31933,58095:31936,58096:31941,58097:31938,58098:31960,58099:31954,58100:31964,58101:31970,58102:39739,58103:31983,58104:31986,58105:31988,58106:31990,58107:31994,58108:32006,58176:32002,58177:32028,58178:32021,58179:32010,58180:32069,58181:32075,58182:32046,58183:32050,58184:32063,58185:32053,58186:32070,58187:32115,58188:32086,58189:32078,58190:32114,58191:32104,58192:32110,58193:32079,58194:32099,58195:32147,58196:32137,58197:32091,58198:32143,58199:32125,58200:32155,58201:32186,58202:32174,58203:32163,58204:32181,58205:32199,58206:32189,58207:32171,58208:32317,58209:32162,58210:32175,58211:32220,58212:32184,58213:32159,58214:32176,58215:32216,58216:32221,58217:32228,58218:32222,58219:32251,58220:32242,58221:32225,58222:32261,58223:32266,58224:32291,58225:32289,58226:32274,58227:32305,58228:32287,58229:32265,58230:32267,58231:32290,58232:32326,58233:32358,58234:32315,58235:32309,58236:32313,58237:32323,58238:32311,58240:32306,58241:32314,58242:32359,58243:32349,58244:32342,58245:32350,58246:32345,58247:32346,58248:32377,58249:32362,58250:32361,58251:32380,58252:32379,58253:32387,58254:32213,58255:32381,58256:36782,58257:32383,58258:32392,58259:32393,58260:32396,58261:32402,58262:32400,58263:32403,58264:32404,58265:32406,58266:32398,58267:32411,58268:32412,58269:32568,58270:32570,58271:32581,58272:32588,58273:32589,58274:32590,58275:32592,58276:32593,58277:32597,58278:32596,58279:32600,58280:32607,58281:32608,58282:32616,58283:32617,58284:32615,58285:32632,58286:32642,58287:32646,58288:32643,58289:32648,58290:32647,58291:32652,58292:32660,58293:32670,58294:32669,58295:32666,58296:32675,58297:32687,58298:32690,58299:32697,58300:32686,58301:32694,58302:32696,58303:35697,58304:32709,58305:32710,58306:32714,58307:32725,58308:32724,58309:32737,58310:32742,58311:32745,58312:32755,58313:32761,58314:39132,58315:32774,58316:32772,58317:32779,58318:32786,58319:32792,58320:32793,58321:32796,58322:32801,58323:32808,58324:32831,58325:32827,58326:32842,58327:32838,58328:32850,58329:32856,58330:32858,58331:32863,58332:32866,58333:32872,58334:32883,58335:32882,58336:32880,58337:32886,58338:32889,58339:32893,58340:32895,58341:32900,58342:32902,58343:32901,58344:32923,58345:32915,58346:32922,58347:32941,58348:20880,58349:32940,58350:32987,58351:32997,58352:32985,58353:32989,58354:32964,58355:32986,58356:32982,58357:33033,58358:33007,58359:33009,58360:33051,58361:33065,58362:33059,58363:33071,58364:33099,58432:38539,58433:33094,58434:33086,58435:33107,58436:33105,58437:33020,58438:33137,58439:33134,58440:33125,58441:33126,58442:33140,58443:33155,58444:33160,58445:33162,58446:33152,58447:33154,58448:33184,58449:33173,58450:33188,58451:33187,58452:33119,58453:33171,58454:33193,58455:33200,58456:33205,58457:33214,58458:33208,58459:33213,58460:33216,58461:33218,58462:33210,58463:33225,58464:33229,58465:33233,58466:33241,58467:33240,58468:33224,58469:33242,58470:33247,58471:33248,58472:33255,58473:33274,58474:33275,58475:33278,58476:33281,58477:33282,58478:33285,58479:33287,58480:33290,58481:33293,58482:33296,58483:33302,58484:33321,58485:33323,58486:33336,58487:33331,58488:33344,58489:33369,58490:33368,58491:33373,58492:33370,58493:33375,58494:33380,58496:33378,58497:33384,58498:33386,58499:33387,58500:33326,58501:33393,58502:33399,58503:33400,58504:33406,58505:33421,58506:33426,58507:33451,58508:33439,58509:33467,58510:33452,58511:33505,58512:33507,58513:33503,58514:33490,58515:33524,58516:33523,58517:33530,58518:33683,58519:33539,58520:33531,58521:33529,58522:33502,58523:33542,58524:33500,58525:33545,58526:33497,58527:33589,58528:33588,58529:33558,58530:33586,58531:33585,58532:33600,58533:33593,58534:33616,58535:33605,58536:33583,58537:33579,58538:33559,58539:33560,58540:33669,58541:33690,58542:33706,58543:33695,58544:33698,58545:33686,58546:33571,58547:33678,58548:33671,58549:33674,58550:33660,58551:33717,58552:33651,58553:33653,58554:33696,58555:33673,58556:33704,58557:33780,58558:33811,58559:33771,58560:33742,58561:33789,58562:33795,58563:33752,58564:33803,58565:33729,58566:33783,58567:33799,58568:33760,58569:33778,58570:33805,58571:33826,58572:33824,58573:33725,58574:33848,58575:34054,58576:33787,58577:33901,58578:33834,58579:33852,58580:34138,58581:33924,58582:33911,58583:33899,58584:33965,58585:33902,58586:33922,58587:33897,58588:33862,58589:33836,58590:33903,58591:33913,58592:33845,58593:33994,58594:33890,58595:33977,58596:33983,58597:33951,58598:34009,58599:33997,58600:33979,58601:34010,58602:34e3,58603:33985,58604:33990,58605:34006,58606:33953,58607:34081,58608:34047,58609:34036,58610:34071,58611:34072,58612:34092,58613:34079,58614:34069,58615:34068,58616:34044,58617:34112,58618:34147,58619:34136,58620:34120,58688:34113,58689:34306,58690:34123,58691:34133,58692:34176,58693:34212,58694:34184,58695:34193,58696:34186,58697:34216,58698:34157,58699:34196,58700:34203,58701:34282,58702:34183,58703:34204,58704:34167,58705:34174,58706:34192,58707:34249,58708:34234,58709:34255,58710:34233,58711:34256,58712:34261,58713:34269,58714:34277,58715:34268,58716:34297,58717:34314,58718:34323,58719:34315,58720:34302,58721:34298,58722:34310,58723:34338,58724:34330,58725:34352,58726:34367,58727:34381,58728:20053,58729:34388,58730:34399,58731:34407,58732:34417,58733:34451,58734:34467,58735:34473,58736:34474,58737:34443,58738:34444,58739:34486,58740:34479,58741:34500,58742:34502,58743:34480,58744:34505,58745:34851,58746:34475,58747:34516,58748:34526,58749:34537,58750:34540,58752:34527,58753:34523,58754:34543,58755:34578,58756:34566,58757:34568,58758:34560,58759:34563,58760:34555,58761:34577,58762:34569,58763:34573,58764:34553,58765:34570,58766:34612,58767:34623,58768:34615,58769:34619,58770:34597,58771:34601,58772:34586,58773:34656,58774:34655,58775:34680,58776:34636,58777:34638,58778:34676,58779:34647,58780:34664,58781:34670,58782:34649,58783:34643,58784:34659,58785:34666,58786:34821,58787:34722,58788:34719,58789:34690,58790:34735,58791:34763,58792:34749,58793:34752,58794:34768,58795:38614,58796:34731,58797:34756,58798:34739,58799:34759,58800:34758,58801:34747,58802:34799,58803:34802,58804:34784,58805:34831,58806:34829,58807:34814,58808:34806,58809:34807,58810:34830,58811:34770,58812:34833,58813:34838,58814:34837,58815:34850,58816:34849,58817:34865,58818:34870,58819:34873,58820:34855,58821:34875,58822:34884,58823:34882,58824:34898,58825:34905,58826:34910,58827:34914,58828:34923,58829:34945,58830:34942,58831:34974,58832:34933,58833:34941,58834:34997,58835:34930,58836:34946,58837:34967,58838:34962,58839:34990,58840:34969,58841:34978,58842:34957,58843:34980,58844:34992,58845:35007,58846:34993,58847:35011,58848:35012,58849:35028,58850:35032,58851:35033,58852:35037,58853:35065,58854:35074,58855:35068,58856:35060,58857:35048,58858:35058,58859:35076,58860:35084,58861:35082,58862:35091,58863:35139,58864:35102,58865:35109,58866:35114,58867:35115,58868:35137,58869:35140,58870:35131,58871:35126,58872:35128,58873:35148,58874:35101,58875:35168,58876:35166,58944:35174,58945:35172,58946:35181,58947:35178,58948:35183,58949:35188,58950:35191,58951:35198,58952:35203,58953:35208,58954:35210,58955:35219,58956:35224,58957:35233,58958:35241,58959:35238,58960:35244,58961:35247,58962:35250,58963:35258,58964:35261,58965:35263,58966:35264,58967:35290,58968:35292,58969:35293,58970:35303,58971:35316,58972:35320,58973:35331,58974:35350,58975:35344,58976:35340,58977:35355,58978:35357,58979:35365,58980:35382,58981:35393,58982:35419,58983:35410,58984:35398,58985:35400,58986:35452,58987:35437,58988:35436,58989:35426,58990:35461,58991:35458,58992:35460,58993:35496,58994:35489,58995:35473,58996:35493,58997:35494,58998:35482,58999:35491,59e3:35524,59001:35533,59002:35522,59003:35546,59004:35563,59005:35571,59006:35559,59008:35556,59009:35569,59010:35604,59011:35552,59012:35554,59013:35575,59014:35550,59015:35547,59016:35596,59017:35591,59018:35610,59019:35553,59020:35606,59021:35600,59022:35607,59023:35616,59024:35635,59025:38827,59026:35622,59027:35627,59028:35646,59029:35624,59030:35649,59031:35660,59032:35663,59033:35662,59034:35657,59035:35670,59036:35675,59037:35674,59038:35691,59039:35679,59040:35692,59041:35695,59042:35700,59043:35709,59044:35712,59045:35724,59046:35726,59047:35730,59048:35731,59049:35734,59050:35737,59051:35738,59052:35898,59053:35905,59054:35903,59055:35912,59056:35916,59057:35918,59058:35920,59059:35925,59060:35938,59061:35948,59062:35960,59063:35962,59064:35970,59065:35977,59066:35973,59067:35978,59068:35981,59069:35982,59070:35988,59071:35964,59072:35992,59073:25117,59074:36013,59075:36010,59076:36029,59077:36018,59078:36019,59079:36014,59080:36022,59081:36040,59082:36033,59083:36068,59084:36067,59085:36058,59086:36093,59087:36090,59088:36091,59089:36100,59090:36101,59091:36106,59092:36103,59093:36111,59094:36109,59095:36112,59096:40782,59097:36115,59098:36045,59099:36116,59100:36118,59101:36199,59102:36205,59103:36209,59104:36211,59105:36225,59106:36249,59107:36290,59108:36286,59109:36282,59110:36303,59111:36314,59112:36310,59113:36300,59114:36315,59115:36299,59116:36330,59117:36331,59118:36319,59119:36323,59120:36348,59121:36360,59122:36361,59123:36351,59124:36381,59125:36382,59126:36368,59127:36383,59128:36418,59129:36405,59130:36400,59131:36404,59132:36426,59200:36423,59201:36425,59202:36428,59203:36432,59204:36424,59205:36441,59206:36452,59207:36448,59208:36394,59209:36451,59210:36437,59211:36470,59212:36466,59213:36476,59214:36481,59215:36487,59216:36485,59217:36484,59218:36491,59219:36490,59220:36499,59221:36497,59222:36500,59223:36505,59224:36522,59225:36513,59226:36524,59227:36528,59228:36550,59229:36529,59230:36542,59231:36549,59232:36552,59233:36555,59234:36571,59235:36579,59236:36604,59237:36603,59238:36587,59239:36606,59240:36618,59241:36613,59242:36629,59243:36626,59244:36633,59245:36627,59246:36636,59247:36639,59248:36635,59249:36620,59250:36646,59251:36659,59252:36667,59253:36665,59254:36677,59255:36674,59256:36670,59257:36684,59258:36681,59259:36678,59260:36686,59261:36695,59262:36700,59264:36706,59265:36707,59266:36708,59267:36764,59268:36767,59269:36771,59270:36781,59271:36783,59272:36791,59273:36826,59274:36837,59275:36834,59276:36842,59277:36847,59278:36999,59279:36852,59280:36869,59281:36857,59282:36858,59283:36881,59284:36885,59285:36897,59286:36877,59287:36894,59288:36886,59289:36875,59290:36903,59291:36918,59292:36917,59293:36921,59294:36856,59295:36943,59296:36944,59297:36945,59298:36946,59299:36878,59300:36937,59301:36926,59302:36950,59303:36952,59304:36958,59305:36968,59306:36975,59307:36982,59308:38568,59309:36978,59310:36994,59311:36989,59312:36993,59313:36992,59314:37002,59315:37001,59316:37007,59317:37032,59318:37039,59319:37041,59320:37045,59321:37090,59322:37092,59323:25160,59324:37083,59325:37122,59326:37138,59327:37145,59328:37170,59329:37168,59330:37194,59331:37206,59332:37208,59333:37219,59334:37221,59335:37225,59336:37235,59337:37234,59338:37259,59339:37257,59340:37250,59341:37282,59342:37291,59343:37295,59344:37290,59345:37301,59346:37300,59347:37306,59348:37312,59349:37313,59350:37321,59351:37323,59352:37328,59353:37334,59354:37343,59355:37345,59356:37339,59357:37372,59358:37365,59359:37366,59360:37406,59361:37375,59362:37396,59363:37420,59364:37397,59365:37393,59366:37470,59367:37463,59368:37445,59369:37449,59370:37476,59371:37448,59372:37525,59373:37439,59374:37451,59375:37456,59376:37532,59377:37526,59378:37523,59379:37531,59380:37466,59381:37583,59382:37561,59383:37559,59384:37609,59385:37647,59386:37626,59387:37700,59388:37678,59456:37657,59457:37666,59458:37658,59459:37667,59460:37690,59461:37685,59462:37691,59463:37724,59464:37728,59465:37756,59466:37742,59467:37718,59468:37808,59469:37804,59470:37805,59471:37780,59472:37817,59473:37846,59474:37847,59475:37864,59476:37861,59477:37848,59478:37827,59479:37853,59480:37840,59481:37832,59482:37860,59483:37914,59484:37908,59485:37907,59486:37891,59487:37895,59488:37904,59489:37942,59490:37931,59491:37941,59492:37921,59493:37946,59494:37953,59495:37970,59496:37956,59497:37979,59498:37984,59499:37986,59500:37982,59501:37994,59502:37417,59503:38e3,59504:38005,59505:38007,59506:38013,59507:37978,59508:38012,59509:38014,59510:38017,59511:38015,59512:38274,59513:38279,59514:38282,59515:38292,59516:38294,59517:38296,59518:38297,59520:38304,59521:38312,59522:38311,59523:38317,59524:38332,59525:38331,59526:38329,59527:38334,59528:38346,59529:28662,59530:38339,59531:38349,59532:38348,59533:38357,59534:38356,59535:38358,59536:38364,59537:38369,59538:38373,59539:38370,59540:38433,59541:38440,59542:38446,59543:38447,59544:38466,59545:38476,59546:38479,59547:38475,59548:38519,59549:38492,59550:38494,59551:38493,59552:38495,59553:38502,59554:38514,59555:38508,59556:38541,59557:38552,59558:38549,59559:38551,59560:38570,59561:38567,59562:38577,59563:38578,59564:38576,59565:38580,59566:38582,59567:38584,59568:38585,59569:38606,59570:38603,59571:38601,59572:38605,59573:35149,59574:38620,59575:38669,59576:38613,59577:38649,59578:38660,59579:38662,59580:38664,59581:38675,59582:38670,59583:38673,59584:38671,59585:38678,59586:38681,59587:38692,59588:38698,59589:38704,59590:38713,59591:38717,59592:38718,59593:38724,59594:38726,59595:38728,59596:38722,59597:38729,59598:38748,59599:38752,59600:38756,59601:38758,59602:38760,59603:21202,59604:38763,59605:38769,59606:38777,59607:38789,59608:38780,59609:38785,59610:38778,59611:38790,59612:38795,59613:38799,59614:38800,59615:38812,59616:38824,59617:38822,59618:38819,59619:38835,59620:38836,59621:38851,59622:38854,59623:38856,59624:38859,59625:38876,59626:38893,59627:40783,59628:38898,59629:31455,59630:38902,59631:38901,59632:38927,59633:38924,59634:38968,59635:38948,59636:38945,59637:38967,59638:38973,59639:38982,59640:38991,59641:38987,59642:39019,59643:39023,59644:39024,59712:39025,59713:39028,59714:39027,59715:39082,59716:39087,59717:39089,59718:39094,59719:39108,59720:39107,59721:39110,59722:39145,59723:39147,59724:39171,59725:39177,59726:39186,59727:39188,59728:39192,59729:39201,59730:39197,59731:39198,59732:39204,59733:39200,59734:39212,59735:39214,59736:39229,59737:39230,59738:39234,59739:39241,59740:39237,59741:39248,59742:39243,59743:39249,59744:39250,59745:39244,59746:39253,59747:39319,59748:39320,59749:39333,59750:39341,59751:39342,59752:39356,59753:39391,59754:39387,59755:39389,59756:39384,59757:39377,59758:39405,59759:39406,59760:39409,59761:39410,59762:39419,59763:39416,59764:39425,59765:39439,59766:39429,59767:39394,59768:39449,59769:39467,59770:39479,59771:39493,59772:39490,59773:39488,59774:39491,59776:39486,59777:39509,59778:39501,59779:39515,59780:39511,59781:39519,59782:39522,59783:39525,59784:39524,59785:39529,59786:39531,59787:39530,59788:39597,59789:39600,59790:39612,59791:39616,59792:39631,59793:39633,59794:39635,59795:39636,59796:39646,59797:39647,59798:39650,59799:39651,59800:39654,59801:39663,59802:39659,59803:39662,59804:39668,59805:39665,59806:39671,59807:39675,59808:39686,59809:39704,59810:39706,59811:39711,59812:39714,59813:39715,59814:39717,59815:39719,59816:39720,59817:39721,59818:39722,59819:39726,59820:39727,59821:39730,59822:39748,59823:39747,59824:39759,59825:39757,59826:39758,59827:39761,59828:39768,59829:39796,59830:39827,59831:39811,59832:39825,59833:39830,59834:39831,59835:39839,59836:39840,59837:39848,59838:39860,59839:39872,59840:39882,59841:39865,59842:39878,59843:39887,59844:39889,59845:39890,59846:39907,59847:39906,59848:39908,59849:39892,59850:39905,59851:39994,59852:39922,59853:39921,59854:39920,59855:39957,59856:39956,59857:39945,59858:39955,59859:39948,59860:39942,59861:39944,59862:39954,59863:39946,59864:39940,59865:39982,59866:39963,59867:39973,59868:39972,59869:39969,59870:39984,59871:40007,59872:39986,59873:40006,59874:39998,59875:40026,59876:40032,59877:40039,59878:40054,59879:40056,59880:40167,59881:40172,59882:40176,59883:40201,59884:40200,59885:40171,59886:40195,59887:40198,59888:40234,59889:40230,59890:40367,59891:40227,59892:40223,59893:40260,59894:40213,59895:40210,59896:40257,59897:40255,59898:40254,59899:40262,59900:40264,59968:40285,59969:40286,59970:40292,59971:40273,59972:40272,59973:40281,59974:40306,59975:40329,59976:40327,59977:40363,59978:40303,59979:40314,59980:40346,59981:40356,59982:40361,59983:40370,59984:40388,59985:40385,59986:40379,59987:40376,59988:40378,59989:40390,59990:40399,59991:40386,59992:40409,59993:40403,59994:40440,59995:40422,59996:40429,59997:40431,59998:40445,59999:40474,6e4:40475,60001:40478,60002:40565,60003:40569,60004:40573,60005:40577,60006:40584,60007:40587,60008:40588,60009:40594,60010:40597,60011:40593,60012:40605,60013:40613,60014:40617,60015:40632,60016:40618,60017:40621,60018:38753,60019:40652,60020:40654,60021:40655,60022:40656,60023:40660,60024:40668,60025:40670,60026:40669,60027:40672,60028:40677,60029:40680,60030:40687,60032:40692,60033:40694,60034:40695,60035:40697,60036:40699,60037:40700,60038:40701,60039:40711,60040:40712,60041:30391,60042:40725,60043:40737,60044:40748,60045:40766,60046:40778,60047:40786,60048:40788,60049:40803,60050:40799,60051:40800,60052:40801,60053:40806,60054:40807,60055:40812,60056:40810,60057:40823,60058:40818,60059:40822,60060:40853,60061:40860,60062:40864,60063:22575,60064:27079,60065:36953,60066:29796,60067:20956,60068:29081,60736:32394,60737:35100,60738:37704,60739:37512,60740:34012,60741:20425,60742:28859,60743:26161,60744:26824,60745:37625,60746:26363,60747:24389,60748:20008,60749:20193,60750:20220,60751:20224,60752:20227,60753:20281,60754:20310,60755:20370,60756:20362,60757:20378,60758:20372,60759:20429,60760:20544,60761:20514,60762:20479,60763:20510,60764:20550,60765:20592,60766:20546,60767:20628,60768:20724,60769:20696,60770:20810,60771:20836,60772:20893,60773:20926,60774:20972,60775:21013,60776:21148,60777:21158,60778:21184,60779:21211,60780:21248,60781:21255,60782:21284,60783:21362,60784:21395,60785:21426,60786:21469,60787:64014,60788:21660,60789:21642,60790:21673,60791:21759,60792:21894,60793:22361,60794:22373,60795:22444,60796:22472,60797:22471,60798:64015,60800:64016,60801:22686,60802:22706,60803:22795,60804:22867,60805:22875,60806:22877,60807:22883,60808:22948,60809:22970,60810:23382,60811:23488,60812:29999,60813:23512,60814:23532,60815:23582,60816:23718,60817:23738,60818:23797,60819:23847,60820:23891,60821:64017,60822:23874,60823:23917,60824:23992,60825:23993,60826:24016,60827:24353,60828:24372,60829:24423,60830:24503,60831:24542,60832:24669,60833:24709,60834:24714,60835:24798,60836:24789,60837:24864,60838:24818,60839:24849,60840:24887,60841:24880,60842:24984,60843:25107,60844:25254,60845:25589,60846:25696,60847:25757,60848:25806,60849:25934,60850:26112,60851:26133,60852:26171,60853:26121,60854:26158,60855:26142,60856:26148,60857:26213,60858:26199,60859:26201,60860:64018,60861:26227,60862:26265,60863:26272,60864:26290,60865:26303,60866:26362,60867:26382,60868:63785,60869:26470,60870:26555,60871:26706,60872:26560,60873:26625,60874:26692,60875:26831,60876:64019,60877:26984,60878:64020,60879:27032,60880:27106,60881:27184,60882:27243,60883:27206,60884:27251,60885:27262,60886:27362,60887:27364,60888:27606,60889:27711,60890:27740,60891:27782,60892:27759,60893:27866,60894:27908,60895:28039,60896:28015,60897:28054,60898:28076,60899:28111,60900:28152,60901:28146,60902:28156,60903:28217,60904:28252,60905:28199,60906:28220,60907:28351,60908:28552,60909:28597,60910:28661,60911:28677,60912:28679,60913:28712,60914:28805,60915:28843,60916:28943,60917:28932,60918:29020,60919:28998,60920:28999,60921:64021,60922:29121,60923:29182,60924:29361,60992:29374,60993:29476,60994:64022,60995:29559,60996:29629,60997:29641,60998:29654,60999:29667,61e3:29650,61001:29703,61002:29685,61003:29734,61004:29738,61005:29737,61006:29742,61007:29794,61008:29833,61009:29855,61010:29953,61011:30063,61012:30338,61013:30364,61014:30366,61015:30363,61016:30374,61017:64023,61018:30534,61019:21167,61020:30753,61021:30798,61022:30820,61023:30842,61024:31024,61025:64024,61026:64025,61027:64026,61028:31124,61029:64027,61030:31131,61031:31441,61032:31463,61033:64028,61034:31467,61035:31646,61036:64029,61037:32072,61038:32092,61039:32183,61040:32160,61041:32214,61042:32338,61043:32583,61044:32673,61045:64030,61046:33537,61047:33634,61048:33663,61049:33735,61050:33782,61051:33864,61052:33972,61053:34131,61054:34137,61056:34155,61057:64031,61058:34224,61059:64032,61060:64033,61061:34823,61062:35061,61063:35346,61064:35383,61065:35449,61066:35495,61067:35518,61068:35551,61069:64034,61070:35574,61071:35667,61072:35711,61073:36080,61074:36084,61075:36114,61076:36214,61077:64035,61078:36559,61079:64036,61080:64037,61081:36967,61082:37086,61083:64038,61084:37141,61085:37159,61086:37338,61087:37335,61088:37342,61089:37357,61090:37358,61091:37348,61092:37349,61093:37382,61094:37392,61095:37386,61096:37434,61097:37440,61098:37436,61099:37454,61100:37465,61101:37457,61102:37433,61103:37479,61104:37543,61105:37495,61106:37496,61107:37607,61108:37591,61109:37593,61110:37584,61111:64039,61112:37589,61113:37600,61114:37587,61115:37669,61116:37665,61117:37627,61118:64040,61119:37662,61120:37631,61121:37661,61122:37634,61123:37744,61124:37719,61125:37796,61126:37830,61127:37854,61128:37880,61129:37937,61130:37957,61131:37960,61132:38290,61133:63964,61134:64041,61135:38557,61136:38575,61137:38707,61138:38715,61139:38723,61140:38733,61141:38735,61142:38737,61143:38741,61144:38999,61145:39013,61146:64042,61147:64043,61148:39207,61149:64044,61150:39326,61151:39502,61152:39641,61153:39644,61154:39797,61155:39794,61156:39823,61157:39857,61158:39867,61159:39936,61160:40304,61161:40299,61162:64045,61163:40473,61164:40657,61167:8560,61168:8561,61169:8562,61170:8563,61171:8564,61172:8565,61173:8566,61174:8567,61175:8568,61176:8569,61177:65506,61178:65508,61179:65287,61180:65282,61504:57344,61505:57345,61506:57346,61507:57347,61508:57348,61509:57349,61510:57350,61511:57351,61512:57352,61513:57353,61514:57354,61515:57355,61516:57356,61517:57357,61518:57358,61519:57359,61520:57360,61521:57361,61522:57362,61523:57363,61524:57364,61525:57365,61526:57366,61527:57367,61528:57368,61529:57369,61530:57370,61531:57371,61532:57372,61533:57373,61534:57374,61535:57375,61536:57376,61537:57377,61538:57378,61539:57379,61540:57380,61541:57381,61542:57382,61543:57383,61544:57384,61545:57385,61546:57386,61547:57387,61548:57388,61549:57389,61550:57390,61551:57391,61552:57392,61553:57393,61554:57394,61555:57395,61556:57396,61557:57397,61558:57398,61559:57399,61560:57400,61561:57401,61562:57402,61563:57403,61564:57404,61565:57405,61566:57406,61568:57407,61569:57408,61570:57409,61571:57410,61572:57411,61573:57412,61574:57413,61575:57414,61576:57415,61577:57416,61578:57417,61579:57418,61580:57419,61581:57420,61582:57421,61583:57422,61584:57423,61585:57424,61586:57425,61587:57426,61588:57427,61589:57428,61590:57429,61591:57430,61592:57431,61593:57432,61594:57433,61595:57434,61596:57435,61597:57436,61598:57437,61599:57438,61600:57439,61601:57440,61602:57441,61603:57442,61604:57443,61605:57444,61606:57445,61607:57446,61608:57447,61609:57448,61610:57449,61611:57450,61612:57451,61613:57452,61614:57453,61615:57454,61616:57455,61617:57456,61618:57457,61619:57458,61620:57459,61621:57460,61622:57461,61623:57462,61624:57463,61625:57464,61626:57465,61627:57466,61628:57467,61629:57468,61630:57469,61631:57470,61632:57471,61633:57472,61634:57473,61635:57474,61636:57475,61637:57476,61638:57477,61639:57478,61640:57479,61641:57480,61642:57481,61643:57482,61644:57483,61645:57484,61646:57485,61647:57486,61648:57487,61649:57488,61650:57489,61651:57490,61652:57491,61653:57492,61654:57493,61655:57494,61656:57495,61657:57496,61658:57497,61659:57498,61660:57499,61661:57500,61662:57501,61663:57502,61664:57503,61665:57504,61666:57505,61667:57506,61668:57507,61669:57508,61670:57509,61671:57510,61672:57511,61673:57512,61674:57513,61675:57514,61676:57515,61677:57516,61678:57517,61679:57518,61680:57519,61681:57520,61682:57521,61683:57522,61684:57523,61685:57524,61686:57525,61687:57526,61688:57527,61689:57528,61690:57529,61691:57530,61692:57531,61760:57532,61761:57533,61762:57534,61763:57535,61764:57536,61765:57537,61766:57538,61767:57539,61768:57540,61769:57541,61770:57542,61771:57543,61772:57544,61773:57545,61774:57546,61775:57547,61776:57548,61777:57549,61778:57550,61779:57551,61780:57552,61781:57553,61782:57554,61783:57555,61784:57556,61785:57557,61786:57558,61787:57559,61788:57560,61789:57561,61790:57562,61791:57563,61792:57564,61793:57565,61794:57566,61795:57567,61796:57568,61797:57569,61798:57570,61799:57571,61800:57572,61801:57573,61802:57574,61803:57575,61804:57576,61805:57577,61806:57578,61807:57579,61808:57580,61809:57581,61810:57582,61811:57583,61812:57584,61813:57585,61814:57586,61815:57587,61816:57588,61817:57589,61818:57590,61819:57591,61820:57592,61821:57593,61822:57594,61824:57595,61825:57596,61826:57597,61827:57598,61828:57599,61829:57600,61830:57601,61831:57602,61832:57603,61833:57604,61834:57605,61835:57606,61836:57607,61837:57608,61838:57609,61839:57610,61840:57611,61841:57612,61842:57613,61843:57614,61844:57615,61845:57616,61846:57617,61847:57618,61848:57619,61849:57620,61850:57621,61851:57622,61852:57623,61853:57624,61854:57625,61855:57626,61856:57627,61857:57628,61858:57629,61859:57630,61860:57631,61861:57632,61862:57633,61863:57634,61864:57635,61865:57636,61866:57637,61867:57638,61868:57639,61869:57640,61870:57641,61871:57642,61872:57643,61873:57644,61874:57645,61875:57646,61876:57647,61877:57648,61878:57649,61879:57650,61880:57651,61881:57652,61882:57653,61883:57654,61884:57655,61885:57656,61886:57657,61887:57658,61888:57659,61889:57660,61890:57661,61891:57662,61892:57663,61893:57664,61894:57665,61895:57666,61896:57667,61897:57668,61898:57669,61899:57670,61900:57671,61901:57672,61902:57673,61903:57674,61904:57675,61905:57676,61906:57677,61907:57678,61908:57679,61909:57680,61910:57681,61911:57682,61912:57683,61913:57684,61914:57685,61915:57686,61916:57687,61917:57688,61918:57689,61919:57690,61920:57691,61921:57692,61922:57693,61923:57694,61924:57695,61925:57696,61926:57697,61927:57698,61928:57699,61929:57700,61930:57701,61931:57702,61932:57703,61933:57704,61934:57705,61935:57706,61936:57707,61937:57708,61938:57709,61939:57710,61940:57711,61941:57712,61942:57713,61943:57714,61944:57715,61945:57716,61946:57717,61947:57718,61948:57719,62016:57720,62017:57721,62018:57722,62019:57723,62020:57724,62021:57725,62022:57726,62023:57727,62024:57728,62025:57729,62026:57730,62027:57731,62028:57732,62029:57733,62030:57734,62031:57735,62032:57736,62033:57737,62034:57738,62035:57739,62036:57740,62037:57741,62038:57742,62039:57743,62040:57744,62041:57745,62042:57746,62043:57747,62044:57748,62045:57749,62046:57750,62047:57751,62048:57752,62049:57753,62050:57754,62051:57755,62052:57756,62053:57757,62054:57758,62055:57759,62056:57760,62057:57761,62058:57762,62059:57763,62060:57764,62061:57765,62062:57766,62063:57767,62064:57768,62065:57769,62066:57770,62067:57771,62068:57772,62069:57773,62070:57774,62071:57775,62072:57776,62073:57777,62074:57778,62075:57779,62076:57780,62077:57781,62078:57782,62080:57783,62081:57784,62082:57785,62083:57786,62084:57787,62085:57788,62086:57789,62087:57790,62088:57791,62089:57792,62090:57793,62091:57794,62092:57795,62093:57796,62094:57797,62095:57798,62096:57799,62097:57800,62098:57801,62099:57802,62100:57803,62101:57804,62102:57805,62103:57806,62104:57807,62105:57808,62106:57809,62107:57810,62108:57811,62109:57812,62110:57813,62111:57814,62112:57815,62113:57816,62114:57817,62115:57818,62116:57819,62117:57820,62118:57821,62119:57822,62120:57823,62121:57824,62122:57825,62123:57826,62124:57827,62125:57828,62126:57829,62127:57830,62128:57831,62129:57832,62130:57833,62131:57834,62132:57835,62133:57836,62134:57837,62135:57838,62136:57839,62137:57840,62138:57841,62139:57842,62140:57843,62141:57844,62142:57845,62143:57846,62144:57847,62145:57848,62146:57849,62147:57850,62148:57851,62149:57852,62150:57853,62151:57854,62152:57855,62153:57856,62154:57857,62155:57858,62156:57859,62157:57860,62158:57861,62159:57862,62160:57863,62161:57864,62162:57865,62163:57866,62164:57867,62165:57868,62166:57869,62167:57870,62168:57871,62169:57872,62170:57873,62171:57874,62172:57875,62173:57876,62174:57877,62175:57878,62176:57879,62177:57880,62178:57881,62179:57882,62180:57883,62181:57884,62182:57885,62183:57886,62184:57887,62185:57888,62186:57889,62187:57890,62188:57891,62189:57892,62190:57893,62191:57894,62192:57895,62193:57896,62194:57897,62195:57898,62196:57899,62197:57900,62198:57901,62199:57902,62200:57903,62201:57904,62202:57905,62203:57906,62204:57907,62272:57908,62273:57909,62274:57910,62275:57911,62276:57912,62277:57913,62278:57914,62279:57915,62280:57916,62281:57917,62282:57918,62283:57919,62284:57920,62285:57921,62286:57922,62287:57923,62288:57924,62289:57925,62290:57926,62291:57927,62292:57928,62293:57929,62294:57930,62295:57931,62296:57932,62297:57933,62298:57934,62299:57935,62300:57936,62301:57937,62302:57938,62303:57939,62304:57940,62305:57941,62306:57942,62307:57943,62308:57944,62309:57945,62310:57946,62311:57947,62312:57948,62313:57949,62314:57950,62315:57951,62316:57952,62317:57953,62318:57954,62319:57955,62320:57956,62321:57957,62322:57958,62323:57959,62324:57960,62325:57961,62326:57962,62327:57963,62328:57964,62329:57965,62330:57966,62331:57967,62332:57968,62333:57969,62334:57970,62336:57971,62337:57972,62338:57973,62339:57974,62340:57975,62341:57976,62342:57977,62343:57978,62344:57979,62345:57980,62346:57981,62347:57982,62348:57983,62349:57984,62350:57985,62351:57986,62352:57987,62353:57988,62354:57989,62355:57990,62356:57991,62357:57992,62358:57993,62359:57994,62360:57995,62361:57996,62362:57997,62363:57998,62364:57999,62365:58e3,62366:58001,62367:58002,62368:58003,62369:58004,62370:58005,62371:58006,62372:58007,62373:58008,62374:58009,62375:58010,62376:58011,62377:58012,62378:58013,62379:58014,62380:58015,62381:58016,62382:58017,62383:58018,62384:58019,62385:58020,62386:58021,62387:58022,62388:58023,62389:58024,62390:58025,62391:58026,62392:58027,62393:58028,62394:58029,62395:58030,62396:58031,62397:58032,62398:58033,62399:58034,62400:58035,62401:58036,62402:58037,62403:58038,62404:58039,62405:58040,62406:58041,62407:58042,62408:58043,62409:58044,62410:58045,62411:58046,62412:58047,62413:58048,62414:58049,62415:58050,62416:58051,62417:58052,62418:58053,62419:58054,62420:58055,62421:58056,62422:58057,62423:58058,62424:58059,62425:58060,62426:58061,62427:58062,62428:58063,62429:58064,62430:58065,62431:58066,62432:58067,62433:58068,62434:58069,62435:58070,62436:58071,62437:58072,62438:58073,62439:58074,62440:58075,62441:58076,62442:58077,62443:58078,62444:58079,62445:58080,62446:58081,62447:58082,62448:58083,62449:58084,62450:58085,62451:58086,62452:58087,62453:58088,62454:58089,62455:58090,62456:58091,62457:58092,62458:58093,62459:58094,62460:58095,62528:58096,62529:58097,62530:58098,62531:58099,62532:58100,62533:58101,62534:58102,62535:58103,62536:58104,62537:58105,62538:58106,62539:58107,62540:58108,62541:58109,62542:58110,62543:58111,62544:58112,62545:58113,62546:58114,62547:58115,62548:58116,62549:58117,62550:58118,62551:58119,62552:58120,62553:58121,62554:58122,62555:58123,62556:58124,62557:58125,62558:58126,62559:58127,62560:58128,62561:58129,62562:58130,62563:58131,62564:58132,62565:58133,62566:58134,62567:58135,62568:58136,62569:58137,62570:58138,62571:58139,62572:58140,62573:58141,62574:58142,62575:58143,62576:58144,62577:58145,62578:58146,62579:58147,62580:58148,62581:58149,62582:58150,62583:58151,62584:58152,62585:58153,62586:58154,62587:58155,62588:58156,62589:58157,62590:58158,62592:58159,62593:58160,62594:58161,62595:58162,62596:58163,62597:58164,62598:58165,62599:58166,62600:58167,62601:58168,62602:58169,62603:58170,62604:58171,62605:58172,62606:58173,62607:58174,62608:58175,62609:58176,62610:58177,62611:58178,62612:58179,62613:58180,62614:58181,62615:58182,62616:58183,62617:58184,62618:58185,62619:58186,62620:58187,62621:58188,62622:58189,62623:58190,62624:58191,62625:58192,62626:58193,62627:58194,62628:58195,62629:58196,62630:58197,62631:58198,62632:58199,62633:58200,62634:58201,62635:58202,62636:58203,62637:58204,62638:58205,62639:58206,62640:58207,62641:58208,62642:58209,62643:58210,62644:58211,62645:58212,62646:58213,62647:58214,62648:58215,62649:58216,62650:58217,62651:58218,62652:58219,62653:58220,62654:58221,62655:58222,62656:58223,62657:58224,62658:58225,62659:58226,62660:58227,62661:58228,62662:58229,62663:58230,62664:58231,62665:58232,62666:58233,62667:58234,62668:58235,62669:58236,62670:58237,62671:58238,62672:58239,62673:58240,62674:58241,62675:58242,62676:58243,62677:58244,62678:58245,62679:58246,62680:58247,62681:58248,62682:58249,62683:58250,62684:58251,62685:58252,62686:58253,62687:58254,62688:58255,62689:58256,62690:58257,62691:58258,62692:58259,62693:58260,62694:58261,62695:58262,62696:58263,62697:58264,62698:58265,62699:58266,62700:58267,62701:58268,62702:58269,62703:58270,62704:58271,62705:58272,62706:58273,62707:58274,62708:58275,62709:58276,62710:58277,62711:58278,62712:58279,62713:58280,62714:58281,62715:58282,62716:58283,62784:58284,62785:58285,62786:58286,62787:58287,62788:58288,62789:58289,62790:58290,62791:58291,62792:58292,62793:58293,62794:58294,62795:58295,62796:58296,62797:58297,62798:58298,62799:58299,62800:58300,62801:58301,62802:58302,62803:58303,62804:58304,62805:58305,62806:58306,62807:58307,62808:58308,62809:58309,62810:58310,62811:58311,62812:58312,62813:58313,62814:58314,62815:58315,62816:58316,62817:58317,62818:58318,62819:58319,62820:58320,62821:58321,62822:58322,62823:58323,62824:58324,62825:58325,62826:58326,62827:58327,62828:58328,62829:58329,62830:58330,62831:58331,62832:58332,62833:58333,62834:58334,62835:58335,62836:58336,62837:58337,62838:58338,62839:58339,62840:58340,62841:58341,62842:58342,62843:58343,62844:58344,62845:58345,62846:58346,62848:58347,62849:58348,62850:58349,62851:58350,62852:58351,62853:58352,62854:58353,62855:58354,62856:58355,62857:58356,62858:58357,62859:58358,62860:58359,62861:58360,62862:58361,62863:58362,62864:58363,62865:58364,62866:58365,62867:58366,62868:58367,62869:58368,62870:58369,62871:58370,62872:58371,62873:58372,62874:58373,62875:58374,62876:58375,62877:58376,62878:58377,62879:58378,62880:58379,62881:58380,62882:58381,62883:58382,62884:58383,62885:58384,62886:58385,62887:58386,62888:58387,62889:58388,62890:58389,62891:58390,62892:58391,62893:58392,62894:58393,62895:58394,62896:58395,62897:58396,62898:58397,62899:58398,62900:58399,62901:58400,62902:58401,62903:58402,62904:58403,62905:58404,62906:58405,62907:58406,62908:58407,62909:58408,62910:58409,62911:58410,62912:58411,62913:58412,62914:58413,62915:58414,62916:58415,62917:58416,62918:58417,62919:58418,62920:58419,62921:58420,62922:58421,62923:58422,62924:58423,62925:58424,62926:58425,62927:58426,62928:58427,62929:58428,62930:58429,62931:58430,62932:58431,62933:58432,62934:58433,62935:58434,62936:58435,62937:58436,62938:58437,62939:58438,62940:58439,62941:58440,62942:58441,62943:58442,62944:58443,62945:58444,62946:58445,62947:58446,62948:58447,62949:58448,62950:58449,62951:58450,62952:58451,62953:58452,62954:58453,62955:58454,62956:58455,62957:58456,62958:58457,62959:58458,62960:58459,62961:58460,62962:58461,62963:58462,62964:58463,62965:58464,62966:58465,62967:58466,62968:58467,62969:58468,62970:58469,62971:58470,62972:58471,63040:58472,63041:58473,63042:58474,63043:58475,63044:58476,63045:58477,63046:58478,63047:58479,63048:58480,63049:58481,63050:58482,63051:58483,63052:58484,63053:58485,63054:58486,63055:58487,63056:58488,63057:58489,63058:58490,63059:58491,63060:58492,63061:58493,63062:58494,63063:58495,63064:58496,63065:58497,63066:58498,63067:58499,63068:58500,63069:58501,63070:58502,63071:58503,63072:58504,63073:58505,63074:58506,63075:58507,63076:58508,63077:58509,63078:58510,63079:58511,63080:58512,63081:58513,63082:58514,63083:58515,63084:58516,63085:58517,63086:58518,63087:58519,63088:58520,63089:58521,63090:58522,63091:58523,63092:58524,63093:58525,63094:58526,63095:58527,63096:58528,63097:58529,63098:58530,63099:58531,63100:58532,63101:58533,63102:58534,63104:58535,63105:58536,63106:58537,63107:58538,63108:58539,63109:58540,63110:58541,63111:58542,63112:58543,63113:58544,63114:58545,63115:58546,63116:58547,63117:58548,63118:58549,63119:58550,63120:58551,63121:58552,63122:58553,63123:58554,63124:58555,63125:58556,63126:58557,63127:58558,63128:58559,63129:58560,63130:58561,63131:58562,63132:58563,63133:58564,63134:58565,63135:58566,63136:58567,63137:58568,63138:58569,63139:58570,63140:58571,63141:58572,63142:58573,63143:58574,63144:58575,63145:58576,63146:58577,63147:58578,63148:58579,63149:58580,63150:58581,63151:58582,63152:58583,63153:58584,63154:58585,63155:58586,63156:58587,63157:58588,63158:58589,63159:58590,63160:58591,63161:58592,63162:58593,63163:58594,63164:58595,63165:58596,63166:58597,63167:58598,63168:58599,63169:58600,63170:58601,63171:58602,63172:58603,63173:58604,63174:58605,63175:58606,63176:58607,63177:58608,63178:58609,63179:58610,63180:58611,63181:58612,63182:58613,63183:58614,63184:58615,63185:58616,63186:58617,63187:58618,63188:58619,63189:58620,63190:58621,63191:58622,63192:58623,63193:58624,63194:58625,63195:58626,63196:58627,63197:58628,63198:58629,63199:58630,63200:58631,63201:58632,63202:58633,63203:58634,63204:58635,63205:58636,63206:58637,63207:58638,63208:58639,63209:58640,63210:58641,63211:58642,63212:58643,63213:58644,63214:58645,63215:58646,63216:58647,63217:58648,63218:58649,63219:58650,63220:58651,63221:58652,63222:58653,63223:58654,63224:58655,63225:58656,63226:58657,63227:58658,63228:58659,63296:58660,63297:58661,63298:58662,63299:58663,63300:58664,63301:58665,63302:58666,63303:58667,63304:58668,63305:58669,63306:58670,63307:58671,63308:58672,63309:58673,63310:58674,63311:58675,63312:58676,63313:58677,63314:58678,63315:58679,63316:58680,63317:58681,63318:58682,63319:58683,63320:58684,63321:58685,63322:58686,63323:58687,63324:58688,63325:58689,63326:58690,63327:58691,63328:58692,63329:58693,63330:58694,63331:58695,63332:58696,63333:58697,63334:58698,63335:58699,63336:58700,63337:58701,63338:58702,63339:58703,63340:58704,63341:58705,63342:58706,63343:58707,63344:58708,63345:58709,63346:58710,63347:58711,63348:58712,63349:58713,63350:58714,63351:58715,63352:58716,63353:58717,63354:58718,63355:58719,63356:58720,63357:58721,63358:58722,63360:58723,63361:58724,63362:58725,63363:58726,63364:58727,63365:58728,63366:58729,63367:58730,63368:58731,63369:58732,63370:58733,63371:58734,63372:58735,63373:58736,63374:58737,63375:58738,63376:58739,63377:58740,63378:58741,63379:58742,63380:58743,63381:58744,63382:58745,63383:58746,63384:58747,63385:58748,63386:58749,63387:58750,63388:58751,63389:58752,63390:58753,63391:58754,63392:58755,63393:58756,63394:58757,63395:58758,63396:58759,63397:58760,63398:58761,63399:58762,63400:58763,63401:58764,63402:58765,63403:58766,63404:58767,63405:58768,63406:58769,63407:58770,63408:58771,63409:58772,63410:58773,63411:58774,63412:58775,63413:58776,63414:58777,63415:58778,63416:58779,63417:58780,63418:58781,63419:58782,63420:58783,63421:58784,63422:58785,63423:58786,63424:58787,63425:58788,63426:58789,63427:58790,63428:58791,63429:58792,63430:58793,63431:58794,63432:58795,63433:58796,63434:58797,63435:58798,63436:58799,63437:58800,63438:58801,63439:58802,63440:58803,63441:58804,63442:58805,63443:58806,63444:58807,63445:58808,63446:58809,63447:58810,63448:58811,63449:58812,63450:58813,63451:58814,63452:58815,63453:58816,63454:58817,63455:58818,63456:58819,63457:58820,63458:58821,63459:58822,63460:58823,63461:58824,63462:58825,63463:58826,63464:58827,63465:58828,63466:58829,63467:58830,63468:58831,63469:58832,63470:58833,63471:58834,63472:58835,63473:58836,63474:58837,63475:58838,63476:58839,63477:58840,63478:58841,63479:58842,63480:58843,63481:58844,63482:58845,63483:58846,63484:58847,63552:58848,63553:58849,63554:58850,63555:58851,63556:58852,63557:58853,63558:58854,63559:58855,63560:58856,63561:58857,63562:58858,63563:58859,63564:58860,63565:58861,63566:58862,63567:58863,63568:58864,63569:58865,63570:58866,63571:58867,63572:58868,63573:58869,63574:58870,63575:58871,63576:58872,63577:58873,63578:58874,63579:58875,63580:58876,63581:58877,63582:58878,63583:58879,63584:58880,63585:58881,63586:58882,63587:58883,63588:58884,63589:58885,63590:58886,63591:58887,63592:58888,63593:58889,63594:58890,63595:58891,63596:58892,63597:58893,63598:58894,63599:58895,63600:58896,63601:58897,63602:58898,63603:58899,63604:58900,63605:58901,63606:58902,63607:58903,63608:58904,63609:58905,63610:58906,63611:58907,63612:58908,63613:58909,63614:58910,63616:58911,63617:58912,63618:58913,63619:58914,63620:58915,63621:58916,63622:58917,63623:58918,63624:58919,63625:58920,63626:58921,63627:58922,63628:58923,63629:58924,63630:58925,63631:58926,63632:58927,63633:58928,63634:58929,63635:58930,63636:58931,63637:58932,63638:58933,63639:58934,63640:58935,63641:58936,63642:58937,63643:58938,63644:58939,63645:58940,63646:58941,63647:58942,63648:58943,63649:58944,63650:58945,63651:58946,63652:58947,63653:58948,63654:58949,63655:58950,63656:58951,63657:58952,63658:58953,63659:58954,63660:58955,63661:58956,63662:58957,63663:58958,63664:58959,63665:58960,63666:58961,63667:58962,63668:58963,63669:58964,63670:58965,63671:58966,63672:58967,63673:58968,63674:58969,63675:58970,63676:58971,63677:58972,63678:58973,63679:58974,63680:58975,63681:58976,63682:58977,63683:58978,63684:58979,63685:58980,63686:58981,63687:58982,63688:58983,63689:58984,63690:58985,63691:58986,63692:58987,63693:58988,63694:58989,63695:58990,63696:58991,63697:58992,63698:58993,63699:58994,63700:58995,63701:58996,63702:58997,63703:58998,63704:58999,63705:59e3,63706:59001,63707:59002,63708:59003,63709:59004,63710:59005,63711:59006,63712:59007,63713:59008,63714:59009,63715:59010,63716:59011,63717:59012,63718:59013,63719:59014,63720:59015,63721:59016,63722:59017,63723:59018,63724:59019,63725:59020,63726:59021,63727:59022,63728:59023,63729:59024,63730:59025,63731:59026,63732:59027,63733:59028,63734:59029,63735:59030,63736:59031,63737:59032,63738:59033,63739:59034,63740:59035,64064:8560,64065:8561,64066:8562,64067:8563,64068:8564,64069:8565,64070:8566,64071:8567,64072:8568,64073:8569,64074:8544,64075:8545,64076:8546,64077:8547,64078:8548,64079:8549,64080:8550,64081:8551,64082:8552,64083:8553,64084:65506,64085:65508,64086:65287,64087:65282,64088:12849,64089:8470,64090:8481,64091:8757,64092:32394,64093:35100,64094:37704,64095:37512,64096:34012,64097:20425,64098:28859,64099:26161,64100:26824,64101:37625,64102:26363,64103:24389,64104:20008,64105:20193,64106:20220,64107:20224,64108:20227,64109:20281,64110:20310,64111:20370,64112:20362,64113:20378,64114:20372,64115:20429,64116:20544,64117:20514,64118:20479,64119:20510,64120:20550,64121:20592,64122:20546,64123:20628,64124:20724,64125:20696,64126:20810,64128:20836,64129:20893,64130:20926,64131:20972,64132:21013,64133:21148,64134:21158,64135:21184,64136:21211,64137:21248,64138:21255,64139:21284,64140:21362,64141:21395,64142:21426,64143:21469,64144:64014,64145:21660,64146:21642,64147:21673,64148:21759,64149:21894,64150:22361,64151:22373,64152:22444,64153:22472,64154:22471,64155:64015,64156:64016,64157:22686,64158:22706,64159:22795,64160:22867,64161:22875,64162:22877,64163:22883,64164:22948,64165:22970,64166:23382,64167:23488,64168:29999,64169:23512,64170:23532,64171:23582,64172:23718,64173:23738,64174:23797,64175:23847,64176:23891,64177:64017,64178:23874,64179:23917,64180:23992,64181:23993,64182:24016,64183:24353,64184:24372,64185:24423,64186:24503,64187:24542,64188:24669,64189:24709,64190:24714,64191:24798,64192:24789,64193:24864,64194:24818,64195:24849,64196:24887,64197:24880,64198:24984,64199:25107,64200:25254,64201:25589,64202:25696,64203:25757,64204:25806,64205:25934,64206:26112,64207:26133,64208:26171,64209:26121,64210:26158,64211:26142,64212:26148,64213:26213,64214:26199,64215:26201,64216:64018,64217:26227,64218:26265,64219:26272,64220:26290,64221:26303,64222:26362,64223:26382,64224:63785,64225:26470,64226:26555,64227:26706,64228:26560,64229:26625,64230:26692,64231:26831,64232:64019,64233:26984,64234:64020,64235:27032,64236:27106,64237:27184,64238:27243,64239:27206,64240:27251,64241:27262,64242:27362,64243:27364,64244:27606,64245:27711,64246:27740,64247:27782,64248:27759,64249:27866,64250:27908,64251:28039,64252:28015,64320:28054,64321:28076,64322:28111,64323:28152,64324:28146,64325:28156,64326:28217,64327:28252,64328:28199,64329:28220,64330:28351,64331:28552,64332:28597,64333:28661,64334:28677,64335:28679,64336:28712,64337:28805,64338:28843,64339:28943,64340:28932,64341:29020,64342:28998,64343:28999,64344:64021,64345:29121,64346:29182,64347:29361,64348:29374,64349:29476,64350:64022,64351:29559,64352:29629,64353:29641,64354:29654,64355:29667,64356:29650,64357:29703,64358:29685,64359:29734,64360:29738,64361:29737,64362:29742,64363:29794,64364:29833,64365:29855,64366:29953,64367:30063,64368:30338,64369:30364,64370:30366,64371:30363,64372:30374,64373:64023,64374:30534,64375:21167,64376:30753,64377:30798,64378:30820,64379:30842,64380:31024,64381:64024,64382:64025,64384:64026,64385:31124,64386:64027,64387:31131,64388:31441,64389:31463,64390:64028,64391:31467,64392:31646,64393:64029,64394:32072,64395:32092,64396:32183,64397:32160,64398:32214,64399:32338,64400:32583,64401:32673,64402:64030,64403:33537,64404:33634,64405:33663,64406:33735,64407:33782,64408:33864,64409:33972,64410:34131,64411:34137,64412:34155,64413:64031,64414:34224,64415:64032,64416:64033,64417:34823,64418:35061,64419:35346,64420:35383,64421:35449,64422:35495,64423:35518,64424:35551,64425:64034,64426:35574,64427:35667,64428:35711,64429:36080,64430:36084,64431:36114,64432:36214,64433:64035,64434:36559,64435:64036,64436:64037,64437:36967,64438:37086,64439:64038,64440:37141,64441:37159,64442:37338,64443:37335,64444:37342,64445:37357,64446:37358,64447:37348,64448:37349,64449:37382,64450:37392,64451:37386,64452:37434,64453:37440,64454:37436,64455:37454,64456:37465,64457:37457,64458:37433,64459:37479,64460:37543,64461:37495,64462:37496,64463:37607,64464:37591,64465:37593,64466:37584,64467:64039,64468:37589,64469:37600,64470:37587,64471:37669,64472:37665,64473:37627,64474:64040,64475:37662,64476:37631,64477:37661,64478:37634,64479:37744,64480:37719,64481:37796,64482:37830,64483:37854,64484:37880,64485:37937,64486:37957,64487:37960,64488:38290,64489:63964,64490:64041,64491:38557,64492:38575,64493:38707,64494:38715,64495:38723,64496:38733,64497:38735,64498:38737,64499:38741,64500:38999,64501:39013,64502:64042,64503:64043,64504:39207,64505:64044,64506:39326,64507:39502,64508:39641,64576:39644,64577:39797,64578:39794,64579:39823,64580:39857,64581:39867,64582:39936,64583:40304,64584:40299,64585:64045,64586:40473,64587:40657};function $S(n,e){this.dv=new DataView(n),this.offset=0,this.littleEndian=e!==void 0?e:!0,this.encoder=new _7}$S.prototype={constructor:$S,getInt8:function(){var n=this.dv.getInt8(this.offset);return this.offset+=1,n},getInt8Array:function(n){for(var e=[],t=0;t<n;t++)e.push(this.getInt8());return e},getUint8:function(){var n=this.dv.getUint8(this.offset);return this.offset+=1,n},getUint8Array:function(n){for(var e=[],t=0;t<n;t++)e.push(this.getUint8());return e},getInt16:function(){var n=this.dv.getInt16(this.offset,this.littleEndian);return this.offset+=2,n},getInt16Array:function(n){for(var e=[],t=0;t<n;t++)e.push(this.getInt16());return e},getUint16:function(){var n=this.dv.getUint16(this.offset,this.littleEndian);return this.offset+=2,n},getUint16Array:function(n){for(var e=[],t=0;t<n;t++)e.push(this.getUint16());return e},getInt32:function(){var n=this.dv.getInt32(this.offset,this.littleEndian);return this.offset+=4,n},getInt32Array:function(n){for(var e=[],t=0;t<n;t++)e.push(this.getInt32());return e},getUint32:function(){var n=this.dv.getUint32(this.offset,this.littleEndian);return this.offset+=4,n},getUint32Array:function(n){for(var e=[],t=0;t<n;t++)e.push(this.getUint32());return e},getFloat32:function(){var n=this.dv.getFloat32(this.offset,this.littleEndian);return this.offset+=4,n},getFloat32Array:function(n){for(var e=[],t=0;t<n;t++)e.push(this.getFloat32());return e},getFloat64:function(){var n=this.dv.getFloat64(this.offset,this.littleEndian);return this.offset+=8,n},getFloat64Array:function(n){for(var e=[],t=0;t<n;t++)e.push(this.getFloat64());return e},getIndex:function(n,e){switch(n){case 1:return e===!0?this.getUint8():this.getInt8();case 2:return e===!0?this.getUint16():this.getInt16();case 4:return this.getInt32();default:throw"unknown number type "+n+" exception."}},getIndexArray:function(n,e,t){for(var i=[],r=0;r<e;r++)i.push(this.getIndex(n,t));return i},getChars:function(n){for(var e="";n>0;){var t=this.getUint8();if(n--,t===0)break;e+=String.fromCharCode(t)}for(;n>0;)this.getUint8(),n--;return e},getSjisStringsAsUnicode:function(n){for(var e=[];n>0;){var t=this.getUint8();if(n--,t===0)break;e.push(t)}for(;n>0;)this.getUint8(),n--;return this.encoder.s2u(new Uint8Array(e))},getUnicodeStrings:function(n){for(var e="";n>0;){var t=this.getUint16();if(n-=2,t===0)break;e+=String.fromCharCode(t)}for(;n>0;)this.getUint8(),n--;return e},getTextBuffer:function(){var n=this.getUint32();return this.getUnicodeStrings(n)}};function eM(){}eM.prototype={constructor:eM,leftToRightVector3:function(n){n[2]=-n[2]},leftToRightQuaternion:function(n){n[0]=-n[0],n[1]=-n[1]},leftToRightEuler:function(n){n[0]=-n[0],n[1]=-n[1]},leftToRightIndexOrder:function(n){var e=n[2];n[2]=n[0],n[0]=e},leftToRightVector3Range:function(n,e){var t=-e[2];e[2]=-n[2],n[2]=t},leftToRightEulerRange:function(n,e){var t=-e[0],i=-e[1];e[0]=-n[0],e[1]=-n[1],n[0]=t,n[1]=i}};var fQ=Object.defineProperty,hQ=(n,e,t)=>e in n?fQ(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,lt=(n,e,t)=>(hQ(n,typeof e!="symbol"?e+"":e,t),t);function dQ(n,e=1e-4){e=Math.max(e,Number.EPSILON);const t={},i=n.getIndex(),r=n.getAttribute("position"),s=i?i.count:r.count;let o=0;const a=Object.keys(n.attributes),l={},c={},h=[],d=["getX","getY","getZ","getW"];for(let S=0,_=a.length;S<_;S++){const g=a[S];l[g]=[];const x=n.morphAttributes[g];x&&(c[g]=new Array(x.length).fill(0).map(()=>[]))}const p=Math.log10(1/e),m=Math.pow(10,p);for(let S=0;S<s;S++){const _=i?i.getX(S):S;let g="";for(let x=0,A=a.length;x<A;x++){const E=a[x],T=n.getAttribute(E),C=T.itemSize;for(let R=0;R<C;R++)g+=`${~~(T[d[R]](_)*m)},`}if(g in t)h.push(t[g]);else{for(let x=0,A=a.length;x<A;x++){const E=a[x],T=n.getAttribute(E),C=n.morphAttributes[E],R=T.itemSize,I=l[E],P=c[E];for(let B=0;B<R;B++){const U=d[B];if(I.push(T[U](_)),C)for(let Y=0,ee=C.length;Y<ee;Y++)P[Y].push(C[Y][U](_))}}t[g]=o,h.push(o),o++}}const v=n.clone();for(let S=0,_=a.length;S<_;S++){const g=a[S],x=n.getAttribute(g),A=new x.array.constructor(l[g]),E=new Dt(A,x.itemSize,x.normalized);if(v.setAttribute(g,E),g in c)for(let T=0;T<c[g].length;T++){const C=n.morphAttributes[g][T],R=new C.array.constructor(c[g][T]),I=new Dt(R,C.itemSize,C.normalized);v.morphAttributes[g][T]=I}}return v.setIndex(h),v}function tM(n,e){if(e===nb)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),n;if(e===o2||e===y9){let t=n.getIndex();if(t===null){const o=[],a=n.getAttribute("position");if(a!==void 0){for(let l=0;l<a.count;l++)o.push(l);n.setIndex(o),t=n.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),n}const i=t.count-2,r=[];if(t)if(e===o2)for(let o=1;o<=i;o++)r.push(t.getX(0)),r.push(t.getX(o)),r.push(t.getX(o+1));else for(let o=0;o<i;o++)o%2===0?(r.push(t.getX(o)),r.push(t.getX(o+1)),r.push(t.getX(o+2))):(r.push(t.getX(o+2)),r.push(t.getX(o+1)),r.push(t.getX(o)));r.length/3!==i&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=n.clone();return s.setIndex(r),s.clearGroups(),s}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),n}const OR=parseInt(Uu.replace(/\D+/g,"")),x6={uniforms:{turbidity:{value:2},rayleigh:{value:1},mieCoefficient:{value:.005},mieDirectionalG:{value:.8},sunPosition:{value:new F},up:{value:new F(0,1,0)}},vertexShader:`
      uniform vec3 sunPosition;
      uniform float rayleigh;
      uniform float turbidity;
      uniform float mieCoefficient;
      uniform vec3 up;

      varying vec3 vWorldPosition;
      varying vec3 vSunDirection;
      varying float vSunfade;
      varying vec3 vBetaR;
      varying vec3 vBetaM;
      varying float vSunE;

      // constants for atmospheric scattering
      const float e = 2.71828182845904523536028747135266249775724709369995957;
      const float pi = 3.141592653589793238462643383279502884197169;

      // wavelength of used primaries, according to preetham
      const vec3 lambda = vec3( 680E-9, 550E-9, 450E-9 );
      // this pre-calcuation replaces older TotalRayleigh(vec3 lambda) function:
      // (8.0 * pow(pi, 3.0) * pow(pow(n, 2.0) - 1.0, 2.0) * (6.0 + 3.0 * pn)) / (3.0 * N * pow(lambda, vec3(4.0)) * (6.0 - 7.0 * pn))
      const vec3 totalRayleigh = vec3( 5.804542996261093E-6, 1.3562911419845635E-5, 3.0265902468824876E-5 );

      // mie stuff
      // K coefficient for the primaries
      const float v = 4.0;
      const vec3 K = vec3( 0.686, 0.678, 0.666 );
      // MieConst = pi * pow( ( 2.0 * pi ) / lambda, vec3( v - 2.0 ) ) * K
      const vec3 MieConst = vec3( 1.8399918514433978E14, 2.7798023919660528E14, 4.0790479543861094E14 );

      // earth shadow hack
      // cutoffAngle = pi / 1.95;
      const float cutoffAngle = 1.6110731556870734;
      const float steepness = 1.5;
      const float EE = 1000.0;

      float sunIntensity( float zenithAngleCos ) {
        zenithAngleCos = clamp( zenithAngleCos, -1.0, 1.0 );
        return EE * max( 0.0, 1.0 - pow( e, -( ( cutoffAngle - acos( zenithAngleCos ) ) / steepness ) ) );
      }

      vec3 totalMie( float T ) {
        float c = ( 0.2 * T ) * 10E-18;
        return 0.434 * c * MieConst;
      }

      void main() {

        vec4 worldPosition = modelMatrix * vec4( position, 1.0 );
        vWorldPosition = worldPosition.xyz;

        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        gl_Position.z = gl_Position.w; // set z to camera.far

        vSunDirection = normalize( sunPosition );

        vSunE = sunIntensity( dot( vSunDirection, up ) );

        vSunfade = 1.0 - clamp( 1.0 - exp( ( sunPosition.y / 450000.0 ) ), 0.0, 1.0 );

        float rayleighCoefficient = rayleigh - ( 1.0 * ( 1.0 - vSunfade ) );

      // extinction (absorbtion + out scattering)
      // rayleigh coefficients
        vBetaR = totalRayleigh * rayleighCoefficient;

      // mie coefficients
        vBetaM = totalMie( turbidity ) * mieCoefficient;

      }
    `,fragmentShader:`
      varying vec3 vWorldPosition;
      varying vec3 vSunDirection;
      varying float vSunfade;
      varying vec3 vBetaR;
      varying vec3 vBetaM;
      varying float vSunE;

      uniform float mieDirectionalG;
      uniform vec3 up;

      const vec3 cameraPos = vec3( 0.0, 0.0, 0.0 );

      // constants for atmospheric scattering
      const float pi = 3.141592653589793238462643383279502884197169;

      const float n = 1.0003; // refractive index of air
      const float N = 2.545E25; // number of molecules per unit volume for air at 288.15K and 1013mb (sea level -45 celsius)

      // optical length at zenith for molecules
      const float rayleighZenithLength = 8.4E3;
      const float mieZenithLength = 1.25E3;
      // 66 arc seconds -> degrees, and the cosine of that
      const float sunAngularDiameterCos = 0.999956676946448443553574619906976478926848692873900859324;

      // 3.0 / ( 16.0 * pi )
      const float THREE_OVER_SIXTEENPI = 0.05968310365946075;
      // 1.0 / ( 4.0 * pi )
      const float ONE_OVER_FOURPI = 0.07957747154594767;

      float rayleighPhase( float cosTheta ) {
        return THREE_OVER_SIXTEENPI * ( 1.0 + pow( cosTheta, 2.0 ) );
      }

      float hgPhase( float cosTheta, float g ) {
        float g2 = pow( g, 2.0 );
        float inverse = 1.0 / pow( 1.0 - 2.0 * g * cosTheta + g2, 1.5 );
        return ONE_OVER_FOURPI * ( ( 1.0 - g2 ) * inverse );
      }

      void main() {

        vec3 direction = normalize( vWorldPosition - cameraPos );

      // optical length
      // cutoff angle at 90 to avoid singularity in next formula.
        float zenithAngle = acos( max( 0.0, dot( up, direction ) ) );
        float inverse = 1.0 / ( cos( zenithAngle ) + 0.15 * pow( 93.885 - ( ( zenithAngle * 180.0 ) / pi ), -1.253 ) );
        float sR = rayleighZenithLength * inverse;
        float sM = mieZenithLength * inverse;

      // combined extinction factor
        vec3 Fex = exp( -( vBetaR * sR + vBetaM * sM ) );

      // in scattering
        float cosTheta = dot( direction, vSunDirection );

        float rPhase = rayleighPhase( cosTheta * 0.5 + 0.5 );
        vec3 betaRTheta = vBetaR * rPhase;

        float mPhase = hgPhase( cosTheta, mieDirectionalG );
        vec3 betaMTheta = vBetaM * mPhase;

        vec3 Lin = pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * ( 1.0 - Fex ), vec3( 1.5 ) );
        Lin *= mix( vec3( 1.0 ), pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * Fex, vec3( 1.0 / 2.0 ) ), clamp( pow( 1.0 - dot( up, vSunDirection ), 5.0 ), 0.0, 1.0 ) );

      // nightsky
        float theta = acos( direction.y ); // elevation --> y-axis, [-pi/2, pi/2]
        float phi = atan( direction.z, direction.x ); // azimuth --> x-axis [-pi/2, pi/2]
        vec2 uv = vec2( phi, theta ) / vec2( 2.0 * pi, pi ) + vec2( 0.5, 0.0 );
        vec3 L0 = vec3( 0.1 ) * Fex;

      // composition + solar disc
        float sundisk = smoothstep( sunAngularDiameterCos, sunAngularDiameterCos + 0.00002, cosTheta );
        L0 += ( vSunE * 19000.0 * Fex ) * sundisk;

        vec3 texColor = ( Lin + L0 ) * 0.04 + vec3( 0.0, 0.0003, 0.00075 );

        vec3 retColor = pow( texColor, vec3( 1.0 / ( 1.2 + ( 1.2 * vSunfade ) ) ) );

        gl_FragColor = vec4( retColor, 1.0 );

      #include <tonemapping_fragment>
      #include <${OR>=154?"colorspace_fragment":"encodings_fragment"}>

      }
    `};x6.fragmentShader,x6.vertexShader,x6.uniforms;const Z0=new Dl,nM=new Zs,pQ=Math.cos(70*(Math.PI/180)),iM=(n,e)=>(n%e+e)%e;let mQ=class extends Ds{constructor(e,t){super(),lt(this,"object"),lt(this,"domElement"),lt(this,"enabled",!0),lt(this,"target",new F),lt(this,"minDistance",0),lt(this,"maxDistance",1/0),lt(this,"minZoom",0),lt(this,"maxZoom",1/0),lt(this,"minPolarAngle",0),lt(this,"maxPolarAngle",Math.PI),lt(this,"minAzimuthAngle",-1/0),lt(this,"maxAzimuthAngle",1/0),lt(this,"enableDamping",!1),lt(this,"dampingFactor",.05),lt(this,"enableZoom",!0),lt(this,"zoomSpeed",1),lt(this,"enableRotate",!0),lt(this,"rotateSpeed",1),lt(this,"enablePan",!0),lt(this,"panSpeed",1),lt(this,"screenSpacePanning",!0),lt(this,"keyPanSpeed",7),lt(this,"zoomToCursor",!1),lt(this,"autoRotate",!1),lt(this,"autoRotateSpeed",2),lt(this,"reverseOrbit",!1),lt(this,"reverseHorizontalOrbit",!1),lt(this,"reverseVerticalOrbit",!1),lt(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),lt(this,"mouseButtons",{LEFT:Ka.ROTATE,MIDDLE:Ka.DOLLY,RIGHT:Ka.PAN}),lt(this,"touches",{ONE:Ya.ROTATE,TWO:Ya.DOLLY_PAN}),lt(this,"target0"),lt(this,"position0"),lt(this,"zoom0"),lt(this,"_domElementKeyEvents",null),lt(this,"getPolarAngle"),lt(this,"getAzimuthalAngle"),lt(this,"setPolarAngle"),lt(this,"setAzimuthalAngle"),lt(this,"getDistance"),lt(this,"listenToKeyEvents"),lt(this,"stopListenToKeyEvents"),lt(this,"saveState"),lt(this,"reset"),lt(this,"update"),lt(this,"connect"),lt(this,"dispose"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>h.phi,this.getAzimuthalAngle=()=>h.theta,this.setPolarAngle=K=>{let ue=iM(K,2*Math.PI),Se=h.phi;Se<0&&(Se+=2*Math.PI),ue<0&&(ue+=2*Math.PI);let z=Math.abs(ue-Se);2*Math.PI-z<z&&(ue<Se?ue+=2*Math.PI:Se+=2*Math.PI),d.phi=ue-Se,i.update()},this.setAzimuthalAngle=K=>{let ue=iM(K,2*Math.PI),Se=h.theta;Se<0&&(Se+=2*Math.PI),ue<0&&(ue+=2*Math.PI);let z=Math.abs(ue-Se);2*Math.PI-z<z&&(ue<Se?ue+=2*Math.PI:Se+=2*Math.PI),d.theta=ue-Se,i.update()},this.getDistance=()=>i.object.position.distanceTo(i.target),this.listenToKeyEvents=K=>{K.addEventListener("keydown",be),this._domElementKeyEvents=K},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",be),this._domElementKeyEvents=null},this.saveState=()=>{i.target0.copy(i.target),i.position0.copy(i.object.position),i.zoom0=i.object.zoom},this.reset=()=>{i.target.copy(i.target0),i.object.position.copy(i.position0),i.object.zoom=i.zoom0,i.object.updateProjectionMatrix(),i.dispatchEvent(r),i.update(),l=a.NONE},this.update=(()=>{const K=new F,ue=new F(0,1,0),Se=new ti().setFromUnitVectors(e.up,ue),z=Se.clone().invert(),Ae=new F,we=new ti,Ne=2*Math.PI;return function(){const _e=i.object.position;Se.setFromUnitVectors(e.up,ue),z.copy(Se).invert(),K.copy(_e).sub(i.target),K.applyQuaternion(Se),h.setFromVector3(K),i.autoRotate&&l===a.NONE&&V(Y()),i.enableDamping?(h.theta+=d.theta*i.dampingFactor,h.phi+=d.phi*i.dampingFactor):(h.theta+=d.theta,h.phi+=d.phi);let je=i.minAzimuthAngle,tt=i.maxAzimuthAngle;isFinite(je)&&isFinite(tt)&&(je<-Math.PI?je+=Ne:je>Math.PI&&(je-=Ne),tt<-Math.PI?tt+=Ne:tt>Math.PI&&(tt-=Ne),je<=tt?h.theta=Math.max(je,Math.min(tt,h.theta)):h.theta=h.theta>(je+tt)/2?Math.max(je,h.theta):Math.min(tt,h.theta)),h.phi=Math.max(i.minPolarAngle,Math.min(i.maxPolarAngle,h.phi)),h.makeSafe(),i.enableDamping===!0?i.target.addScaledVector(m,i.dampingFactor):i.target.add(m),i.zoomToCursor&&P||i.object.isOrthographicCamera?h.radius=X(h.radius):h.radius=X(h.radius*p),K.setFromSpherical(h),K.applyQuaternion(z),_e.copy(i.target).add(K),i.object.lookAt(i.target),i.enableDamping===!0?(d.theta*=1-i.dampingFactor,d.phi*=1-i.dampingFactor,m.multiplyScalar(1-i.dampingFactor)):(d.set(0,0,0),m.set(0,0,0));let cn=!1;if(i.zoomToCursor&&P){let Bt=null;if(i.object instanceof tn&&i.object.isPerspectiveCamera){const kn=K.length();Bt=X(kn*p);const vn=kn-Bt;i.object.position.addScaledVector(R,vn),i.object.updateMatrixWorld()}else if(i.object.isOrthographicCamera){const kn=new F(I.x,I.y,0);kn.unproject(i.object),i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/p)),i.object.updateProjectionMatrix(),cn=!0;const vn=new F(I.x,I.y,0);vn.unproject(i.object),i.object.position.sub(vn).add(kn),i.object.updateMatrixWorld(),Bt=K.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),i.zoomToCursor=!1;Bt!==null&&(i.screenSpacePanning?i.target.set(0,0,-1).transformDirection(i.object.matrix).multiplyScalar(Bt).add(i.object.position):(Z0.origin.copy(i.object.position),Z0.direction.set(0,0,-1).transformDirection(i.object.matrix),Math.abs(i.object.up.dot(Z0.direction))<pQ?e.lookAt(i.target):(nM.setFromNormalAndCoplanarPoint(i.object.up,i.target),Z0.intersectPlane(nM,i.target))))}else i.object instanceof Pr&&i.object.isOrthographicCamera&&(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/p)),i.object.updateProjectionMatrix(),cn=!0);return p=1,P=!1,cn||Ae.distanceToSquared(i.object.position)>c||8*(1-we.dot(i.object.quaternion))>c?(i.dispatchEvent(r),Ae.copy(i.object.position),we.copy(i.object.quaternion),cn=!1,!0):!1}})(),this.connect=K=>{K===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),i.domElement=K,i.domElement.style.touchAction="none",i.domElement.addEventListener("contextmenu",Oe),i.domElement.addEventListener("pointerdown",xt),i.domElement.addEventListener("pointercancel",L),i.domElement.addEventListener("wheel",xe)},this.dispose=()=>{var K,ue,Se,z,Ae,we;(K=i.domElement)==null||K.removeEventListener("contextmenu",Oe),(ue=i.domElement)==null||ue.removeEventListener("pointerdown",xt),(Se=i.domElement)==null||Se.removeEventListener("pointercancel",L),(z=i.domElement)==null||z.removeEventListener("wheel",xe),(Ae=i.domElement)==null||Ae.removeEventListener("pointermove",Ht),(we=i.domElement)==null||we.removeEventListener("pointerup",G),i._domElementKeyEvents!==null&&i._domElementKeyEvents.removeEventListener("keydown",be)};const i=this,r={type:"change"},s={type:"start"},o={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=a.NONE;const c=1e-6,h=new A8,d=new A8;let p=1;const m=new F,v=new de,S=new de,_=new de,g=new de,x=new de,A=new de,E=new de,T=new de,C=new de,R=new F,I=new de;let P=!1;const B=[],U={};function Y(){return 2*Math.PI/60/60*i.autoRotateSpeed}function ee(){return Math.pow(.95,i.zoomSpeed)}function V(K){i.reverseOrbit||i.reverseHorizontalOrbit?d.theta+=K:d.theta-=K}function Q(K){i.reverseOrbit||i.reverseVerticalOrbit?d.phi+=K:d.phi-=K}const ne=(()=>{const K=new F;return function(Se,z){K.setFromMatrixColumn(z,0),K.multiplyScalar(-Se),m.add(K)}})(),te=(()=>{const K=new F;return function(Se,z){i.screenSpacePanning===!0?K.setFromMatrixColumn(z,1):(K.setFromMatrixColumn(z,0),K.crossVectors(i.object.up,K)),K.multiplyScalar(Se),m.add(K)}})(),D=(()=>{const K=new F;return function(Se,z){const Ae=i.domElement;if(Ae&&i.object instanceof tn&&i.object.isPerspectiveCamera){const we=i.object.position;K.copy(we).sub(i.target);let Ne=K.length();Ne*=Math.tan(i.object.fov/2*Math.PI/180),ne(2*Se*Ne/Ae.clientHeight,i.object.matrix),te(2*z*Ne/Ae.clientHeight,i.object.matrix)}else Ae&&i.object instanceof Pr&&i.object.isOrthographicCamera?(ne(Se*(i.object.right-i.object.left)/i.object.zoom/Ae.clientWidth,i.object.matrix),te(z*(i.object.top-i.object.bottom)/i.object.zoom/Ae.clientHeight,i.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),i.enablePan=!1)}})();function W(K){i.object instanceof tn&&i.object.isPerspectiveCamera||i.object instanceof Pr&&i.object.isOrthographicCamera?p/=K:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function j(K){i.object instanceof tn&&i.object.isPerspectiveCamera||i.object instanceof Pr&&i.object.isOrthographicCamera?p*=K:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function N(K){if(!i.zoomToCursor||!i.domElement)return;P=!0;const ue=i.domElement.getBoundingClientRect(),Se=K.clientX-ue.left,z=K.clientY-ue.top,Ae=ue.width,we=ue.height;I.x=Se/Ae*2-1,I.y=-(z/we)*2+1,R.set(I.x,I.y,1).unproject(i.object).sub(i.object.position).normalize()}function X(K){return Math.max(i.minDistance,Math.min(i.maxDistance,K))}function ce(K){v.set(K.clientX,K.clientY)}function me(K){N(K),E.set(K.clientX,K.clientY)}function ve(K){g.set(K.clientX,K.clientY)}function Pe(K){S.set(K.clientX,K.clientY),_.subVectors(S,v).multiplyScalar(i.rotateSpeed);const ue=i.domElement;ue&&(V(2*Math.PI*_.x/ue.clientHeight),Q(2*Math.PI*_.y/ue.clientHeight)),v.copy(S),i.update()}function Le(K){T.set(K.clientX,K.clientY),C.subVectors(T,E),C.y>0?W(ee()):C.y<0&&j(ee()),E.copy(T),i.update()}function Xe(K){x.set(K.clientX,K.clientY),A.subVectors(x,g).multiplyScalar(i.panSpeed),D(A.x,A.y),g.copy(x),i.update()}function pt(K){N(K),K.deltaY<0?j(ee()):K.deltaY>0&&W(ee()),i.update()}function rt(K){let ue=!1;switch(K.code){case i.keys.UP:D(0,i.keyPanSpeed),ue=!0;break;case i.keys.BOTTOM:D(0,-i.keyPanSpeed),ue=!0;break;case i.keys.LEFT:D(i.keyPanSpeed,0),ue=!0;break;case i.keys.RIGHT:D(-i.keyPanSpeed,0),ue=!0;break}ue&&(K.preventDefault(),i.update())}function Me(){if(B.length==1)v.set(B[0].pageX,B[0].pageY);else{const K=.5*(B[0].pageX+B[1].pageX),ue=.5*(B[0].pageY+B[1].pageY);v.set(K,ue)}}function q(){if(B.length==1)g.set(B[0].pageX,B[0].pageY);else{const K=.5*(B[0].pageX+B[1].pageX),ue=.5*(B[0].pageY+B[1].pageY);g.set(K,ue)}}function ge(){const K=B[0].pageX-B[1].pageX,ue=B[0].pageY-B[1].pageY,Se=Math.sqrt(K*K+ue*ue);E.set(0,Se)}function pe(){i.enableZoom&&ge(),i.enablePan&&q()}function Ee(){i.enableZoom&&ge(),i.enableRotate&&Me()}function ye(K){if(B.length==1)S.set(K.pageX,K.pageY);else{const Se=Rt(K),z=.5*(K.pageX+Se.x),Ae=.5*(K.pageY+Se.y);S.set(z,Ae)}_.subVectors(S,v).multiplyScalar(i.rotateSpeed);const ue=i.domElement;ue&&(V(2*Math.PI*_.x/ue.clientHeight),Q(2*Math.PI*_.y/ue.clientHeight)),v.copy(S)}function We(K){if(B.length==1)x.set(K.pageX,K.pageY);else{const ue=Rt(K),Se=.5*(K.pageX+ue.x),z=.5*(K.pageY+ue.y);x.set(Se,z)}A.subVectors(x,g).multiplyScalar(i.panSpeed),D(A.x,A.y),g.copy(x)}function He(K){const ue=Rt(K),Se=K.pageX-ue.x,z=K.pageY-ue.y,Ae=Math.sqrt(Se*Se+z*z);T.set(0,Ae),C.set(0,Math.pow(T.y/E.y,i.zoomSpeed)),W(C.y),E.copy(T)}function Ve(K){i.enableZoom&&He(K),i.enablePan&&We(K)}function et(K){i.enableZoom&&He(K),i.enableRotate&&ye(K)}function xt(K){var ue,Se,z;i.enabled!==!1&&(B.length===0&&((ue=i.domElement)==null||ue.setPointerCapture(K.pointerId),(Se=i.domElement)==null||Se.addEventListener("pointermove",Ht),(z=i.domElement)==null||z.addEventListener("pointerup",G)),ot(K),K.pointerType==="touch"?Ye(K):oe(K))}function Ht(K){i.enabled!==!1&&(K.pointerType==="touch"?Ie(K):Te(K))}function G(K){var ue,Se,z;Ct(K),B.length===0&&((ue=i.domElement)==null||ue.releasePointerCapture(K.pointerId),(Se=i.domElement)==null||Se.removeEventListener("pointermove",Ht),(z=i.domElement)==null||z.removeEventListener("pointerup",G)),i.dispatchEvent(o),l=a.NONE}function L(K){Ct(K)}function oe(K){let ue;switch(K.button){case 0:ue=i.mouseButtons.LEFT;break;case 1:ue=i.mouseButtons.MIDDLE;break;case 2:ue=i.mouseButtons.RIGHT;break;default:ue=-1}switch(ue){case Ka.DOLLY:if(i.enableZoom===!1)return;me(K),l=a.DOLLY;break;case Ka.ROTATE:if(K.ctrlKey||K.metaKey||K.shiftKey){if(i.enablePan===!1)return;ve(K),l=a.PAN}else{if(i.enableRotate===!1)return;ce(K),l=a.ROTATE}break;case Ka.PAN:if(K.ctrlKey||K.metaKey||K.shiftKey){if(i.enableRotate===!1)return;ce(K),l=a.ROTATE}else{if(i.enablePan===!1)return;ve(K),l=a.PAN}break;default:l=a.NONE}l!==a.NONE&&i.dispatchEvent(s)}function Te(K){if(i.enabled!==!1)switch(l){case a.ROTATE:if(i.enableRotate===!1)return;Pe(K);break;case a.DOLLY:if(i.enableZoom===!1)return;Le(K);break;case a.PAN:if(i.enablePan===!1)return;Xe(K);break}}function xe(K){i.enabled===!1||i.enableZoom===!1||l!==a.NONE&&l!==a.ROTATE||(K.preventDefault(),i.dispatchEvent(s),pt(K),i.dispatchEvent(o))}function be(K){i.enabled===!1||i.enablePan===!1||rt(K)}function Ye(K){switch(Re(K),B.length){case 1:switch(i.touches.ONE){case Ya.ROTATE:if(i.enableRotate===!1)return;Me(),l=a.TOUCH_ROTATE;break;case Ya.PAN:if(i.enablePan===!1)return;q(),l=a.TOUCH_PAN;break;default:l=a.NONE}break;case 2:switch(i.touches.TWO){case Ya.DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;pe(),l=a.TOUCH_DOLLY_PAN;break;case Ya.DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;Ee(),l=a.TOUCH_DOLLY_ROTATE;break;default:l=a.NONE}break;default:l=a.NONE}l!==a.NONE&&i.dispatchEvent(s)}function Ie(K){switch(Re(K),l){case a.TOUCH_ROTATE:if(i.enableRotate===!1)return;ye(K),i.update();break;case a.TOUCH_PAN:if(i.enablePan===!1)return;We(K),i.update();break;case a.TOUCH_DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;Ve(K),i.update();break;case a.TOUCH_DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;et(K),i.update();break;default:l=a.NONE}}function Oe(K){i.enabled!==!1&&K.preventDefault()}function ot(K){B.push(K)}function Ct(K){delete U[K.pointerId];for(let ue=0;ue<B.length;ue++)if(B[ue].pointerId==K.pointerId){B.splice(ue,1);return}}function Re(K){let ue=U[K.pointerId];ue===void 0&&(ue=new de,U[K.pointerId]=ue),ue.set(K.pageX,K.pageY)}function Rt(K){const ue=K.pointerId===B[0].pointerId?B[1]:B[0];return U[ue.pointerId]}t!==void 0&&this.connect(t),this.update()}};class A7 extends ai{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new _Q(t)}),this.register(function(t){return new bQ(t)}),this.register(function(t){return new PQ(t)}),this.register(function(t){return new RQ(t)}),this.register(function(t){return new SQ(t)}),this.register(function(t){return new MQ(t)}),this.register(function(t){return new EQ(t)}),this.register(function(t){return new wQ(t)}),this.register(function(t){return new xQ(t)}),this.register(function(t){return new TQ(t)}),this.register(function(t){return new AQ(t)}),this.register(function(t){return new CQ(t)}),this.register(function(t){return new vQ(t)}),this.register(function(t){return new BQ(t)}),this.register(function(t){return new IQ(t)})}load(e,t,i,r){const s=this;let o;this.resourcePath!==""?o=this.resourcePath:this.path!==""?o=this.path:o=Ps.extractUrlBase(e),this.manager.itemStart(e);const a=function(c){r?r(c):console.error(c),s.manager.itemError(e),s.manager.itemEnd(e)},l=new Wi(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(c){try{s.parse(c,o,function(h){t(h),s.manager.itemEnd(e)},a)}catch(h){a(h)}},i,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,i,r){let s;const o={},a={};if(typeof e=="string")s=JSON.parse(e);else if(e instanceof ArrayBuffer)if(Ps.decodeText(new Uint8Array(e.slice(0,4)))===UR){try{o[Pt.KHR_BINARY_GLTF]=new LQ(e)}catch(h){r&&r(h);return}s=JSON.parse(o[Pt.KHR_BINARY_GLTF].content)}else s=JSON.parse(Ps.decodeText(new Uint8Array(e)));else s=e;if(s.asset===void 0||s.asset.version[0]<2){r&&r(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const l=new qQ(s,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(let c=0;c<this.pluginCallbacks.length;c++){const h=this.pluginCallbacks[c](l);a[h.name]=h,o[h.name]=!0}if(s.extensionsUsed)for(let c=0;c<s.extensionsUsed.length;++c){const h=s.extensionsUsed[c],d=s.extensionsRequired||[];switch(h){case Pt.KHR_MATERIALS_UNLIT:o[h]=new yQ;break;case Pt.KHR_DRACO_MESH_COMPRESSION:o[h]=new DQ(s,this.dracoLoader);break;case Pt.KHR_TEXTURE_TRANSFORM:o[h]=new FQ;break;case Pt.KHR_MESH_QUANTIZATION:o[h]=new NQ;break;default:d.indexOf(h)>=0&&a[h]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+h+'".')}}l.setExtensions(o),l.setPlugins(a),l.parse(i,r)}parseAsync(e,t){const i=this;return new Promise(function(r,s){i.parse(e,t,r,s)})}}function gQ(){let n={};return{get:function(e){return n[e]},add:function(e,t){n[e]=t},remove:function(e){delete n[e]},removeAll:function(){n={}}}}const Pt={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class vQ{constructor(e){this.parser=e,this.name=Pt.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let i=0,r=t.length;i<r;i++){const s=t[i];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const t=this.parser,i="light:"+e;let r=t.cache.get(i);if(r)return r;const s=t.json,l=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let c;const h=new ze(16777215);l.color!==void 0&&h.fromArray(l.color);const d=l.range!==void 0?l.range:0;switch(l.type){case"directional":c=new J9(h),c.target.position.set(0,0,-1),c.add(c.target);break;case"point":c=new X9(h),c.distance=d;break;case"spot":c=new q9(h),c.distance=d,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,c.angle=l.spot.outerConeAngle,c.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,c.target.position.set(0,0,-1),c.add(c.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return c.position.set(0,0,0),c.decay=2,Go(c,l),l.intensity!==void 0&&(c.intensity=l.intensity),c.name=t.createUniqueName(l.name||"light_"+e),r=Promise.resolve(c),t.cache.add(i,r),r}getDependency(e,t){if(e==="light")return this._loadLight(t)}createNodeAttachment(e){const t=this,i=this.parser,s=i.json.nodes[e],a=(s.extensions&&s.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(l){return i._getNodeRef(t.cache,a,l)})}}class yQ{constructor(){this.name=Pt.KHR_MATERIALS_UNLIT}getMaterialType(){return tr}extendParams(e,t,i){const r=[];e.color=new ze(1,1,1),e.opacity=1;const s=t.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const o=s.baseColorFactor;e.color.fromArray(o),e.opacity=o[3]}s.baseColorTexture!==void 0&&r.push(i.assignTexture(e,"map",s.baseColorTexture,3001))}return Promise.all(r)}}class xQ{constructor(e){this.parser=e,this.name=Pt.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name].emissiveStrength;return s!==void 0&&(t.emissiveIntensity=s),Promise.resolve()}}class _Q{constructor(e){this.parser=e,this.name=Pt.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Fs}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];if(o.clearcoatFactor!==void 0&&(t.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&s.push(i.assignTexture(t,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&s.push(i.assignTexture(t,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(s.push(i.assignTexture(t,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const a=o.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new de(a,a)}return Promise.all(s)}}class AQ{constructor(e){this.parser=e,this.name=Pt.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Fs}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return o.iridescenceFactor!==void 0&&(t.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&s.push(i.assignTexture(t,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(t.iridescenceIOR=o.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&s.push(i.assignTexture(t,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(s)}}class SQ{constructor(e){this.parser=e,this.name=Pt.KHR_MATERIALS_SHEEN}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Fs}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[];t.sheenColor=new ze(0,0,0),t.sheenRoughness=0,t.sheen=1;const o=r.extensions[this.name];return o.sheenColorFactor!==void 0&&t.sheenColor.fromArray(o.sheenColorFactor),o.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&s.push(i.assignTexture(t,"sheenColorMap",o.sheenColorTexture,3001)),o.sheenRoughnessTexture!==void 0&&s.push(i.assignTexture(t,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(s)}}class MQ{constructor(e){this.parser=e,this.name=Pt.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Fs}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return o.transmissionFactor!==void 0&&(t.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&s.push(i.assignTexture(t,"transmissionMap",o.transmissionTexture)),Promise.all(s)}}class EQ{constructor(e){this.parser=e,this.name=Pt.KHR_MATERIALS_VOLUME}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Fs}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];t.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&s.push(i.assignTexture(t,"thicknessMap",o.thicknessTexture)),t.attenuationDistance=o.attenuationDistance||1/0;const a=o.attenuationColor||[1,1,1];return t.attenuationColor=new ze(a[0],a[1],a[2]),Promise.all(s)}}class wQ{constructor(e){this.parser=e,this.name=Pt.KHR_MATERIALS_IOR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Fs}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name];return t.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class TQ{constructor(e){this.parser=e,this.name=Pt.KHR_MATERIALS_SPECULAR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Fs}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];t.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&s.push(i.assignTexture(t,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return t.specularColor=new ze(a[0],a[1],a[2]),o.specularColorTexture!==void 0&&s.push(i.assignTexture(t,"specularColorMap",o.specularColorTexture,3001)),Promise.all(s)}}class CQ{constructor(e){this.parser=e,this.name=Pt.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Fs}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return o.anisotropyStrength!==void 0&&(t.anisotropy=o.anisotropyStrength),o.anisotropyRotation!==void 0&&(t.anisotropyRotation=o.anisotropyRotation),o.anisotropyTexture!==void 0&&s.push(i.assignTexture(t,"anisotropyMap",o.anisotropyTexture)),Promise.all(s)}}class bQ{constructor(e){this.parser=e,this.name=Pt.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,i=t.json,r=i.textures[e];if(!r.extensions||!r.extensions[this.name])return null;const s=r.extensions[this.name],o=t.options.ktx2Loader;if(!o){if(i.extensionsRequired&&i.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,s.source,o)}}class PQ{constructor(e){this.parser=e,this.name=Pt.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,i=this.parser,r=i.json,s=r.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=r.images[o.source];let l=i.textureLoader;if(a.uri){const c=i.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return i.loadTextureImage(e,o.source,l);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class RQ{constructor(e){this.parser=e,this.name=Pt.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const t=this.name,i=this.parser,r=i.json,s=r.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=r.images[o.source];let l=i.textureLoader;if(a.uri){const c=i.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return i.loadTextureImage(e,o.source,l);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class BQ{constructor(e){this.name=Pt.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,i=t.bufferViews[e];if(i.extensions&&i.extensions[this.name]){const r=i.extensions[this.name],s=this.parser.getDependency("buffer",r.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(a){const l=r.byteOffset||0,c=r.byteLength||0,h=r.count,d=r.byteStride,p=new Uint8Array(a,l,c);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(h,d,p,r.mode,r.filter).then(function(m){return m.buffer}):o.ready.then(function(){const m=new ArrayBuffer(h*d);return o.decodeGltfBuffer(new Uint8Array(m),h,d,p,r.mode,r.filter),m})})}else return null}}class IQ{constructor(e){this.name=Pt.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,i=t.nodes[e];if(!i.extensions||!i.extensions[this.name]||i.mesh===void 0)return null;const r=t.meshes[i.mesh];for(const c of r.primitives)if(c.mode!==_r.TRIANGLES&&c.mode!==_r.TRIANGLE_STRIP&&c.mode!==_r.TRIANGLE_FAN&&c.mode!==void 0)return null;const o=i.extensions[this.name].attributes,a=[],l={};for(const c in o)a.push(this.parser.getDependency("accessor",o[c]).then(h=>(l[c]=h,l[c])));return a.length<1?null:(a.push(this.parser.createNodeMesh(e)),Promise.all(a).then(c=>{const h=c.pop(),d=h.isGroup?h.children:[h],p=c[0].count,m=[];for(const v of d){const S=new ct,_=new F,g=new ti,x=new F(1,1,1),A=new I9(v.geometry,v.material,p);for(let E=0;E<p;E++)l.TRANSLATION&&_.fromBufferAttribute(l.TRANSLATION,E),l.ROTATION&&g.fromBufferAttribute(l.ROTATION,E),l.SCALE&&x.fromBufferAttribute(l.SCALE,E),A.setMatrixAt(E,S.compose(_,g,x));for(const E in l)E!=="TRANSLATION"&&E!=="ROTATION"&&E!=="SCALE"&&v.geometry.setAttribute(E,l[E]);Lt.prototype.copy.call(A,v),this.parser.assignFinalMaterial(A),m.push(A)}return h.isGroup?(h.clear(),h.add(...m),h):m[0]}))}}const UR="glTF",Uf=12,rM={JSON:1313821514,BIN:5130562};class LQ{constructor(e){this.name=Pt.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,Uf);if(this.header={magic:Ps.decodeText(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==UR)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const i=this.header.length-Uf,r=new DataView(e,Uf);let s=0;for(;s<i;){const o=r.getUint32(s,!0);s+=4;const a=r.getUint32(s,!0);if(s+=4,a===rM.JSON){const l=new Uint8Array(e,Uf+s,o);this.content=Ps.decodeText(l)}else if(a===rM.BIN){const l=Uf+s;this.body=e.slice(l,l+o)}s+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class DQ{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Pt.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const i=this.json,r=this.dracoLoader,s=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},l={},c={};for(const h in o){const d=k8[h]||h.toLowerCase();a[d]=o[h]}for(const h in e.attributes){const d=k8[h]||h.toLowerCase();if(o[h]!==void 0){const p=i.accessors[e.attributes[h]],m=fu[p.componentType];c[d]=m.name,l[d]=p.normalized===!0}}return t.getDependency("bufferView",s).then(function(h){return new Promise(function(d){r.decodeDracoFile(h,function(p){for(const m in p.attributes){const v=p.attributes[m],S=l[m];S!==void 0&&(v.normalized=S)}d(p)},a,c)})})}}class FQ{constructor(){this.name=Pt.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(t.texCoord===void 0||t.texCoord===e.channel)&&t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.texCoord!==void 0&&(e.channel=t.texCoord),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class NQ{constructor(){this.name=Pt.KHR_MESH_QUANTIZATION}}class kR extends Gu{constructor(e,t,i,r){super(e,t,i,r)}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r*3+r;for(let o=0;o!==r;o++)t[o]=i[s+o];return t}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=a*2,c=a*3,h=r-t,d=(i-t)/h,p=d*d,m=p*d,v=e*c,S=v-c,_=-2*m+3*p,g=m-p,x=1-_,A=g-p+d;for(let E=0;E!==a;E++){const T=o[S+E+a],C=o[S+E+l]*h,R=o[v+E+a],I=o[v+E]*h;s[E]=x*T+A*C+_*R+g*I}return s}}const OQ=new ti;class UQ extends kR{interpolate_(e,t,i,r){const s=super.interpolate_(e,t,i,r);return OQ.fromArray(s).normalize().toArray(s),s}}const _r={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},fu={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},sM={9728:Mn,9729:hn,9984:Vh,9985:Z2,9986:ou,9987:Bs},oM={33071:ri,33648:Au,10497:pa},_6={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},k8={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...OR>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},No={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},kQ={CUBICSPLINE:void 0,LINEAR:wl,STEP:Mu},A6={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function HQ(n){return n.DefaultMaterial===void 0&&(n.DefaultMaterial=new Bd({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:Rs})),n.DefaultMaterial}function Va(n,e,t){for(const i in t.extensions)n[i]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[i]=t.extensions[i])}function Go(n,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(n.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function zQ(n,e,t){let i=!1,r=!1,s=!1;for(let c=0,h=e.length;c<h;c++){const d=e[c];if(d.POSITION!==void 0&&(i=!0),d.NORMAL!==void 0&&(r=!0),d.COLOR_0!==void 0&&(s=!0),i&&r&&s)break}if(!i&&!r&&!s)return Promise.resolve(n);const o=[],a=[],l=[];for(let c=0,h=e.length;c<h;c++){const d=e[c];if(i){const p=d.POSITION!==void 0?t.getDependency("accessor",d.POSITION):n.attributes.position;o.push(p)}if(r){const p=d.NORMAL!==void 0?t.getDependency("accessor",d.NORMAL):n.attributes.normal;a.push(p)}if(s){const p=d.COLOR_0!==void 0?t.getDependency("accessor",d.COLOR_0):n.attributes.color;l.push(p)}}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(c){const h=c[0],d=c[1],p=c[2];return i&&(n.morphAttributes.position=h),r&&(n.morphAttributes.normal=d),s&&(n.morphAttributes.color=p),n.morphTargetsRelative=!0,n})}function GQ(n,e){if(n.updateMorphTargets(),e.weights!==void 0)for(let t=0,i=e.weights.length;t<i;t++)n.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(n.morphTargetInfluences.length===t.length){n.morphTargetDictionary={};for(let i=0,r=t.length;i<r;i++)n.morphTargetDictionary[t[i]]=i}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function VQ(n){let e;const t=n.extensions&&n.extensions[Pt.KHR_DRACO_MESH_COMPRESSION];if(t?e="draco:"+t.bufferView+":"+t.indices+":"+S6(t.attributes):e=n.indices+":"+S6(n.attributes)+":"+n.mode,n.targets!==void 0)for(let i=0,r=n.targets.length;i<r;i++)e+=":"+S6(n.targets[i]);return e}function S6(n){let e="";const t=Object.keys(n).sort();for(let i=0,r=t.length;i<r;i++)e+=t[i]+":"+n[t[i]]+";";return e}function H8(n){switch(n){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function WQ(n){return n.search(/\.jpe?g($|\?)/i)>0||n.search(/^data\:image\/jpeg/)===0?"image/jpeg":n.search(/\.webp($|\?)/i)>0||n.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const jQ=new ct;class qQ{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new gQ,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let i=!1,r=!1,s=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(i=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,r=navigator.userAgent.indexOf("Firefox")>-1,s=r?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||i||r&&s<98?this.textureLoader=new rP(this.options.manager):this.textureLoader=new hP(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new Wi(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const i=this,r=this.json,s=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([i.getDependencies("scene"),i.getDependencies("animation"),i.getDependencies("camera")])}).then(function(o){const a={scene:o[0][r.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:r.asset,parser:i,userData:{}};Va(s,a,r),Go(a,r),Promise.all(i._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){e(a)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],i=this.json.meshes||[];for(let r=0,s=t.length;r<s;r++){const o=t[r].joints;for(let a=0,l=o.length;a<l;a++)e[o[a]].isBone=!0}for(let r=0,s=e.length;r<s;r++){const o=e[r];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(i[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,i){if(e.refs[t]<=1)return i;const r=i.clone(),s=(o,a)=>{const l=this.associations.get(o);l!=null&&this.associations.set(a,l);for(const[c,h]of o.children.entries())s(h,a.children[c])};return s(i,r),r.name+="_instance_"+e.uses[t]++,r}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let i=0;i<t.length;i++){const r=e(t[i]);if(r)return r}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const i=[];for(let r=0;r<t.length;r++){const s=e(t[r]);s&&i.push(s)}return i}getDependency(e,t){const i=e+":"+t;let r=this.cache.get(i);if(!r){switch(e){case"scene":r=this.loadScene(t);break;case"node":r=this._invokeOne(function(s){return s.loadNode&&s.loadNode(t)});break;case"mesh":r=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(t)});break;case"accessor":r=this.loadAccessor(t);break;case"bufferView":r=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(t)});break;case"buffer":r=this.loadBuffer(t);break;case"material":r=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(t)});break;case"texture":r=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(t)});break;case"skin":r=this.loadSkin(t);break;case"animation":r=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(t)});break;case"camera":r=this.loadCamera(t);break;default:if(r=this._invokeOne(function(s){return s!=this&&s.getDependency&&s.getDependency(e,t)}),!r)throw new Error("Unknown type: "+e);break}this.cache.add(i,r)}return r}getDependencies(e){let t=this.cache.get(e);if(!t){const i=this,r=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(r.map(function(s,o){return i.getDependency(e,o)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],i=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[Pt.KHR_BINARY_GLTF].body);const r=this.options;return new Promise(function(s,o){i.load(Ps.resolveURL(t.uri,r.path),s,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(i){const r=t.byteLength||0,s=t.byteOffset||0;return i.slice(s,s+r)})}loadAccessor(e){const t=this,i=this.json,r=this.json.accessors[e];if(r.bufferView===void 0&&r.sparse===void 0){const o=_6[r.type],a=fu[r.componentType],l=r.normalized===!0,c=new a(r.count*o);return Promise.resolve(new Dt(c,o,l))}const s=[];return r.bufferView!==void 0?s.push(this.getDependency("bufferView",r.bufferView)):s.push(null),r.sparse!==void 0&&(s.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(s).then(function(o){const a=o[0],l=_6[r.type],c=fu[r.componentType],h=c.BYTES_PER_ELEMENT,d=h*l,p=r.byteOffset||0,m=r.bufferView!==void 0?i.bufferViews[r.bufferView].byteStride:void 0,v=r.normalized===!0;let S,_;if(m&&m!==d){const g=Math.floor(p/m),x="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+g+":"+r.count;let A=t.cache.get(x);A||(S=new c(a,g*m,r.count*m/h),A=new Ed(S,m/h),t.cache.add(x,A)),_=new ma(A,l,p%m/h,v)}else a===null?S=new c(r.count*l):S=new c(a,p,r.count*l),_=new Dt(S,l,v);if(r.sparse!==void 0){const g=_6.SCALAR,x=fu[r.sparse.indices.componentType],A=r.sparse.indices.byteOffset||0,E=r.sparse.values.byteOffset||0,T=new x(o[1],A,r.sparse.count*g),C=new c(o[2],E,r.sparse.count*l);a!==null&&(_=new Dt(_.array.slice(),_.itemSize,_.normalized));for(let R=0,I=T.length;R<I;R++){const P=T[R];if(_.setX(P,C[R*l]),l>=2&&_.setY(P,C[R*l+1]),l>=3&&_.setZ(P,C[R*l+2]),l>=4&&_.setW(P,C[R*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return _})}loadTexture(e){const t=this.json,i=this.options,s=t.textures[e].source,o=t.images[s];let a=this.textureLoader;if(o.uri){const l=i.manager.getHandler(o.uri);l!==null&&(a=l)}return this.loadTextureImage(e,s,a)}loadTextureImage(e,t,i){const r=this,s=this.json,o=s.textures[e],a=s.images[t],l=(a.uri||a.bufferView)+":"+o.sampler;if(this.textureCache[l])return this.textureCache[l];const c=this.loadImageSource(t,i).then(function(h){h.flipY=!1,h.name=o.name||a.name||"",h.name===""&&typeof a.uri=="string"&&a.uri.startsWith("data:image/")===!1&&(h.name=a.uri);const p=(s.samplers||{})[o.sampler]||{};return h.magFilter=sM[p.magFilter]||hn,h.minFilter=sM[p.minFilter]||Bs,h.wrapS=oM[p.wrapS]||pa,h.wrapT=oM[p.wrapT]||pa,r.associations.set(h,{textures:e}),h}).catch(function(){return null});return this.textureCache[l]=c,c}loadImageSource(e,t){const i=this,r=this.json,s=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(d=>d.clone());const o=r.images[e],a=self.URL||self.webkitURL;let l=o.uri||"",c=!1;if(o.bufferView!==void 0)l=i.getDependency("bufferView",o.bufferView).then(function(d){c=!0;const p=new Blob([d],{type:o.mimeType});return l=a.createObjectURL(p),l});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const h=Promise.resolve(l).then(function(d){return new Promise(function(p,m){let v=p;t.isImageBitmapLoader===!0&&(v=function(S){const _=new ln(S);_.needsUpdate=!0,p(_)}),t.load(Ps.resolveURL(d,s.path),v,void 0,m)})}).then(function(d){return c===!0&&a.revokeObjectURL(l),d.userData.mimeType=o.mimeType||WQ(o.uri),d}).catch(function(d){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),d});return this.sourceCache[e]=h,h}assignTexture(e,t,i,r){const s=this;return this.getDependency("texture",i.index).then(function(o){if(!o)return null;if(i.texCoord!==void 0&&i.texCoord>0&&(o=o.clone(),o.channel=i.texCoord),s.extensions[Pt.KHR_TEXTURE_TRANSFORM]){const a=i.extensions!==void 0?i.extensions[Pt.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const l=s.associations.get(o);o=s.extensions[Pt.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),s.associations.set(o,l)}}return r!==void 0&&("colorSpace"in o?o.colorSpace=r===3001?"srgb":"srgb-linear":o.encoding=r),e[t]=o,o})}assignFinalMaterial(e){const t=e.geometry;let i=e.material;const r=t.attributes.tangent===void 0,s=t.attributes.color!==void 0,o=t.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+i.uuid;let l=this.cache.get(a);l||(l=new Td,On.prototype.copy.call(l,i),l.color.copy(i.color),l.map=i.map,l.sizeAttenuation=!1,this.cache.add(a,l)),i=l}else if(e.isLine){const a="LineBasicMaterial:"+i.uuid;let l=this.cache.get(a);l||(l=new Ai,On.prototype.copy.call(l,i),l.color.copy(i.color),l.map=i.map,this.cache.add(a,l)),i=l}if(r||s||o){let a="ClonedMaterial:"+i.uuid+":";r&&(a+="derivative-tangents:"),s&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=i.clone(),s&&(l.vertexColors=!0),o&&(l.flatShading=!0),r&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(i))),i=l}e.material=i}getMaterialType(){return Bd}loadMaterial(e){const t=this,i=this.json,r=this.extensions,s=i.materials[e];let o;const a={},l=s.extensions||{},c=[];if(l[Pt.KHR_MATERIALS_UNLIT]){const d=r[Pt.KHR_MATERIALS_UNLIT];o=d.getMaterialType(),c.push(d.extendParams(a,s,t))}else{const d=s.pbrMetallicRoughness||{};if(a.color=new ze(1,1,1),a.opacity=1,Array.isArray(d.baseColorFactor)){const p=d.baseColorFactor;a.color.fromArray(p),a.opacity=p[3]}d.baseColorTexture!==void 0&&c.push(t.assignTexture(a,"map",d.baseColorTexture,3001)),a.metalness=d.metallicFactor!==void 0?d.metallicFactor:1,a.roughness=d.roughnessFactor!==void 0?d.roughnessFactor:1,d.metallicRoughnessTexture!==void 0&&(c.push(t.assignTexture(a,"metalnessMap",d.metallicRoughnessTexture)),c.push(t.assignTexture(a,"roughnessMap",d.metallicRoughnessTexture))),o=this._invokeOne(function(p){return p.getMaterialType&&p.getMaterialType(e)}),c.push(Promise.all(this._invokeAll(function(p){return p.extendMaterialParams&&p.extendMaterialParams(e,a)})))}s.doubleSided===!0&&(a.side=Tr);const h=s.alphaMode||A6.OPAQUE;if(h===A6.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,h===A6.MASK&&(a.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&o!==tr&&(c.push(t.assignTexture(a,"normalMap",s.normalTexture)),a.normalScale=new de(1,1),s.normalTexture.scale!==void 0)){const d=s.normalTexture.scale;a.normalScale.set(d,d)}return s.occlusionTexture!==void 0&&o!==tr&&(c.push(t.assignTexture(a,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&o!==tr&&(a.emissive=new ze().fromArray(s.emissiveFactor)),s.emissiveTexture!==void 0&&o!==tr&&c.push(t.assignTexture(a,"emissiveMap",s.emissiveTexture,3001)),Promise.all(c).then(function(){const d=new o(a);return s.name&&(d.name=s.name),Go(d,s),t.associations.set(d,{materials:e}),s.extensions&&Va(r,d,s),d})}createUniqueName(e){const t=It.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){const t=this,i=this.extensions,r=this.primitiveCache;function s(a){return i[Pt.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,t).then(function(l){return aM(l,a,t)})}const o=[];for(let a=0,l=e.length;a<l;a++){const c=e[a],h=VQ(c),d=r[h];if(d)o.push(d.promise);else{let p;c.extensions&&c.extensions[Pt.KHR_DRACO_MESH_COMPRESSION]?p=s(c):p=aM(new _t,c,t),r[h]={primitive:c,promise:p},o.push(p)}}return Promise.all(o)}loadMesh(e){const t=this,i=this.json,r=this.extensions,s=i.meshes[e],o=s.primitives,a=[];for(let l=0,c=o.length;l<c;l++){const h=o[l].material===void 0?HQ(this.cache):this.getDependency("material",o[l].material);a.push(h)}return a.push(t.loadGeometries(o)),Promise.all(a).then(function(l){const c=l.slice(0,l.length-1),h=l[l.length-1],d=[];for(let m=0,v=h.length;m<v;m++){const S=h[m],_=o[m];let g;const x=c[m];if(_.mode===_r.TRIANGLES||_.mode===_r.TRIANGLE_STRIP||_.mode===_r.TRIANGLE_FAN||_.mode===void 0)g=s.isSkinnedMesh===!0?new B9(S,x):new Zn(S,x),g.isSkinnedMesh===!0&&g.normalizeSkinWeights(),_.mode===_r.TRIANGLE_STRIP?g.geometry=tM(g.geometry,y9):_.mode===_r.TRIANGLE_FAN&&(g.geometry=tM(g.geometry,o2));else if(_.mode===_r.LINES)g=new rs(S,x);else if(_.mode===_r.LINE_STRIP)g=new mo(S,x);else if(_.mode===_r.LINE_LOOP)g=new L9(S,x);else if(_.mode===_r.POINTS)g=new D9(S,x);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+_.mode);Object.keys(g.geometry.morphAttributes).length>0&&GQ(g,s),g.name=t.createUniqueName(s.name||"mesh_"+e),Go(g,s),_.extensions&&Va(r,g,_),t.assignFinalMaterial(g),d.push(g)}for(let m=0,v=d.length;m<v;m++)t.associations.set(d[m],{meshes:e,primitives:m});if(d.length===1)return s.extensions&&Va(r,d[0],s),d[0];const p=new ro;s.extensions&&Va(r,p,s),t.associations.set(p,{meshes:e});for(let m=0,v=d.length;m<v;m++)p.add(d[m]);return p})}loadCamera(e){let t;const i=this.json.cameras[e],r=i[i.type];if(!r){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return i.type==="perspective"?t=new tn(Xc.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):i.type==="orthographic"&&(t=new Pr(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),i.name&&(t.name=this.createUniqueName(i.name)),Go(t,i),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],i=[];for(let r=0,s=t.joints.length;r<s;r++)i.push(this._loadNodeShallow(t.joints[r]));return t.inverseBindMatrices!==void 0?i.push(this.getDependency("accessor",t.inverseBindMatrices)):i.push(null),Promise.all(i).then(function(r){const s=r.pop(),o=r,a=[],l=[];for(let c=0,h=o.length;c<h;c++){const d=o[c];if(d){a.push(d);const p=new ct;s!==null&&p.fromArray(s.array,c*16),l.push(p)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[c])}return new wd(a,l)})}loadAnimation(e){const i=this.json.animations[e],r=i.name?i.name:"animation_"+e,s=[],o=[],a=[],l=[],c=[];for(let h=0,d=i.channels.length;h<d;h++){const p=i.channels[h],m=i.samplers[p.sampler],v=p.target,S=v.node,_=i.parameters!==void 0?i.parameters[m.input]:m.input,g=i.parameters!==void 0?i.parameters[m.output]:m.output;v.node!==void 0&&(s.push(this.getDependency("node",S)),o.push(this.getDependency("accessor",_)),a.push(this.getDependency("accessor",g)),l.push(m),c.push(v))}return Promise.all([Promise.all(s),Promise.all(o),Promise.all(a),Promise.all(l),Promise.all(c)]).then(function(h){const d=h[0],p=h[1],m=h[2],v=h[3],S=h[4],_=[];for(let g=0,x=d.length;g<x;g++){const A=d[g],E=p[g],T=m[g],C=v[g],R=S[g];if(A===void 0)continue;A.updateMatrix();let I;switch(No[R.path]){case No.weights:I=Cu;break;case No.rotation:I=ga;break;case No.position:case No.scale:default:I=bu;break}const P=A.name?A.name:A.uuid,B=C.interpolation!==void 0?kQ[C.interpolation]:wl,U=[];No[R.path]===No.weights?A.traverse(function(ee){ee.morphTargetInfluences&&U.push(ee.name?ee.name:ee.uuid)}):U.push(P);let Y=T.array;if(T.normalized){const ee=H8(Y.constructor),V=new Float32Array(Y.length);for(let Q=0,ne=Y.length;Q<ne;Q++)V[Q]=Y[Q]*ee;Y=V}for(let ee=0,V=U.length;ee<V;ee++){const Q=new I(U[ee]+"."+No[R.path],E.array,Y,B);C.interpolation==="CUBICSPLINE"&&(Q.createInterpolant=function(te){const D=this instanceof ga?UQ:kR;return new D(this.times,this.values,this.getValueSize()/3,te)},Q.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),_.push(Q)}}return new Pu(r,void 0,_)})}createNodeMesh(e){const t=this.json,i=this,r=t.nodes[e];return r.mesh===void 0?null:i.getDependency("mesh",r.mesh).then(function(s){const o=i._getNodeRef(i.meshCache,r.mesh,s);return r.weights!==void 0&&o.traverse(function(a){if(a.isMesh)for(let l=0,c=r.weights.length;l<c;l++)a.morphTargetInfluences[l]=r.weights[l]}),o})}loadNode(e){const t=this.json,i=this,r=t.nodes[e],s=i._loadNodeShallow(e),o=[],a=r.children||[];for(let c=0,h=a.length;c<h;c++)o.push(i.getDependency("node",a[c]));const l=r.skin===void 0?Promise.resolve(null):i.getDependency("skin",r.skin);return Promise.all([s,Promise.all(o),l]).then(function(c){const h=c[0],d=c[1],p=c[2];p!==null&&h.traverse(function(m){m.isSkinnedMesh&&m.bind(p,jQ)});for(let m=0,v=d.length;m<v;m++)h.add(d[m]);return h})}_loadNodeShallow(e){const t=this.json,i=this.extensions,r=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const s=t.nodes[e],o=s.name?r.createUniqueName(s.name):"",a=[],l=r._invokeOne(function(c){return c.createNodeMesh&&c.createNodeMesh(e)});return l&&a.push(l),s.camera!==void 0&&a.push(r.getDependency("camera",s.camera).then(function(c){return r._getNodeRef(r.cameraCache,s.camera,c)})),r._invokeAll(function(c){return c.createNodeAttachment&&c.createNodeAttachment(e)}).forEach(function(c){a.push(c)}),this.nodeCache[e]=Promise.all(a).then(function(c){let h;if(s.isBone===!0?h=new am:c.length>1?h=new ro:c.length===1?h=c[0]:h=new Lt,h!==c[0])for(let d=0,p=c.length;d<p;d++)h.add(c[d]);if(s.name&&(h.userData.name=s.name,h.name=o),Go(h,s),s.extensions&&Va(i,h,s),s.matrix!==void 0){const d=new ct;d.fromArray(s.matrix),h.applyMatrix4(d)}else s.translation!==void 0&&h.position.fromArray(s.translation),s.rotation!==void 0&&h.quaternion.fromArray(s.rotation),s.scale!==void 0&&h.scale.fromArray(s.scale);return r.associations.has(h)||r.associations.set(h,{}),r.associations.get(h).nodes=e,h}),this.nodeCache[e]}loadScene(e){const t=this.extensions,i=this.json.scenes[e],r=this,s=new ro;i.name&&(s.name=r.createUniqueName(i.name)),Go(s,i),i.extensions&&Va(t,s,i);const o=i.nodes||[],a=[];for(let l=0,c=o.length;l<c;l++)a.push(r.getDependency("node",o[l]));return Promise.all(a).then(function(l){for(let h=0,d=l.length;h<d;h++)s.add(l[h]);const c=h=>{const d=new Map;for(const[p,m]of r.associations)(p instanceof On||p instanceof ln)&&d.set(p,m);return h.traverse(p=>{const m=r.associations.get(p);m!=null&&d.set(p,m)}),d};return r.associations=c(s),s})}}function XQ(n,e,t){const i=e.attributes,r=new is;if(i.POSITION!==void 0){const a=t.json.accessors[i.POSITION],l=a.min,c=a.max;if(l!==void 0&&c!==void 0){if(r.set(new F(l[0],l[1],l[2]),new F(c[0],c[1],c[2])),a.normalized){const h=H8(fu[a.componentType]);r.min.multiplyScalar(h),r.max.multiplyScalar(h)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const a=new F,l=new F;for(let c=0,h=s.length;c<h;c++){const d=s[c];if(d.POSITION!==void 0){const p=t.json.accessors[d.POSITION],m=p.min,v=p.max;if(m!==void 0&&v!==void 0){if(l.setX(Math.max(Math.abs(m[0]),Math.abs(v[0]))),l.setY(Math.max(Math.abs(m[1]),Math.abs(v[1]))),l.setZ(Math.max(Math.abs(m[2]),Math.abs(v[2]))),p.normalized){const S=H8(fu[p.componentType]);l.multiplyScalar(S)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}r.expandByVector(a)}n.boundingBox=r;const o=new Fr;r.getCenter(o.center),o.radius=r.min.distanceTo(r.max)/2,n.boundingSphere=o}function aM(n,e,t){const i=e.attributes,r=[];function s(o,a){return t.getDependency("accessor",o).then(function(l){n.setAttribute(a,l)})}for(const o in i){const a=k8[o]||o.toLowerCase();a in n.attributes||r.push(s(i[o],a))}if(e.indices!==void 0&&!n.index){const o=t.getDependency("accessor",e.indices).then(function(a){n.setIndex(a)});r.push(o)}return Go(n,e),XQ(n,e,t),Promise.all(r).then(function(){return e.targets!==void 0?zQ(n,e.targets,t):n})}class JQ extends bd{constructor(e,t={}){const{bevelEnabled:i=!1,bevelSize:r=8,bevelThickness:s=10,font:o,height:a=50,size:l=100,lineHeight:c=1,letterSpacing:h=0,...d}=t;if(o===void 0)super();else{const p=o.generateShapes(e,l,{lineHeight:c,letterSpacing:h});super(p,{...d,bevelEnabled:i,bevelSize:r,bevelThickness:s,depth:a})}this.type="TextGeometry"}}class KQ extends ai{constructor(e){super(e)}load(e,t,i,r){const s=new Wi(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,o=>{if(typeof o!="string")throw new Error("unsupported data type");const a=JSON.parse(o),l=this.parse(a);t&&t(l)},i,r)}loadAsync(e,t){return super.loadAsync(e,t)}parse(e){return new YQ(e)}}class YQ{constructor(e){lt(this,"data"),this.data=e}generateShapes(e,t=100,i){const r=[],s={letterSpacing:0,lineHeight:1,...i},o=QQ(e,t,this.data,s);for(let a=0,l=o.length;a<l;a++)Array.prototype.push.apply(r,o[a].toShapes(!1));return r}}function QQ(n,e,t,i){const r=Array.from(n),s=e/t.resolution,o=(t.boundingBox.yMax-t.boundingBox.yMin+t.underlineThickness)*s,a=[];let l=0,c=0;for(let h=0;h<r.length;h++){const d=r[h];if(d===`
`)l=0,c-=o*i.lineHeight;else{const p=ZQ(d,s,l,c,t);p&&(l+=p.offsetX+i.letterSpacing,a.push(p.path))}}return a}function ZQ(n,e,t,i,r){const s=r.glyphs[n]||r.glyphs["?"];if(!s){console.error('THREE.Font: character "'+n+'" does not exists in font family '+r.familyName+".");return}const o=new yP;let a,l,c,h,d,p,m,v;if(s.o){const S=s._cachedOutline||(s._cachedOutline=s.o.split(" "));for(let _=0,g=S.length;_<g;)switch(S[_++]){case"m":a=parseInt(S[_++])*e+t,l=parseInt(S[_++])*e+i,o.moveTo(a,l);break;case"l":a=parseInt(S[_++])*e+t,l=parseInt(S[_++])*e+i,o.lineTo(a,l);break;case"q":c=parseInt(S[_++])*e+t,h=parseInt(S[_++])*e+i,d=parseInt(S[_++])*e+t,p=parseInt(S[_++])*e+i,o.quadraticCurveTo(d,p,c,h);break;case"b":c=parseInt(S[_++])*e+t,h=parseInt(S[_++])*e+i,d=parseInt(S[_++])*e+t,p=parseInt(S[_++])*e+i,m=parseInt(S[_++])*e+t,v=parseInt(S[_++])*e+i,o.bezierCurveTo(d,p,m,v,c,h);break}}return{offsetX:s.ha*e,path:o}}const M6=new WeakMap;class $Q extends ai{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,i,r){const s=new Wi(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,o=>{const a={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(o,a).then(t).catch(r)},i,r)}decodeDracoFile(e,t,i,r){const s={attributeIDs:i||this.defaultAttributeIDs,attributeTypes:r||this.defaultAttributeTypes,useUniqueIDs:!!i};this.decodeGeometry(e,s).then(t)}decodeGeometry(e,t){for(const l in t.attributeTypes){const c=t.attributeTypes[l];c.BYTES_PER_ELEMENT!==void 0&&(t.attributeTypes[l]=c.name)}const i=JSON.stringify(t);if(M6.has(e)){const l=M6.get(e);if(l.key===i)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let r;const s=this.workerNextTaskID++,o=e.byteLength,a=this._getWorker(s,o).then(l=>(r=l,new Promise((c,h)=>{r._callbacks[s]={resolve:c,reject:h},r.postMessage({type:"decode",id:s,taskConfig:t,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return a.catch(()=>!0).then(()=>{r&&s&&this._releaseTask(r,s)}),M6.set(e,{key:i,promise:a}),a}_createGeometry(e){const t=new _t;e.index&&t.setIndex(new Dt(e.index.array,1));for(let i=0;i<e.attributes.length;i++){const r=e.attributes[i],s=r.name,o=r.array,a=r.itemSize;t.setAttribute(s,new Dt(o,a))}return t}_loadLibrary(e,t){const i=new Wi(this.manager);return i.setPath(this.decoderPath),i.setResponseType(t),i.setWithCredentials(this.withCredentials),new Promise((r,s)=>{i.load(e,r,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(i=>{const r=i[0];e||(this.decoderConfig.wasmBinary=i[1]);const s=eZ.toString(),o=["/* draco decoder */",r,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const r=new Worker(this.workerSourceURL);r._callbacks={},r._taskCosts={},r._taskLoad=0,r.postMessage({type:"init",decoderConfig:this.decoderConfig}),r.onmessage=function(s){const o=s.data;switch(o.type){case"decode":r._callbacks[o.id].resolve(o);break;case"error":r._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(r)}else this.workerPool.sort(function(r,s){return r._taskLoad>s._taskLoad?-1:1});const i=this.workerPool[this.workerPool.length-1];return i._taskCosts[e]=t,i._taskLoad+=t,i})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function eZ(){let n,e;onmessage=function(o){const a=o.data;switch(a.type){case"init":n=a.decoderConfig,e=new Promise(function(h){n.onModuleLoaded=function(d){h({draco:d})},DracoDecoderModule(n)});break;case"decode":const l=a.buffer,c=a.taskConfig;e.then(h=>{const d=h.draco,p=new d.Decoder,m=new d.DecoderBuffer;m.Init(new Int8Array(l),l.byteLength);try{const v=t(d,p,m,c),S=v.attributes.map(_=>_.array.buffer);v.index&&S.push(v.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:v},S)}catch(v){console.error(v),self.postMessage({type:"error",id:a.id,error:v.message})}finally{d.destroy(m),d.destroy(p)}});break}};function t(o,a,l,c){const h=c.attributeIDs,d=c.attributeTypes;let p,m;const v=a.GetEncodedGeometryType(l);if(v===o.TRIANGULAR_MESH)p=new o.Mesh,m=a.DecodeBufferToMesh(l,p);else if(v===o.POINT_CLOUD)p=new o.PointCloud,m=a.DecodeBufferToPointCloud(l,p);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!m.ok()||p.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+m.error_msg());const S={index:null,attributes:[]};for(const _ in h){const g=self[d[_]];let x,A;if(c.useUniqueIDs)A=h[_],x=a.GetAttributeByUniqueId(p,A);else{if(A=a.GetAttributeId(p,o[h[_]]),A===-1)continue;x=a.GetAttribute(p,A)}S.attributes.push(r(o,a,p,_,g,x))}return v===o.TRIANGULAR_MESH&&(S.index=i(o,a,p)),o.destroy(p),S}function i(o,a,l){const h=l.num_faces()*3,d=h*4,p=o._malloc(d);a.GetTrianglesUInt32Array(l,d,p);const m=new Uint32Array(o.HEAPF32.buffer,p,h).slice();return o._free(p),{array:m,itemSize:1}}function r(o,a,l,c,h,d){const p=d.num_components(),v=l.num_points()*p,S=v*h.BYTES_PER_ELEMENT,_=s(o,h),g=o._malloc(S);a.GetAttributeDataArrayForAllPoints(l,d,_,S,g);const x=new h(o.HEAPF32.buffer,g,v).slice();return o._free(g),{name:c,array:x,itemSize:p}}function s(o,a){switch(a){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}let $0;const E6=()=>{if($0)return $0;const n="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),i=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let r=n;WebAssembly.validate(t)&&(r=e);let s;const o=WebAssembly.instantiate(a(r),{}).then(d=>{s=d.instance,s.exports.__wasm_call_ctors()});function a(d){const p=new Uint8Array(d.length);for(let v=0;v<d.length;++v){const S=d.charCodeAt(v);p[v]=S>96?S-71:S>64?S-65:S>47?S+4:S>46?63:62}let m=0;for(let v=0;v<d.length;++v)p[m++]=p[v]<60?i[p[v]]:(p[v]-60)*64+p[++v];return p.buffer.slice(0,m)}function l(d,p,m,v,S,_){const g=s.exports.sbrk,x=m+3&-4,A=g(x*v),E=g(S.length),T=new Uint8Array(s.exports.memory.buffer);T.set(S,E);const C=d(A,m,v,E,S.length);if(C===0&&_&&_(A,x,v),p.set(T.subarray(A,A+m*v)),g(A-g(0)),C!==0)throw new Error(`Malformed buffer data: ${C}`)}const c={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},h={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return $0={ready:o,supported:!0,decodeVertexBuffer(d,p,m,v,S){l(s.exports.meshopt_decodeVertexBuffer,d,p,m,v,s.exports[c[S]])},decodeIndexBuffer(d,p,m,v){l(s.exports.meshopt_decodeIndexBuffer,d,p,m,v)},decodeIndexSequence(d,p,m,v){l(s.exports.meshopt_decodeIndexSequence,d,p,m,v)},decodeGltfBuffer(d,p,m,v,S,_){l(s.exports[h[S]],d,p,m,v,s.exports[c[_]])}},$0};let w6=null;async function HR(n){w6||(w6=new KQ);let e=typeof n=="string"?await(await fetch(n)).json():n;return w6.parse(e)}function S7(n){return CP(HR,[n])}S7.preload=n=>bP(HR,[n]);S7.clear=n=>PP([n]);const tZ=["string","number"],nZ=n=>{let e="";const t=[];return k.Children.forEach(n,i=>{tZ.includes(typeof i)?e+=i+"":t.push(i)}),[e,...t]},iZ=k.forwardRef(({font:n,letterSpacing:e=0,lineHeight:t=1,size:i=1,height:r=.2,bevelThickness:s=.1,bevelSize:o=.01,bevelEnabled:a=!1,bevelOffset:l=0,bevelSegments:c=4,curveSegments:h=8,smooth:d,children:p,...m},v)=>{k.useMemo(()=>RP({RenamedTextGeometry:JQ}),[]);const S=k.useRef(null),_=S7(n),g=k.useMemo(()=>({font:_,size:i,height:r,bevelThickness:s,bevelSize:o,bevelEnabled:a,bevelSegments:c,bevelOffset:l,curveSegments:h,letterSpacing:e,lineHeight:t}),[_,i,r,s,o,a,c,l,h,e,t]),[x,...A]=k.useMemo(()=>nZ(p),[p]),E=k.useMemo(()=>[x,g],[x,g]);return k.useLayoutEffect(()=>{d&&(S.current.geometry=dQ(S.current.geometry,d),S.current.geometry.computeVertexNormals())},[E,d]),k.useImperativeHandle(v,()=>S.current,[]),k.createElement("mesh",or({},m,{ref:S}),k.createElement("renamedTextGeometry",{args:E}),A)}),zR=parseInt(Uu.replace(/\D+/g,""));let ep=null,GR="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function VR(n,e,t){return i=>{t&&t(i),n&&(ep||(ep=new $Q),ep.setDecoderPath(typeof n=="string"?n:GR),i.setDRACOLoader(ep)),e&&i.setMeshoptDecoder(typeof E6=="function"?E6():E6)}}function Hl(n,e=!0,t=!0,i){return Dd(A7,n,VR(e,t,i))}Hl.preload=(n,e=!0,t=!0,i)=>Dd.preload(A7,n,VR(e,t,i));Hl.clear=n=>Dd.clear(A7,n);Hl.setDecoderPath=n=>{GR=n};const rZ=k.forwardRef(({makeDefault:n,camera:e,regress:t,domElement:i,enableDamping:r=!0,keyEvents:s=!1,onChange:o,onStart:a,onEnd:l,...c},h)=>{const d=Ar(C=>C.invalidate),p=Ar(C=>C.camera),m=Ar(C=>C.gl),v=Ar(C=>C.events),S=Ar(C=>C.setEvents),_=Ar(C=>C.set),g=Ar(C=>C.get),x=Ar(C=>C.performance),A=e||p,E=i||v.connected||m.domElement,T=k.useMemo(()=>new mQ(A),[A]);return Ld(()=>{T.enabled&&T.update()},-1),k.useEffect(()=>(s&&T.connect(s===!0?E:s),T.connect(E),()=>void T.dispose()),[s,E,t,T,d]),k.useEffect(()=>{const C=P=>{d(),t&&x.regress(),o&&o(P)},R=P=>{a&&a(P)},I=P=>{l&&l(P)};return T.addEventListener("change",C),T.addEventListener("start",R),T.addEventListener("end",I),()=>{T.removeEventListener("start",R),T.removeEventListener("end",I),T.removeEventListener("change",C)}},[o,a,l,T,d,S]),k.useEffect(()=>{if(n){const C=g().controls;return _({controls:T}),()=>_({controls:C})}},[n,T]),k.createElement("primitive",or({ref:h,object:T,enableDamping:r},c))}),T6=zR>=154?"opaque_fragment":"output_fragment";class sZ extends Td{constructor(e){super(e),this.onBeforeCompile=(t,i)=>{const{isWebGL2:r}=i.capabilities;t.fragmentShader=t.fragmentShader.replace(`#include <${T6}>`,`
        ${r?`#include <${T6}>`:`#extension GL_OES_standard_derivatives : enable
#include <${T6}>`}
      vec2 cxy = 2.0 * gl_PointCoord - 1.0;
      float r = dot(cxy, cxy);
      float delta = fwidth(r);     
      float mask = 1.0 - smoothstep(1.0 - delta, 1.0 + delta, r);
      gl_FragColor = vec4(gl_FragColor.rgb, mask * gl_FragColor.a );
      #include <tonemapping_fragment>
      #include <${zR>=154?"colorspace_fragment":"encodings_fragment"}>
      `)}}}const oZ=k.forwardRef((n,e)=>{const[t]=k.useState(()=>new sZ(null));return k.createElement("primitive",or({},n,{object:t,ref:e,attach:"material"}))});let Wa,kf;const aZ=k.createContext(null),lM=new ct,cM=new F,lZ=k.forwardRef(({children:n,range:e,limit:t=1e3,...i},r)=>{const s=k.useRef(null),[o,a]=k.useState([]),[[l,c,h]]=k.useState(()=>[new Float32Array(t*3),Float32Array.from({length:t*3},()=>1),Float32Array.from({length:t},()=>1)]);k.useEffect(()=>{s.current.geometry.attributes.position.needsUpdate=!0}),Ld(()=>{for(s.current.updateMatrix(),s.current.updateMatrixWorld(),lM.copy(s.current.matrixWorld).invert(),s.current.geometry.drawRange.count=Math.min(t,e!==void 0?e:t,o.length),Wa=0;Wa<o.length;Wa++)kf=o[Wa].current,kf.getWorldPosition(cM).applyMatrix4(lM),cM.toArray(l,Wa*3),s.current.geometry.attributes.position.needsUpdate=!0,kf.matrixWorldNeedsUpdate=!0,kf.color.toArray(c,Wa*3),s.current.geometry.attributes.color.needsUpdate=!0,h.set([kf.size],Wa),s.current.geometry.attributes.size.needsUpdate=!0});const d=k.useMemo(()=>({getParent:()=>s,subscribe:p=>(a(m=>[...m,p]),()=>a(m=>m.filter(v=>v.current!==p.current)))}),[]);return k.createElement("points",or({userData:{instances:o},matrixAutoUpdate:!1,ref:ZP([r,s]),raycast:()=>null},i),k.createElement("bufferGeometry",null,k.createElement("bufferAttribute",{attach:"attributes-position",count:l.length/3,array:l,itemSize:3,usage:pl}),k.createElement("bufferAttribute",{attach:"attributes-color",count:c.length/3,array:c,itemSize:3,usage:pl}),k.createElement("bufferAttribute",{attach:"attributes-size",count:h.length,array:h,itemSize:1,usage:pl})),k.createElement(aZ.Provider,{value:d},n))}),cZ=k.forwardRef(({children:n,positions:e,colors:t,sizes:i,stride:r=3,...s},o)=>{const a=k.useRef(null);return Ld(()=>{const l=a.current.geometry.attributes;l.position.needsUpdate=!0,t&&(l.color.needsUpdate=!0),i&&(l.size.needsUpdate=!0)}),k.createElement("points",or({ref:ZP([o,a])},s),k.createElement("bufferGeometry",null,k.createElement("bufferAttribute",{attach:"attributes-position",count:e.length/r,array:e,itemSize:r,usage:pl}),t&&k.createElement("bufferAttribute",{attach:"attributes-color",count:t.length/r,array:t,itemSize:3,usage:pl}),i&&k.createElement("bufferAttribute",{attach:"attributes-size",count:i.length/r,array:i,itemSize:1,usage:pl})),n)}),uZ=k.forwardRef((n,e)=>n.positions instanceof Float32Array?k.createElement(cZ,or({},n,{ref:e})):k.createElement(lZ,or({},n,{ref:e}))),WR=()=>{const{progress:n}=DJ();return J.jsx(QP,{children:J.jsxs("div",{className:"flex text-[14px] text-[#f1f1f1] font-bold mt-[40px] flex-col items-center absolute left-[-2.5rem]",children:[J.jsx("span",{className:"loader mb-5"}),n.toFixed(2),"%"]})})};function hu(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function uM(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function fM(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?uM(Object(t),!0).forEach(function(i){hu(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):uM(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function jR(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}new de;new de;var xr=function n(e,t,i){var r=this;jR(this,n),hu(this,"dot2",function(s,o){return r.x*s+r.y*o}),hu(this,"dot3",function(s,o,a){return r.x*s+r.y*o+r.z*a}),this.x=e,this.y=t,this.z=i},fZ=[new xr(1,1,0),new xr(-1,1,0),new xr(1,-1,0),new xr(-1,-1,0),new xr(1,0,1),new xr(-1,0,1),new xr(1,0,-1),new xr(-1,0,-1),new xr(0,1,1),new xr(0,-1,1),new xr(0,1,-1),new xr(0,-1,-1)],hM=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],dM=new Array(512),pM=new Array(512),hZ=function(e){e>0&&e<1&&(e*=65536),e=Math.floor(e),e<256&&(e|=e<<8);for(var t=0;t<256;t++){var i;t&1?i=hM[t]^e&255:i=hM[t]^e>>8&255,dM[t]=dM[t+256]=i,pM[t]=pM[t+256]=fZ[i%12]}};hZ(0);function dZ(n){if(typeof n=="number")n=Math.abs(n);else if(typeof n=="string"){var e=n;n=0;for(var t=0;t<e.length;t++)n=(n+(t+1)*(e.charCodeAt(t)%96))%2147483647}return n===0&&(n=311),n}function mM(n){var e=dZ(n);return function(){var t=e*48271%2147483647;return e=t,t/2147483647}}var pZ=function n(e){var t=this;jR(this,n),hu(this,"seed",0),hu(this,"init",function(i){t.seed=i,t.value=mM(i)}),hu(this,"value",mM(this.seed)),this.init(e)},mZ=new pZ(Math.random()),gZ={radius:1,center:[0,0,0]};function vZ(n,e){for(var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:mZ,i=fM(fM({},gZ),e),r=i.radius,s=i.center,o=0;o<n.length;o+=3){var a=Math.pow(t.value(),.3333333333333333),l=t.value()*2-1,c=t.value()*2-1,h=t.value()*2-1,d=Math.sqrt(l*l+c*c+h*h);l=a*l/d,c=a*c/d,h=a*h/d,n[o]=l*r+s[0],n[o+1]=c*r+s[1],n[o+2]=h*r+s[2]}return n}const yZ=n=>{const e=k.useRef(),t=vZ(new Float32Array(250),{radius:1.2});return Ld((i,r)=>{e.current.rotation.x-=r/10}),J.jsx("group",{rotation:[0,0,-1.1],scale:1.3,children:J.jsx(uZ,{ref:e,positions:t,stride:3,frustumCulled:!0,...n,children:J.jsx(oZ,{transparent:!0,color:"#f272c8",size:.013,sizeAttenuation:!0,depthWrite:!1})})})},xZ=n=>{const{nodes:e,materials:t}=Hl("/second-portfolio/planet/scene.glb");return J.jsx("group",{...n,dispose:null,children:J.jsx("group",{name:"Sketchfab_Scene",children:J.jsxs("group",{name:"GLTF_SceneRootNode",rotation:[.031,0,.064],children:[J.jsx("group",{name:"Clouds_1",children:J.jsx("mesh",{name:"Object_4",castShadow:!0,receiveShadow:!0,geometry:e.Object_4.geometry,material:t.Clouds})}),J.jsx("group",{name:"Planet_2",children:J.jsx("mesh",{name:"Object_6",castShadow:!0,receiveShadow:!0,geometry:e.Object_6.geometry,material:t.Planet})})]})})})},_Z=()=>J.jsx(KP,{shadows:!0,gl:{preserveDrawingBuffer:!0},camera:{position:[0,0,2.3]},children:J.jsxs(k.Suspense,{fallback:J.jsx(WR,{}),children:[J.jsx(rZ,{autoRotate:!0,enableZoom:!1,maxPolarAngle:Math.PI/3,minPolarAngle:Math.PI/3,enablePan:!1}),J.jsx(xZ,{}),J.jsx(yZ,{})]})});Hl.preload("/second-portfolio/planet/scene.glb");const AZ=k.memo(_Z),SZ={o:{ha:503,x_min:121,x_max:583,o:"m 233 10 q 205 17 215 10 q 179 36 194 24 q 137 96 153 64 q 125 151 121 128 q 128 173 129 163 q 128 183 128 183 q 124 192 121 190 q 129 200 126 194 q 135 215 138 200 q 144 263 132 226 q 176 333 156 300 q 201 370 185 347 q 238 416 218 393 q 275 453 258 439 q 340 500 310 482 q 400 525 369 518 q 463 532 431 532 q 517 510 496 532 q 562 472 549 496 q 579 411 575 449 q 571 309 583 369 q 503 169 558 249 q 435 92 468 119 q 361 40 401 64 q 299 17 332 21 q 233 10 265 13 m 375 179 q 419 238 406 206 q 447 313 432 269 q 455 340 453 321 q 456 378 457 360 q 446 400 454 397 q 421 405 433 410 q 389 386 408 400 q 312 306 347 351 q 263 196 276 261 q 270 144 258 161 q 309 134 282 126 q 375 179 336 142 z "},p:{ha:525,x_min:24,x_max:606,o:"m 85 -324 q 69 -324 79 -324 q 51 -312 58 -325 q 35 -285 46 -306 q 31 -229 24 -265 q 42 -183 38 -206 q 46 -149 46 -160 q 49 -127 46 -143 q 53 -104 53 -111 q 64 -74 60 -93 q 68 -39 68 -54 q 85 -8 68 -22 q 90 19 85 3 q 94 42 94 36 q 113 110 99 61 q 149 222 128 160 q 192 344 171 285 q 229 446 213 404 q 257 518 246 485 q 268 565 268 551 q 271 574 268 571 q 283 589 274 578 q 320 599 297 603 q 358 585 343 596 q 374 552 369 567 q 374 507 379 538 q 364 469 374 486 q 347 441 354 451 q 342 432 339 431 q 452 473 403 469 q 535 456 501 476 q 588 401 569 436 q 606 326 606 367 q 594 282 606 310 q 569 230 583 254 q 547 197 556 206 q 536 188 542 197 q 525 168 531 179 q 488 137 514 154 q 436 109 463 119 q 399 103 410 99 q 395 100 399 103 q 392 90 392 97 q 372 79 392 88 q 326 64 353 71 q 278 57 300 57 q 236 68 249 57 q 230 60 233 65 q 226 50 226 54 q 220 24 226 42 q 206 -9 214 6 q 190 -24 197 -24 q 188 -28 190 -24 q 190 -39 185 -32 q 190 -55 190 -39 q 182 -82 189 -71 q 178 -115 182 -93 q 168 -149 174 -137 q 163 -181 168 -165 q 153 -197 158 -197 q 146 -215 147 -199 q 144 -237 144 -231 q 122 -298 143 -272 q 85 -324 101 -324 m 263 163 q 303 172 274 163 q 364 197 332 182 q 414 226 396 211 q 470 289 450 258 q 467 357 490 319 q 431 373 456 376 q 378 350 407 369 q 318 301 349 331 q 288 260 301 283 q 265 214 274 236 q 254 177 256 192 q 263 163 253 163 z "},e:{ha:464,x_min:128,x_max:575,o:"m 407 28 q 319 1 365 4 q 232 13 272 -3 q 167 61 192 29 q 140 119 153 79 q 136 226 128 158 q 176 356 144 290 q 253 471 207 421 q 353 539 299 521 q 392 549 372 546 q 446 550 413 553 q 503 534 478 546 q 539 508 528 522 q 568 465 561 486 q 574 425 575 444 q 534 329 567 381 q 443 253 501 278 q 388 240 419 243 q 300 249 356 238 q 256 242 267 256 q 247 188 246 228 q 259 144 250 163 q 293 118 268 125 q 339 117 325 113 q 374 132 353 122 q 395 147 385 139 q 416 164 406 156 q 433 176 426 172 q 447 183 440 182 q 461 185 454 185 q 490 168 476 183 q 508 139 504 153 q 494 108 508 128 q 458 66 481 88 q 407 28 435 44 m 389 338 q 417 357 399 342 q 451 390 436 372 q 467 417 467 407 q 447 443 467 432 q 394 447 426 454 q 368 432 383 444 q 338 403 353 419 q 311 373 322 388 q 296 350 300 358 q 318 339 301 343 q 355 335 335 335 q 389 338 375 335 z "},n:{ha:638,x_min:124,x_max:672,o:"m 615 33 q 565 47 585 36 q 532 89 544 57 q 527 135 526 111 q 531 183 528 160 q 533 222 533 206 q 533 233 533 225 q 533 249 533 242 q 523 274 531 269 q 497 272 515 279 q 434 235 468 258 q 363 183 400 213 q 288 119 326 153 q 242 65 257 86 q 213 44 228 44 q 189 47 201 39 q 163 67 176 56 q 140 95 153 78 q 124 118 126 113 q 127 158 124 140 q 138 196 131 176 q 157 240 146 215 q 167 260 163 250 q 179 283 172 271 q 195 328 185 303 q 215 375 206 353 q 239 438 231 411 q 253 494 247 464 q 254 503 251 497 q 263 510 257 508 l 264 510 l 265 510 q 302 512 275 517 q 343 496 329 507 q 371 431 372 471 q 329 325 369 390 q 309 284 319 303 q 299 258 299 265 q 310 267 299 258 q 336 287 321 275 q 363 306 351 299 q 393 331 369 313 q 444 371 417 350 q 489 403 472 392 q 528 426 504 414 q 557 438 551 438 q 591 428 571 438 q 628 405 611 418 q 649 381 646 392 q 647 366 649 375 q 646 350 646 357 q 645 297 644 328 q 646 234 646 265 q 640 178 646 203 q 642 176 640 178 q 644 169 643 174 q 644 165 643 168 q 644 161 644 161 q 651 142 647 151 q 660 120 654 132 q 672 90 665 108 q 652 55 671 72 q 615 33 633 38 z "},t:{ha:460,x_min:139,x_max:583,o:"m 238 -1 q 204 17 222 1 q 172 53 186 33 q 153 88 157 74 q 149 94 153 90 q 146 99 146 99 q 140 135 140 103 q 143 208 139 168 q 153 272 147 249 q 174 333 160 294 q 197 401 188 371 l 235 482 l 179 497 q 163 508 169 500 q 157 522 157 517 q 169 554 157 533 q 188 575 182 575 q 213 574 194 574 q 250 575 232 574 q 272 578 268 576 q 283 585 278 581 q 292 600 289 590 q 304 624 299 615 q 319 649 310 632 q 335 679 329 667 q 356 714 342 692 q 371 738 363 724 q 392 761 379 751 q 433 777 404 772 q 482 764 461 782 q 494 738 493 750 q 483 706 496 725 q 458 663 472 682 q 431 621 443 644 q 422 586 408 590 q 500 592 436 582 q 558 583 540 599 q 579 544 576 568 q 572 504 583 511 q 508 497 561 497 q 451 491 475 492 q 417 490 428 490 q 393 489 399 489 q 376 486 388 489 q 360 477 365 483 q 350 460 356 471 q 333 431 344 454 q 306 379 322 407 q 273 267 286 321 q 250 161 260 214 q 252 123 246 135 q 288 108 258 111 q 332 109 303 107 q 381 117 361 111 q 413 131 396 124 q 443 147 429 139 q 468 162 456 154 q 481 169 481 169 q 501 166 488 181 q 519 135 514 151 q 513 95 519 118 q 461 47 506 72 q 336 0 399 8 q 238 -1 274 -8 z "},w:{ha:718,x_min:150,x_max:826,o:"m 236 42 q 194 73 215 42 q 162 150 174 104 q 153 240 150 196 q 158 312 153 285 q 168 365 163 339 q 173 379 172 374 q 176 397 174 385 q 185 439 178 410 q 197 478 190 463 q 207 499 203 493 q 244 526 224 521 q 283 521 265 531 q 303 492 300 511 q 312 460 311 485 q 308 410 313 436 q 296 374 304 385 q 290 338 293 367 q 283 276 286 308 q 275 225 279 244 q 278 194 271 200 q 306 206 286 188 q 360 274 326 225 q 401 339 388 315 q 422 382 414 363 q 439 428 429 401 q 452 464 446 450 q 464 483 458 478 q 505 502 479 506 q 547 488 531 499 q 567 442 564 471 q 554 381 571 414 q 533 328 543 358 q 516 267 522 297 q 510 214 510 236 q 517 181 510 186 q 536 176 525 176 q 568 188 553 176 q 613 231 583 200 q 643 268 625 243 q 678 321 661 293 q 708 370 696 349 q 719 397 719 392 q 732 421 719 406 q 745 438 740 432 q 764 451 750 444 q 789 453 775 457 q 813 439 803 450 q 823 412 819 433 q 826 374 826 390 q 814 331 822 358 q 797 280 806 304 q 781 247 788 256 q 761 227 775 242 q 736 196 747 213 q 686 142 701 154 q 660 118 671 129 q 593 72 631 89 q 522 52 556 54 q 469 64 489 50 q 426 139 426 86 q 423 159 426 150 q 419 168 419 168 q 405 165 414 168 q 386 146 396 163 q 344 98 374 122 q 283 58 314 74 q 236 42 253 42 z "},r:{ha:500,x_min:124,x_max:635,o:"m 165 38 q 138 63 153 47 q 128 106 124 78 q 139 174 132 144 q 156 243 146 204 q 170 300 158 260 q 199 388 182 340 q 233 477 215 435 q 265 540 251 519 q 310 554 281 554 q 351 543 340 554 q 361 499 367 531 q 322 403 356 468 q 305 367 315 386 q 290 337 294 349 q 293 326 286 325 q 324 362 301 342 q 371 401 346 382 q 418 436 396 421 q 449 456 440 451 q 474 467 460 463 q 494 475 489 472 q 565 487 526 490 q 611 463 603 483 q 620 446 613 451 q 628 440 628 440 q 634 436 633 440 q 635 432 635 432 q 616 404 635 422 q 575 385 597 386 q 543 378 557 383 q 510 364 529 372 q 415 310 457 333 q 328 238 372 286 q 307 217 318 226 q 285 189 296 207 q 271 158 278 182 q 259 113 264 135 q 254 88 254 92 q 250 74 254 88 q 236 49 246 61 q 203 21 219 26 q 165 38 188 15 z "},k:{ha:519,x_min:103,x_max:631,o:"m 178 -4 q 149 19 167 0 q 117 60 131 38 q 103 99 103 83 q 122 153 110 114 q 149 240 133 192 q 166 276 160 256 q 178 313 172 296 q 203 369 189 338 q 230 435 217 401 q 254 493 243 468 q 287 566 274 535 q 313 628 300 597 q 342 696 326 658 q 380 781 363 739 q 410 857 397 824 q 426 904 424 890 q 429 920 425 915 q 440 926 433 925 q 463 932 447 931 q 483 933 478 933 q 517 906 500 931 q 535 865 535 882 q 513 783 535 843 q 451 640 492 722 q 378 479 403 536 q 346 399 354 422 q 339 368 338 375 q 350 372 339 368 q 383 392 361 376 q 418 417 399 401 q 456 444 438 432 q 486 460 475 457 q 506 474 493 465 q 529 489 518 482 q 571 501 556 508 q 599 478 586 494 q 610 440 614 460 q 567 388 607 419 q 501 345 536 365 q 438 310 467 325 q 397 285 410 294 q 410 267 397 285 q 433 232 422 249 q 461 176 444 210 q 486 128 478 142 q 517 99 501 106 q 565 103 533 92 q 601 102 586 108 q 625 82 615 96 q 631 60 631 71 q 613 33 631 49 q 537 -12 574 7 q 467 -8 500 -31 q 412 42 438 14 q 354 113 386 71 q 346 136 354 118 q 335 157 338 154 q 323 177 329 168 q 317 186 317 186 q 306 211 313 201 q 290 222 300 221 q 278 208 285 218 q 264 185 271 199 q 247 144 256 164 q 233 101 239 124 q 226 46 228 78 q 214 13 228 31 q 178 -4 200 -4 z "},"#":{ha:776,x_min:79,x_max:985,o:"m 558 -206 q 512 -192 532 -212 q 483 -131 492 -171 q 486 -39 475 -90 q 497 -6 493 -22 q 501 19 501 10 q 515 69 504 31 q 542 157 526 107 q 574 256 558 207 q 602 340 590 306 q 617 378 614 374 q 626 388 622 378 q 631 407 631 397 q 635 432 631 418 q 646 451 640 446 q 649 467 646 458 q 653 482 653 476 q 656 493 653 488 q 660 504 660 499 q 685 562 668 519 q 726 662 703 604 q 772 781 749 719 q 817 899 796 843 q 850 990 838 954 q 863 1032 863 1026 q 878 1055 863 1043 q 904 1067 893 1067 q 915 1072 908 1071 q 926 1074 921 1074 q 932 1068 926 1074 q 949 1051 938 1063 q 972 1023 960 1042 q 985 988 985 1004 q 981 956 985 969 q 964 915 976 942 q 925 833 951 889 q 908 794 921 822 q 881 732 896 767 q 852 665 867 697 q 828 610 838 632 q 819 585 819 588 q 815 568 819 579 q 804 540 810 557 q 789 508 799 529 q 769 462 779 486 q 751 420 758 438 q 744 400 744 403 q 744 389 744 394 q 738 378 743 383 q 731 370 732 378 q 731 363 731 363 q 708 289 731 349 q 685 210 699 258 q 655 106 671 161 q 625 -1 639 51 q 602 -92 611 -53 q 593 -146 593 -131 q 581 -190 593 -179 q 558 -206 569 -200 m 194 240 q 174 241 186 240 q 146 247 161 242 q 113 256 125 247 q 94 274 100 264 q 97 305 79 294 q 167 321 115 315 q 229 328 182 325 q 341 333 276 331 q 477 336 406 335 q 615 338 549 338 q 730 340 681 339 q 797 340 779 340 q 846 335 833 340 q 874 314 858 329 q 884 271 894 293 q 842 254 874 249 q 810 251 832 253 q 764 247 789 250 q 719 247 758 247 q 619 245 679 246 q 491 244 558 244 q 360 242 424 243 q 253 241 297 242 q 194 240 208 240 m 214 -206 q 167 -192 188 -212 q 139 -131 147 -171 q 142 -39 131 -90 q 153 -6 149 -22 q 157 19 157 10 q 171 69 160 31 q 198 157 182 107 q 230 256 214 207 q 258 340 246 306 q 272 378 269 374 q 282 388 278 378 q 286 407 286 397 q 291 432 286 418 q 301 451 296 446 q 305 467 301 458 q 308 482 308 476 q 312 493 308 488 q 315 504 315 499 q 341 562 324 519 q 381 662 358 604 q 428 781 404 719 q 472 899 451 843 q 506 990 493 954 q 518 1032 518 1026 q 533 1055 518 1043 q 560 1067 549 1067 q 570 1072 564 1071 q 582 1074 576 1074 q 588 1068 582 1074 q 604 1051 593 1063 q 628 1023 615 1042 q 640 988 640 1004 q 636 956 640 969 q 619 915 632 942 q 581 833 607 889 q 564 794 576 822 q 537 732 551 767 q 508 665 522 697 q 484 610 493 632 q 475 585 475 588 q 470 568 475 579 q 460 540 465 557 q 444 508 454 529 q 424 462 435 486 q 407 420 414 438 q 400 400 400 403 q 399 389 400 394 q 393 378 399 383 q 387 370 388 378 q 386 363 386 363 q 364 289 386 349 q 340 210 354 258 q 310 106 326 161 q 281 -1 294 51 q 258 -92 267 -53 q 249 -146 249 -131 q 237 -190 249 -179 q 214 -206 225 -200 m 279 519 q 258 520 271 519 q 231 526 246 521 q 198 534 210 526 q 181 551 186 542 q 183 583 165 572 q 251 600 200 594 q 314 607 267 604 q 426 612 361 610 q 563 615 492 614 q 701 617 635 617 q 816 619 767 618 q 883 619 865 619 q 932 614 919 619 q 960 593 944 608 q 969 550 981 572 q 926 533 958 528 q 896 531 917 532 q 850 526 875 529 q 805 526 844 526 q 705 524 765 525 q 576 523 644 524 q 445 522 508 522 q 338 520 382 521 q 279 519 293 519 z "}},MZ="Caveat",EZ=1333,wZ=-417,TZ=-104,CZ=69,bZ={yMin:-437,xMin:-164,yMax:1353,xMax:1739},PZ=1e3,RZ={format:0,copyright:"Copyright 2014 The Caveat Project Authors (https://github.com/googlefonts/caveat)",fontFamily:"Caveat",fontSubfamily:"Bold",uniqueID:"2.000;CYRE;Caveat-Bold",fullName:"Caveat Bold",version:"Version 2.000",postScriptName:"Caveat-Bold",manufacturer:"Pablo Impallari",designer:"Pablo Impallari",manufacturerURL:"http://www.impallari.com",designerURL:"http://www.impallari.com",licence:"This Font Software is licensed under the SIL Open Font License, Version 1.1. This license iavailable with a FAQ at:http://scripts.sil.org/OFL",licenceURL:"http://scripts.sil.org/OFL",unknown1:"CaveatRoman",unknown2:"Weight",unknown3:"Regular",unknown4:"Bold",unknown5:"CaveatRoman-Regular",unknown6:"CaveatRoman-Bold"},BZ="bold",IZ="normal",LZ={glyphs:SZ,familyName:MZ,ascender:EZ,descender:wZ,underlinePosition:TZ,underlineThickness:CZ,boundingBox:bZ,resolution:PZ,original_font_information:RZ,cssFontWeight:BZ,cssFontStyle:IZ},DZ=()=>J.jsxs(J.Fragment,{children:[J.jsx("ambientLight",{intensity:3}),J.jsx("pointLight",{args:[11183811,4],position:[.4,0,-.8]})]}),FZ=({isMobile:n,...e})=>{const{nodes:t,materials:i}=Hl("/second-portfolio/mac_book/model.glb"),[r,s]=k.useState(!0);return J.jsx(J.Fragment,{children:J.jsxs(uQ,{global:!0,rotation:[.13,.1,0],polar:[-.4,.2],azimuth:[-.5,.75],config:{mass:2,tension:400},snap:{mass:4,tension:400},children:[J.jsxs("group",{...e,dispose:null,children:[J.jsx("mesh",{geometry:t.Macbook.geometry,material:i.PaletteMaterial001,position:n?[.3,-.5,-.36]:[0,-.5,-.285],scale:n?.7:.95,children:J.jsxs(QP,{transform:!0,distanceFactor:.74,position:n?[-.003,.07,-.7]:[-.006,.05,-.71],"rotation-x":-.256,children:[J.jsx("iframe",{className:"w-[1024px] h-[690px] border-none rounded-[20px] bg-black",style:{display:r?"none":"block"},src:"https://charactermi.github.io/portfolio",onLoad:()=>s(!1)}),r&&J.jsx("p",{className:"text-4xl rotate-2",children:"Loading the website..."})]})}),J.jsx("mesh",{geometry:t.Top.geometry,material:i.PaletteMaterial001,position:n?[.301,-.45,-.85]:[.001,-.45,-.945],rotation:[1.311,0,0],scale:n?.7:.95})]}),J.jsxs(iZ,{font:LZ,scale:n?.15:.25,position:n?[1,-.5,-.7]:[1.1,-.6,-.9],"rotation-y":-1.5,textAlign:"center",color:"#aaa6c3",receiveShadow:!0,castShadow:!0,children:["#opentowork",J.jsx("meshBasicMaterial",{color:"#aaa6c3"})]})]})})},NZ=()=>{const[n,e]=k.useState(!1);return k.useEffect(()=>{const t=window.matchMedia("(max-width: 650px)");e(t.matches);const i=r=>{e(r.matches)};return t.addEventListener("change",i),()=>{t.removeEventListener("change",i)}},[]),J.jsx(KP,{frameloop:"demand",camera:{position:[-2,.9,3],fov:50},gl:{preserveDrawingBuffer:!0},className:"touch-none",children:J.jsxs(k.Suspense,{fallback:J.jsx(WR,{}),children:[J.jsx(DZ,{}),J.jsx(FZ,{isMobile:n})]})})};Hl.preload("/second-portfolio/mac_book/model.glb");const OZ=()=>{const n=k.useRef(),[e,t]=k.useState({name:"",email:"",message:""}),[i,r]=k.useState(!1),s=a=>{const{name:l,value:c}=a.target;t({...e,[l]:c})},o=a=>{if(a.preventDefault(),e.name&&e.email&&/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,})+$/.test(e.email)&&e.message){const l=document.querySelector(".alert");r(!0),oH.send("service_qtevhe2","template_bf0py78",{from_name:e.name,to_name:"Abolfazl",from_email:e.email,to_email:"abolfazl2007fx@gmail.com",message:e.message},"w-gKHjzOwZVn67NV-").then(()=>{r(!1),l.innerHTML="Thank you ! I will get back to you as soon as possible.",l.classList.add("alert_box_animation"),n.current.setAttribute("disabled",!0),setTimeout(()=>{l.classList.remove("alert_box_animation"),n.current.removeAttribute("disabled")},8e3),t({name:"",email:"",message:""})},c=>{r(!1),l.innerHTML="Something went wrong.",l.classList.add("alert_box_animation"),n.current.setAttribute("disabled",!0),setTimeout(()=>{l.classList.remove("alert_box_animation"),n.current.removeAttribute("disabled")},8e3),console.log(c)})}};return J.jsxs("div",{className:"xl:mt-12 xl:flex-row flex-col-reverse flex overflow-hidden",children:[J.jsxs(Yt.div,{initial:A_("left"),whileInView:S_("tween",.2,1),className:"flex-[0.75] bg-black-100 py-8 px-4 sm:px-8 rounded-2xl",children:[J.jsx(ha,{text:"Get in touch",textStyle:"sectionSubText"}),J.jsx(ha,{text:"Contact.",textStyle:"sectionHeadText"}),J.jsxs("form",{onSubmit:o,className:"mt-12 flex flex-col gap-8",autoComplete:"off",children:[J.jsxs("label",{className:"flex flex-col relative contact-form__label",children:[J.jsx("span",{className:"text-white font-medium mb-4",children:"Your Name ?"}),J.jsx("div",{"aria-hidden":!0,className:"green-pink-gradient rounded-lg -z-10 focus-within:scale-105 w-full h-[calc(100%-2.5rem)] absolute left-0 bottom-0 duration-300"}),J.jsx("input",{type:"text",name:"name",placeholder:"What's your name ?",className:"bg-tertiary py-4 px-6 placeholder:text-secondary text-white rounded-lg outlined-none border-none font-medium",value:e.name,onChange:s})]}),J.jsxs("label",{className:"flex flex-col relative contact-form__label",children:[J.jsx("span",{className:"text-white font-medium mb-4",children:"Your Email ?"}),J.jsx("div",{"aria-hidden":!0,className:"green-pink-gradient rounded-lg -z-10 focus-within:scale-105 w-full h-[calc(100%-2.5rem)] absolute left-0 bottom-0 duration-300"}),J.jsx("input",{type:"email",name:"email",placeholder:"What's your email ?",className:"bg-tertiary py-4 px-6 placeholder:text-secondary text-white rounded-lg outlined-none border-none font-medium",value:e.email,onChange:s})]}),J.jsxs("label",{className:"flex flex-col relative contact-form__label",children:[J.jsx("span",{className:"text-white font-medium mb-4",children:"Your Message ?"}),J.jsx("div",{"aria-hidden":!0,className:"green-pink-gradient rounded-lg -z-10 focus-within:scale-105 w-full h-[calc(100%-2.5rem)] absolute left-0 bottom-0 duration-300"}),J.jsx("textarea",{rows:"7",name:"message",placeholder:"What do you want to say ?",className:"bg-tertiary py-4 px-6 placeholder:text-secondary text-white rounded-lg outlined-none border-none font-medium",value:e.message,onChange:s})]}),J.jsxs("div",{className:"flex justify-between items-center",children:[J.jsx("button",{type:"submit",className:"py-3 px-8 outlined-none w-fit bg-tertiary text-white font-bold shadow-md shadow-primary rounded-md disabled:opacity-50 focus:scale-95",ref:n,children:i?"Sending ...":"Send"}),J.jsx("div",{className:"flex justify-evenly w-[150px] h-auto",children:Uw.map(a=>J.jsx("a",{href:a.link,className:`w-10 h-10 sm:w-12 sm:h-12 rounded-full relative focus:-translate-y-1 ${a.title==="Git hub"&&"after:bg-white after:w-[78%] after:h-[78%] after:absolute after:rounded-full after:top-1/2 after:-translate-x-1/2 after:left-1/2 after:-translate-y-1/2 after:-z-[1]"}`,target:"_blank",rel:"noopener noreferrer",children:J.jsx("img",{alt:a.title,className:"object-contain",src:a.image})},a.link))})]})]})]}),J.jsx(Yt.div,{initial:A_("right"),whileInView:S_("tween",.2,1),className:"xl:flex-1 xl:h-auto md:h-[550px] h-[350px] cursor-grab",children:J.jsx(AZ,{})})]})},UZ=vd(OZ,"contact"),kZ=()=>{const n=k.useRef(null),e=k.useRef([]),{scrollYProgress:t}=K2({target:n,offset:["start end","start -0.2"]});return k.useEffect(()=>{t.on("change",i=>{e.current.forEach((r,s)=>{r.setAttribute("startOffset",-30+s*40+i*40+"%")})})},[]),J.jsx("div",{ref:n,className:"block md:hidden",children:J.jsxs("svg",{viewBox:"0 0 250 90",className:"fill-primary",children:[J.jsx("path",{id:"path",d:"m0,88.5c61.37,0,61.5-68,126.5-68,58,0,51,68,123,68"}),J.jsx("text",{className:"text-[9px] fill-secondary uppercase",children:[...Array(3)].map((i,r)=>J.jsx("textPath",{className:"transition",ref:s=>e.current[r]=s,href:"#path",startOffset:r*40+"%",children:"Abolfazl Taghadosi"},r))})]})})},HZ=()=>{const n=k.useRef([]),e=i=>{var r,s,o,a,l,c,h,d,p,m,v,S,_,g,x,A,E,T,C,R;i.target.classList.add("font-black"),(r=i.target.nextElementSibling)==null||r.classList.add("font-extrabold"),(o=(s=i.target.nextElementSibling)==null?void 0:s.nextElementSibling)==null||o.classList.add("font-bold"),(c=(l=(a=i.target.nextElementSibling)==null?void 0:a.nextElementSibling)==null?void 0:l.nextElementSibling)==null||c.classList.add("font-medium"),(m=(p=(d=(h=i.target.nextElementSibling)==null?void 0:h.nextElementSibling)==null?void 0:d.nextElementSibling)==null?void 0:p.nextElementSibling)==null||m.classList.add("font-normal"),(v=i.target.previousElementSibling)==null||v.classList.add("font-extrabold"),(_=(S=i.target.previousElementSibling)==null?void 0:S.previousElementSibling)==null||_.classList.add("font-bold"),(A=(x=(g=i.target.previousElementSibling)==null?void 0:g.previousElementSibling)==null?void 0:x.previousElementSibling)==null||A.classList.add("font-medium"),(R=(C=(T=(E=i.target.previousElementSibling)==null?void 0:E.previousElementSibling)==null?void 0:T.previousElementSibling)==null?void 0:C.previousElementSibling)==null||R.classList.add("font-normal")},t=i=>{var r,s,o,a,l,c,h,d,p,m,v,S,_,g,x,A,E,T,C,R;i.target.classList.remove("font-black"),(r=i.target.nextElementSibling)==null||r.classList.remove("font-extrabold"),(o=(s=i.target.nextElementSibling)==null?void 0:s.nextElementSibling)==null||o.classList.remove("font-bold"),(c=(l=(a=i.target.nextElementSibling)==null?void 0:a.nextElementSibling)==null?void 0:l.nextElementSibling)==null||c.classList.remove("font-medium"),(m=(p=(d=(h=i.target.nextElementSibling)==null?void 0:h.nextElementSibling)==null?void 0:d.nextElementSibling)==null?void 0:p.nextElementSibling)==null||m.classList.remove("font-normal"),(v=i.target.previousElementSibling)==null||v.classList.remove("font-extrabold"),(_=(S=i.target.previousElementSibling)==null?void 0:S.previousElementSibling)==null||_.classList.remove("font-bold"),(A=(x=(g=i.target.previousElementSibling)==null?void 0:g.previousElementSibling)==null?void 0:x.previousElementSibling)==null||A.classList.remove("font-medium"),(R=(C=(T=(E=i.target.previousElementSibling)==null?void 0:E.previousElementSibling)==null?void 0:T.previousElementSibling)==null?void 0:C.previousElementSibling)==null||R.classList.remove("font-normal")};return k.useEffect(()=>(n.current.forEach(i=>{i.addEventListener("mouseover",e),i.addEventListener("mouseleave",t)}),()=>{n.current.forEach(i=>{i.removeEventListener("mouseover",e),i.removeEventListener("mouseleave",t)})}),[]),J.jsx("div",{className:"h-[60px] bg-primary/10 border-t border-primary/30 flex justify-center items-center",children:J.jsxs("h3",{className:"text-secondary flex items-center xs:text-[18px] text-[14px]",children:["Made with"," ",J.jsx("img",{src:UD,alt:"Love",className:"w-[30px] h-[30px] object-contain"})," ","by",J.jsx("p",{className:"ml-1 flex gap-x-[1px]",children:"Abolfazl Taghadosi".split("").map((i,r)=>J.jsx("span",{ref:s=>n.current[r]=s,className:"orange-text-gradient",children:i},r))})]})})},zZ=()=>{const n="I develop 3D visuals, user interfaces and web applications";return J.jsxs("section",{className:"relative w-full h-screen mx-auto",children:[J.jsxs("div",{className:`${su.paddingX} absolute inset-0 top-[120px] max-w-7xl mx-auto flex flex-row items-start gap-5`,children:[J.jsxs("div",{className:"flex flex-col justify-center items-center mt-5",children:[J.jsx(Yt.div,{className:"w-5 h-5 rounded-full bg-[#915eff]",variants:cC,initial:"initial",animate:"start"}),J.jsx(Yt.div,{variants:uC,custom:1,initial:"initial",animate:"start",className:"w-1 sm:h-80 h-40 violet-gradient origin-top"})]}),J.jsxs("div",{children:[J.jsxs(Yt.h1,{className:`${su.heroHeadText} text-white`,variants:Wk,initial:"initial",animate:"start",children:["Hi, I'm ",J.jsx("span",{className:"text-[#915eff]",children:"Abolfazl"})]}),J.jsx("div",{className:`${su.heroSubText} mt-2 text-white-100 max-w-lg flex gap-1 sm:gap-2 flex-wrap`,children:n.split(" ").map((e,t)=>J.jsx(Yt.p,{className:"lg:h-[40px] sm:h-[36px] xs:h-[30px] h-[26px] overflow-hidden",variants:jk,initial:"initial",animate:"start",custom:t,children:J.jsx("span",{children:e})},e))})]})]}),J.jsx(Yt.section,{initial:{opacity:0,display:"none"},animate:{opacity:1,display:"inherit"},transition:{delay:3},className:"w-full h-full",children:J.jsx(NZ,{})}),J.jsxs("a",{className:"absolute xs:bottom-10 bottom-32 w-full flex justify-center items-center gap-x-2 focus:-translate-y-2",href:"#about",children:[J.jsx(Yt.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:3.5,duration:1},className:"w-[25px] h-[54px] rounded-3xl border-4 border-secondary flex justify-center items-start p-1",children:J.jsx(Yt.div,{animate:{y:[0,28,0]},transition:{duration:1.5,repeat:1/0,repeatType:"loop"},className:"w-2 h-2 rounded-full bg-secondary mb-10"})}),J.jsx(Yt.h5,{className:"text-secondary text-lg font-black origin-left",variants:fC,initial:"initial",animate:"enter",exit:"exit",custom:4,children:"Click to scroll"})]})]})},GZ=()=>J.jsx("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden opacity-90",children:[...Array(15).keys()].map(n=>{const e=Math.round(Math.random()*100),t=Math.round(Math.random()*100);return J.jsx("div",{className:"star w-1 h-1 bg-white absolute rotate-45 rounded-full after:absolute after:w-[2px] after:h-40 after:bg-gradient-to-t after:from-white after:to-transparent after:bottom-full after:left-1/2 after:-translate-x-1/2 before:absolute before:inset-0 before:rounded-full before:scale-[8]",style:{top:n%2?"0%":`${e}%`,right:n%2?`${t}%`:"0%",animationDelay:`${n*1}s`,MozAnimationDelay:`${n*1}s`,WebkitAnimationDelay:`${n*1}s`,opacity:0}},n)})}),VZ=({children:n})=>{const e=k.useRef(null),[t,i]=k.useState({x:0,y:0}),r=s=>{if(!e.current)return;const{clientX:o,clientY:a}=s,{height:l,width:c,left:h,top:d}=e.current.getBoundingClientRect(),p=o-(h+c/2),m=a-(d+l/2);i({x:p*.1,y:m*.1})};return J.jsx(Yt.div,{className:"relative",ref:e,onMouseMove:r,onMouseLeave:()=>i({x:0,y:0}),animate:t,transition:{type:"spring",stiffness:350,damping:5,mass:.5},children:n})},gM=`M100 0 L100 ${window.innerHeight} Q-100 ${window.innerHeight/2} 100 0`,WZ=`M100 0 L100 ${window.innerHeight} Q100 ${window.innerHeight/2} 100 0`,jZ={initial:{d:gM},enter:{d:WZ,transition:{duration:1,ease:[.76,0,.24,1]}},exit:{d:gM,transition:{duration:1,ease:[.76,0,.24,1]}}},qZ=()=>J.jsx("svg",{className:"absolute top-0 left-[-99px] w-[100px] h-full fill-tertiary stroke-none",children:J.jsx(Yt.path,{variants:jZ,initial:"initial",animate:"enter",exit:"exit"})}),XZ=({setToggle:n})=>J.jsxs(Yt.aside,{variants:Kk,initial:"initial",animate:"enter",exit:"exit",className:"fixed right-0 top-0 z-[100000000] h-screen black-gradient text-white w-full sm:w-[400px]",children:[J.jsxs("div",{className:"flex flex-col text-xl mt-20 w-full p-8 h-[calc(100%-80px)] justify-between",children:[J.jsxs("div",{className:"flex flex-col gap-y-14",children:[J.jsx("p",{className:"border-b pb-4 w-full",children:"Abolfazl Taghadosi"}),J.jsx("div",{className:"flex flex-col gap-y-3 text-4xl font-thin",children:Ow.map((e,t)=>J.jsx(Yt.a,{variants:M_,custom:t,initial:"initial",animate:"enter",exit:"exit",href:e.id,onClick:()=>n(!1),className:"hover:text-white text-secondary font-poppins font-medium",children:e.title},e.id))})]}),J.jsx("div",{className:"w-full flex justify-between items-center",children:Uw.slice(0,2).map((e,t)=>J.jsx(Yt.a,{href:e.link,target:"_blank",rel:"noopener noreferrer",variants:M_,custom:t+3,children:e.title},e.link))})]}),J.jsx(qZ,{})]}),JZ=({toggle:n,setToggle:e})=>J.jsxs("div",{className:"md:hidden flex flex-1 justify-end items-center",children:[J.jsx("div",{className:`w-10 h-10 z-[100000001] relative after:block after:w-[80%] after:bg-white after:absolute after:top-[40%] after:left-1/2 after:-translate-x-1/2 after:h-[2px] after:m-auto before:block before:w-[80%] before:bg-white before:absolute before:top-[60%] before:left-1/2 before:-translate-x-1/2 before:h-[2px] before:m-auto after:transition before:transition ${n&&"sidebarOpen after:rotate-45 before:-rotate-45"}`,onClick:()=>e(t=>!t)}),J.jsx(JU,{mode:"wait",children:n&&J.jsx(XZ,{setToggle:e})})]}),KZ=()=>{const{scrollY:n}=K2(),[e,t]=k.useState(!1),[i,r]=k.useState(!1);return ek(n,"change",s=>{const o=n.getPrevious();s>o&&s>window.innerHeight&&!i?t(!0):t(!1)}),J.jsx(Yt.nav,{className:`${su.paddingX} w-full flex items-center py-5 bg-primary/90 backdrop-blur-sm fixed top-0 left-0 z-[100000000] transition`,initial:"initial",animate:"enter",variants:Xk,style:{translateY:e?"-100%":0},children:J.jsxs("div",{className:"w-full flex items-center justify-between max-w-7xl mx-auto",children:[J.jsxs("div",{className:"flex items-center gap-2",children:[J.jsx("img",{src:cD,alt:"logo",className:"w-9 h-9 object-contain"}),J.jsxs("p",{className:"text-white text-[18px] font-bold cursor-pointer",children:[J.jsx("span",{className:"text-[#ED1703] text-[22px]",children:"A"}),"bolfazl"]})]}),J.jsx("ul",{className:"list-none hidden md:flex flex-row gap-10",children:Ow.map(s=>J.jsx(VZ,{children:J.jsx("li",{className:"text-secondary hover:text-white text-[18px] font-medium cursor-pointer duration-200",children:J.jsx("a",{href:s.id,children:s.title})})},s.id))}),J.jsx(JZ,{toggle:i,setToggle:r})]})})},YZ=()=>J.jsxs("section",{className:"relative",children:[J.jsx(Yt.div,{className:"h-full w-1 bg-white absolute top-0 left-[23px] sm:left-[25px] md:left-[27px] min-[1170px]:left-1/2 min-[1170px]:-translate-x-1/2 origin-top",variants:uC,initial:"initial",whileInView:"start",exit:"exit"}),J.jsx("div",{className:"w-full h-full flex flex-col gap-y-8 py-8 overflow-hidden",children:zD.map((n,e)=>J.jsx(QZ,{...n,index:e},n.title))})]}),QZ=({title:n,languages_name:e,icon:t,iconBg:i,date:r,index:s})=>{const[o,a]=k.useState(window.innerWidth),l=h=>a(h.target.innerWidth),c=h=>{switch(h){case"direction":return{direction:o<1170||s%2===0?"ltr":"rtl"};case"border":return o<1170?{borderLeft:"2px solid #aaa6c3"}:s%2===0?{borderRight:"2px solid #aaa6c3"}:{borderLeft:"2px solid #aaa6c3"};case"arrow":return o<1170?{borderLeft:"none",right:"100%"}:s%2===0?{borderRight:"none",left:"100%"}:{borderLeft:"none",right:"100%"};case"date":return o<1170?{display:"none"}:s%2===0?{left:"125%"}:{right:"125%"};default:return}};return k.useEffect(()=>(window.addEventListener("resize",l),()=>window.removeEventListener("resize",l)),[]),J.jsxs("div",{style:c("direction"),className:"w-full flex flex-row-reverse justify-between items-center min-[1170px]:px-10 min-[1170px]:flex-row gap-8",children:[J.jsxs(Yt.div,{className:"w-full min-[1170px]:w-[430px] bg-tertiary p-4 sm:p-8 rounded-md border-b-4 relative",style:c("border"),initial:hC(o<1170||s%2?"left":"right"),whileInView:dC("spring",.5+s*.05,.75),children:[J.jsx("h2",{className:"text-2xl font-bold mb-2",children:n}),J.jsx("h5",{className:"text-secondary",children:e}),J.jsx("h6",{className:"text-secondary text-sm mt-4 font-bold block min-[1170px]:hidden",children:r}),J.jsx("div",{className:"border-8 border-secondary border-y-primary absolute top-1/3",style:c("arrow")})]}),J.jsxs(Yt.div,{className:"aspect-square w-16 rounded-full border-4 z-10 -mt-8 flex justify-center items-center relative whitespace-nowrap",style:{backgroundColor:i},variants:cC,custom:.5,initial:"initial",whileInView:"start",exit:"exit",children:[J.jsx("img",{src:t,alt:n,className:"w-2/3 h-2/3 object-contain"}),J.jsx("div",{className:"absolute",style:c("date"),children:r})]}),J.jsx("div",{className:"w-full xs:w-[430px] opacity-0 hidden min-[1170px]:block",children:n})]})},ZZ=()=>J.jsxs(J.Fragment,{children:[J.jsxs("div",{children:[J.jsx(ha,{text:"What technologies have I worked with ?",textStyle:"sectionSubText"}),J.jsx(ha,{text:"My Skills.",textStyle:"sectionHeadText"})]}),J.jsx(YZ,{})]}),$Z=vd(ZZ,"skills"),e$=()=>J.jsx("div",{className:"flex flex-row flex-wrap justify-center gap-10",children:HD.map((n,e)=>J.jsx("div",{className:"w-28 h-28",style:{perspective:"120px",WebkitPerspective:"120px",MozPerspective:"120px",perspectiveOrigin:"top",WebkitPerspectiveOrigin:"top",MozPerspectiveOrigin:"top"},children:J.jsx(Yt.div,{className:"p-3 rounded-full bg-white overflow-hidden w-full h-full flex items-center justify-center",variants:qk,initial:"initial",whileInView:"enter",exit:"exit",custom:e,children:J.jsx("img",{src:n.icon,alt:n.name,style:{filter:`drop-shadow(0 15px 10px ${n.shadow})`,msFilter:`drop-shadow(0 15px 10px ${n.shadow})`,WebkitFilter:`drop-shadow(0 15px 10px ${n==null?void 0:n.shadow})`}})})},e))}),t$=vd(e$,""),n$=({title:n,icon:e,index:t})=>{const i={x:kh(0),y:kh(0)},r={x:f_(i.x),y:f_(i.y)},s=r2(r.y,[-.5,.5],["17.5deg","-17.5deg"]),o=r2(r.x,[-.5,.5],["17.5deg","-17.5deg"]),a=c=>{const{width:h,height:d,left:p,top:m}=c.target.getBoundingClientRect(),v=c.clientX-p,S=c.clientY-m,_=v/h-.5,g=S/d-.5;i.x.set(_),i.y.set(g)},l=()=>{i.x.set(0),i.y.set(0)};return J.jsxs(Yt.div,{className:"relative w-full rounded-xl shadow-card min-h-[280px] cursor-pointer",style:{transformStyle:"preserve-3d",WebkitTransformStyle:"preserve-3d",MozTransformStyle:"preserve-3d",rotateX:s,rotateY:o},onMouseMove:a,onMouseLeave:l,variants:fC,custom:t*.1,initial:"initial",whileInView:"enter",exit:"exit",children:[J.jsx("div",{className:"absolute top-0 left-0 w-full h-full green-pink-gradient rounded-xl"}),J.jsxs("div",{className:"absolute inset-[2px] rounded-xl bg-tertiary shadow-lg py-5 px-12 flex justify-evenly items-center flex-col",style:{transform:"translateZ(25px)",WebkitTransform:"translateZ(25px)",msTransform:"translateZ(25px)",MozTransform:"translateZ(25px)",transformStyle:"preserve-3d",WebkitTransformStyle:"preserve-3d",MozTransformStyle:"preserve-3d"},children:[J.jsx("img",{src:e,alt:n,className:"w-16 h-16 object-contain",style:{transform:"translateZ(50px)",WebkitTransform:"translateZ(50px)",msTransform:"translateZ(50px)",MozTransform:"translateZ(50px)"}}),J.jsx("h3",{className:"text-white text-[20px] font-bold text-center green-pink-text-gradient",style:{transform:"translateZ(50px)",WebkitTransform:"translateZ(50px)",msTransform:"translateZ(50px)",MozTransform:"translateZ(50px)"},children:n})]})]})},qR=({text:n})=>{const e=k.useRef(null),{scrollYProgress:t}=K2({target:e,offset:["start 0.9","start 0.25"]}),i=n.split(" ");return J.jsx("p",{className:"flex flex-wrap leading-6 gap-1",ref:e,style:{opacity:t},children:i.map((r,s)=>{const o=s/i.length,a=o+1/i.length;return J.jsx(i$,{word:r,range:[o,a],progress:t},s)})})},i$=({word:n,range:e,progress:t})=>{const i=r2(t,e,[0,1]);return J.jsxs("span",{className:"relative",children:[J.jsx("span",{className:"absolute opacity-25",children:n}),J.jsx(Yt.span,{style:{opacity:i},children:n})]})},r$=({index:n,active:e,setActive:t,name:i,description:r,tags:s,image:o,source_code_link:a,live_site:l})=>J.jsx(Yt.div,{initial:hC("up"),whileInView:dC("spring",n*.05,.75),className:"md:h-[420px]",style:{zIndex:10-n},children:J.jsxs("div",{className:"bg-tertiary p-5 rounded-2xl sm:w-[360px] w-full",children:[J.jsxs("div",{className:"relative w-full h-auto",children:[J.jsx("img",{src:o,alt:i,className:"w-full h-auto object-cover rounded-2xl"}),J.jsxs("div",{className:"absolute inset-0 gap-2 flex m-1 card-img_hover justify-end",children:[J.jsx("div",{onClick:()=>window.open(l,"_blank"),className:"black-gradient w-10 h-10 rounded-full flex justify-center items-center cursor-pointer relative after:bg-white after:w-[40%] after:h-[40%] after:absolute after:rounded-full",children:J.jsx("img",{src:pD,alt:"Live",className:"w-1/2 h-1/2 object-contain z-[1]"})}),J.jsx("div",{onClick:()=>window.open(a,"_blank"),className:"black-gradient w-10 h-10 rounded-full flex justify-center items-center cursor-pointer relative after:bg-white after:w-1/2 after:h-1/2 after:absolute after:rounded-full",children:J.jsx("img",{src:Rw,alt:"Github",className:"w-2/3 h-2/3 object-contain z-[1]"})})]})]}),J.jsxs("div",{className:"mt-5 relative duration-200 dropdown",children:[J.jsx("h3",{className:"text-white font-bold text-[24px]",children:i}),J.jsx("p",{className:`mt-2 text-secondary text-[14px] transition-all text-justify leading-5 duration-300 ${e===i?"line-clamp-none":"line-clamp-2"}`,children:r}),J.jsx("div",{className:`w-full h-[60%] bottom-0 tertiary-dropdown_gradient absolute transition-all ${e===i?"opacity-0":"opacity-100"}`}),J.jsx("img",{src:Nw,className:`w-[30px] h-[30px] absolute left-[50%] transition-all duration-300 ${e===i?"bottom-[-1.5rem]":"bottom-[-1rem]"} cursor-pointer translate-x-[-50%] ${e===i?"rotate-0":"rotate-180"} `,alt:"drop_down",onClick:()=>t(c=>c===i?"none":i)})]}),J.jsx("div",{className:"mt-5 flex flex-wrap gap-2",children:s.map((c,h)=>J.jsxs("p",{className:`text-[14px] ${c.color}`,children:["#",c.name]},h))})]})}),s$=()=>{const[n,e]=k.useState("none");return J.jsxs(J.Fragment,{children:[J.jsxs("div",{children:[J.jsx(ha,{text:"My Works",textStyle:"sectionSubText"}),J.jsx(ha,{text:"Projects.",textStyle:"sectionHeadText"})]}),J.jsx("div",{className:"w-full flex",children:J.jsx("div",{className:"mt-3 text-secondary text-[17px] max-w-3xl leading-[30px]",children:J.jsx(qR,{text:"Following projects showcases my skills and experience through real-world examples of my work. Each project is briefly described with links to code repositories and live demos in it. It  reflects my ability to solve complex problems, work with different technologies, and manage projects  effectively."})})}),J.jsx("div",{className:"mt-20 flex flex-wrap gap-7",children:GD.map((t,i)=>J.jsx(r$,{active:n,setActive:e,...t,index:i},i))})]})},o$=vd(s$,"projects"),a$=()=>J.jsxs("div",{className:"relative z-0 bg-primary overflow-x-hidden",children:[J.jsx("div",{className:"alert fixed w-[100%] sm:w-[400px] md:w-[600px] tertiary-gradient z-[500] top-0 sm:top-[2rem] right-[-100%] p-8 text-white duration-500 text-[24px] rounded-0 sm:rounded-[20px] shadow-alert"}),J.jsxs("header",{className:"bg-hero-pattern bg-cover bg-no-repeat bg-center",children:[J.jsx(KZ,{}),J.jsx("div",{className:"h-[80px]"}),J.jsx(zZ,{})]}),J.jsx(Qk,{}),J.jsx($Z,{}),J.jsx(t$,{}),J.jsx(o$,{}),J.jsx(kZ,{}),J.jsxs("section",{className:"relative z-0",children:[J.jsx(GZ,{}),J.jsx(UZ,{}),J.jsx(Zk,{}),J.jsxs("footer",{className:"relative",children:[J.jsx(HZ,{}),J.jsx($k,{})]})]})]});N4(document.getElementById("root")).render(J.jsx(a$,{}));
